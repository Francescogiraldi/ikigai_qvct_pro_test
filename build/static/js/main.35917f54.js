/*! For license information please see main.35917f54.js.LICENSE.txt */
(()=>{var e={293:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var r=n(5043);const s=n(4735).B?r.useLayoutEffect:r.useEffect},400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},579:(e,t,n)=>{"use strict";e.exports=n(1153)},1051:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});const r=(0,n(5043).createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"})},1153:(e,t,n)=>{"use strict";var r=n(5043),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},1210:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(8829)),i=r(n(5736)),o=n(5745);class a{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new s.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new a(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:s=!1,count:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(t=r?"HEAD":"GET",Object.entries(n).filter((e=>{let[t,n]=e;return void 0!==n})).map((e=>{let[t,n]=e;return[t,Array.isArray(n)?`{${n.join(",")}}`:`${n}`]})).forEach((e=>{let[t,n]=e;a.searchParams.append(t,n)}))):(t="POST",l=n);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new i.default({method:t,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=a},2190:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r=(0,n(5043).createContext)({})},2611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},2730:(e,t,n)=>{"use strict";var r=n(5043),s=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,s,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var D,L=Object.assign;function $(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),i=r.stack.split("\n"),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(1!==o||1!==a)do{if(o--,0>--a||s[o]!==i[a]){var l="\n"+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function B(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function F(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case k:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:F(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return F(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Q(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,_e=null;function ke(e){if(e=bs(e)){if("function"!==typeof Ee)throw Error(i(280));var t=e.stateNode;t&&(t=ws(t),Ee(e.stateNode,e.type,t))}}function je(e){Se?_e?_e.push(e):_e=[e]:Se=e}function Ce(){if(Se){var e=Se,t=_e;if(_e=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ne(e,t){return e(t)}function Te(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ne(e,t,n)}finally{Ae=!1,(null!==Se||null!==_e)&&(Te(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=ws(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(u)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ue){Re=!1}function Me(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Le=null,$e=!1,Ue=null,ze={onError:function(e){De=!0,Le=e}};function Be(e,t,n,r,s,i,o,a,l){De=!1,Le=null,Me.apply(ze,arguments)}function Fe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Fe(e)!==e)throw Error(i(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Fe(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(r=s.return)){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return qe(s),e;if(o===r)return qe(s),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=s.unstable_scheduleCallback,Je=s.unstable_cancelCallback,Ke=s.unstable_shouldYield,Ye=s.unstable_requestPaint,Qe=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~s;0!==a?r=dt(a):0!==(i&=o)&&(r=dt(i))}else 0!==(o=n&~s)?r=dt(o):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-ot(t)),r|=e[n],t&=~s;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,St,_t,kt,jt=!1,Ct=[],Nt=null,Tt=null,At=null,Pt=new Map,Ot=new Map,Rt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Dt(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=bs(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Lt(e){var t=ys(e.target);if(null!==t){var n=Fe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void kt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function $t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bs(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ut(e,t,n){$t(e)&&n.delete(t)}function zt(){jt=!1,null!==Nt&&$t(Nt)&&(Nt=null),null!==Tt&&$t(Tt)&&(Tt=null),null!==At&&$t(At)&&(At=null),Pt.forEach(Ut),Ot.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,jt||(jt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,zt)))}function Ft(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Bt(Nt,e),null!==Tt&&Bt(Tt,e),null!==At&&Bt(At,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var Vt=x.ReactCurrentBatchConfig,qt=!0;function Gt(e,t,n,r){var s=bt,i=Vt.transition;Vt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=s,Vt.transition=i}}function Wt(e,t,n,r){var s=bt,i=Vt.transition;Vt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=s,Vt.transition=i}}function Ht(e,t,n,r){if(qt){var s=Kt(e,t,n,r);if(null===s)qr(e,t,r,Jt,n),Mt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Nt=Dt(Nt,e,t,n,r,s),!0;case"dragenter":return Tt=Dt(Tt,e,t,n,r,s),!0;case"mouseover":return At=Dt(At,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pt.set(i,Dt(Pt.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ot.set(i,Dt(Ot.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==s;){var i=bs(s);if(null!==i&&wt(i),null===(i=Kt(e,t,n,r))&&qr(e,t,r,Jt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Jt=null;function Kt(e,t,n,r){if(Jt=null,null!==(e=ys(e=we(r))))if(null===(t=Fe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,s="value"in Qt?Qt.value:Qt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===s[i-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=L({},cn,{view:0,detail:0}),hn=sn(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=sn(pn),mn=sn(L({},pn,{dataTransfer:0})),gn=sn(L({},dn,{relatedTarget:0})),vn=sn(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),xn=sn(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return _n}var jn=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(jn),Nn=sn(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=sn(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),An=sn(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(Pn),Rn=[9,13,27,32],In=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Dn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!In||Mn&&8<Mn&&11>=Mn),$n=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Gn(e,t,n,r){je(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Jn(e){$r(e,0)}function Kn(e){if(H(xs(e)))return e}function Yn(e,t){if("change"===e)return t}var Qn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Qn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&Kn(Hn)){var t=[];Gn(t,Hn,e,we(e)),Pe(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Hn)}function ir(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!d.call(t,s)||!ar(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ur(n,i);var o=ur(n,r);s&&o&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},_r={};function kr(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Sr[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var jr=kr("animationend"),Cr=kr("animationiteration"),Nr=kr("animationstart"),Tr=kr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),l(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Ir=Pr[Rr];Or(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Or(jr,"onAnimationEnd"),Or(Cr,"onAnimationIteration"),Or(Nr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,o,a,l,c){if(Be.apply(this,arguments),De){if(!De)throw Error(i(198));var u=Le;De=!1,Le=null,$e||($e=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function $r(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Lr(s,a,c),i=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Lr(s,a,c),i=l}}}if($e)throw e=Ue,$e=!1,Ue=null,e}function Ur(e,t){var n=t[ms];void 0===n&&(n=t[ms]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Yt(t)){case 1:var s=Gt;break;case 4:s=Wt;break;default:s=Ht}n=s.bind(null,t,n,e),s=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===s||8===a.nodeType&&a.parentNode===s)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;o=o.return}for(;null!==a;){if(null===(o=ys(a)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=i,s=we(n),o=[];e:{var a=Ar.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case jr:case Cr:case Nr:l=vn;break;case Tr:l=An;break;case"scroll":l=hn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Oe(f,h))&&u.push(Gr(f,m,p)))),d)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,s),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!ys(c)&&!c[fs])&&(l||a)&&(a=s.window===s?s:(a=s.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ys(c):null)&&(c!==(d=Fe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?a:xs(l),p=null==c?a:xs(c),(a=new u(m,f+"leave",l,n,s)).target=d,a.relatedTarget=p,m=null,ys(s)===r&&((u=new u(h,f+"enter",c,n,s)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Hr(p))f++;for(p=0,m=h;m;m=Hr(m))p++;for(;0<f-p;)u=Hr(u),f--;for(;0<p-f;)h=Hr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Hr(u),h=Hr(h)}u=null}else u=null;null!==l&&Jr(o,a,l,u,!1),null!==c&&null!==d&&Jr(o,d,c,u,!0)}if("select"===(l=(a=r?xs(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(qn(a))if(Qn)g=or;else{g=sr;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?Gn(o,g,n,s):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?xs(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,s);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(o,n,s)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Fn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Fn&&(y=en()):(Xt="value"in(Qt=s)?Qt.value:Qt.textContent,Fn=!0)),0<(v=Wr(r,b)).length&&(b=new xn(b,e,null,n,s),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,$n);case"textInput":return(e=t.data)===$n&&Un?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!In&&zn(e,t)?(e=en(),Zt=Xt=Qt=null,Fn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(s=new xn("onBeforeInput","beforeinput",null,n,s),o.push({event:s,listeners:r}),s.data=y))}$r(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Oe(e,n))&&r.unshift(Gr(e,i,s)),null!=(i=Oe(e,t))&&r.push(Gr(e,i,s))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,s){for(var i=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,s?null!=(l=Oe(n,i))&&o.unshift(Gr(n,l,a)):s||null!=(l=Oe(n,i))&&o.push(Gr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Kr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(i(425))}function Zr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,is="function"===typeof Promise?Promise:void 0,os="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof is?function(e){return is.resolve(null).then(e).catch(as)}:rs;function as(e){setTimeout((function(){throw e}))}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Ft(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Ft(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),hs="__reactFiber$"+ds,ps="__reactProps$"+ds,fs="__reactContainer$"+ds,ms="__reactEvents$"+ds,gs="__reactListeners$"+ds,vs="__reactHandles$"+ds;function ys(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=us(e);null!==e;){if(n=e[hs])return n;e=us(e)}return t}n=(e=n).parentNode}return null}function bs(e){return!(e=e[hs]||e[fs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ws(e){return e[ps]||null}var Es=[],Ss=-1;function _s(e){return{current:e}}function ks(e){0>Ss||(e.current=Es[Ss],Es[Ss]=null,Ss--)}function js(e,t){Ss++,Es[Ss]=e.current,e.current=t}var Cs={},Ns=_s(Cs),Ts=_s(!1),As=Cs;function Ps(e,t){var n=e.type.contextTypes;if(!n)return Cs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Os(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rs(){ks(Ts),ks(Ns)}function Is(e,t,n){if(Ns.current!==Cs)throw Error(i(168));js(Ns,t),js(Ts,n)}function Ms(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,V(e)||"Unknown",s));return L({},n,r)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cs,As=Ns.current,js(Ns,e),js(Ts,Ts.current),!0}function Ls(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ms(e,t,As),r.__reactInternalMemoizedMergedChildContext=e,ks(Ts),ks(Ns),js(Ns,e)):ks(Ts),js(Ts,n)}var $s=null,Us=!1,zs=!1;function Bs(e){null===$s?$s=[e]:$s.push(e)}function Fs(){if(!zs&&null!==$s){zs=!0;var e=0,t=bt;try{var n=$s;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}$s=null,Us=!1}catch(s){throw null!==$s&&($s=$s.slice(e+1)),He(Ze,Fs),s}finally{bt=t,zs=!1}}return null}var Vs=[],qs=0,Gs=null,Ws=0,Hs=[],Js=0,Ks=null,Ys=1,Qs="";function Xs(e,t){Vs[qs++]=Ws,Vs[qs++]=Gs,Gs=e,Ws=t}function Zs(e,t,n){Hs[Js++]=Ys,Hs[Js++]=Qs,Hs[Js++]=Ks,Ks=e;var r=Ys;e=Qs;var s=32-ot(r)-1;r&=~(1<<s),n+=1;var i=32-ot(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ys=1<<32-ot(t)+s|n<<s|r,Qs=i+e}else Ys=1<<i|n<<s|r,Qs=e}function ei(e){null!==e.return&&(Xs(e,1),Zs(e,1,0))}function ti(e){for(;e===Gs;)Gs=Vs[--qs],Vs[qs]=null,Ws=Vs[--qs],Vs[qs]=null;for(;e===Ks;)Ks=Hs[--Js],Hs[Js]=null,Qs=Hs[--Js],Hs[Js]=null,Ys=Hs[--Js],Hs[Js]=null}var ni=null,ri=null,si=!1,ii=null;function oi(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ai(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ks?{id:Ys,overflow:Qs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(si){var t=ri;if(t){var n=t;if(!ai(e,t)){if(li(e))throw Error(i(418));t=cs(n.nextSibling);var r=ni;t&&ai(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,si=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!si)return ui(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw hi(),Error(i(418));for(;t;)oi(e,t),t=cs(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?cs(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=cs(e.nextSibling)}function pi(){ri=ni=null,si=!1}function fi(e){null===ii?ii=[e]:ii.push(e)}var mi=x.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=s.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===O&&yi(i)===t.type)?((r=s(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$c(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case E:return(t=$c(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function p(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,r):null;case E:return n.key===s?u(e,t,n,r):null;case O:return p(e,t,(s=n._init)(n._payload),r)}if(te(n)||M(n))return null!==s?null:d(e,t,n,r,null);vi(e,n)}return null}function f(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case O:return f(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,s,null);vi(t,r)}return null}function m(s,i,a,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(s,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(s,d),i=o(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(s,d),si&&Xs(s,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(s,a[m],l))&&(i=o(d,i,m),null===u?c=d:u.sibling=d,u=d);return si&&Xs(s,m),c}for(d=r(s,d);m<a.length;m++)null!==(g=f(d,s,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=o(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(s,e)})),si&&Xs(s,m),c}function g(s,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(s,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(s,m),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(s,m),si&&Xs(s,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(s,y.value,c))&&(a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return si&&Xs(s,g),u}for(m=r(s,m);!y.done;g++,y=l.next())null!==(y=f(m,s,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(s,e)})),si&&Xs(s,g),u}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=i;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(r,u.sibling),(i=s(u,o.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&yi(c)===u.type){n(r,u.sibling),(i=s(u,o.props)).ref=gi(r,u,o),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===S?((i=Mc(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=Ic(o.type,o.key,o.props,null,r.mode,l)).ref=gi(r,i,o),l.return=r,r=l)}return a(r);case E:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=s(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=$c(o,r.mode,l)).return=r,r=i}return a(r);case O:return e(r,i,(u=o._init)(o._payload),l)}if(te(o))return m(r,i,o,l);if(M(o))return g(r,i,o,l);vi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,o)).return=r,r=i):(n(r,i),(i=Lc(o,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var xi=bi(!0),wi=bi(!1),Ei=_s(null),Si=null,_i=null,ki=null;function ji(){ki=_i=Si=null}function Ci(e){var t=Ei.current;ks(Ei),e._currentValue=t}function Ni(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t){Si=e,ki=_i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(ki!==e)if(e={context:e,memoizedValue:t,next:null},null===_i){if(null===Si)throw Error(i(308));_i=e,Si.dependencies={lanes:0,firstContext:e}}else _i=_i.next=e;return t}var Pi=null;function Oi(e){null===Pi?Pi=[e]:Pi.push(e)}function Ri(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Oi(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ii(e,r)}function Ii(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mi=!1;function Di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Li(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $i(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ii(e,n)}return null===(s=r.interleaved)?(t.next=t,Oi(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ii(e,n)}function zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fi(e,t,n,r){var s=e.updateQueue;Mi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(null!==a){s.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=s.baseState;for(o=0,u=c=l=null,a=i;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=L({},d,h);break e;case 2:Mi=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=h;if(null===(a=a.next)){if(null===(a=s.shared.pending))break;a=(h=a).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{o|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Dl|=o,e.lanes=o,e.memoizedState=d}}function Vi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var qi={},Gi=_s(qi),Wi=_s(qi),Hi=_s(qi);function Ji(e){if(e===qi)throw Error(i(174));return e}function Ki(e,t){switch(js(Hi,t),js(Wi,e),js(Gi,qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ks(Gi),js(Gi,t)}function Yi(){ks(Gi),ks(Wi),ks(Hi)}function Qi(e){Ji(Hi.current);var t=Ji(Gi.current),n=le(t,e.type);t!==n&&(js(Wi,e),js(Gi,n))}function Xi(e){Wi.current===e&&(ks(Gi),ks(Wi))}var Zi=_s(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=x.ReactCurrentDispatcher,so=x.ReactCurrentBatchConfig,io=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,po=0;function fo(){throw Error(i(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,s,o){if(io=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,s),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(i(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,s)}while(uo)}if(ro.current=Xo,t=null!==ao&&null!==ao.next,io=0,lo=ao=oo=null,co=!1,t)throw Error(i(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function xo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=bo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ao,s=r.baseQueue,o=n.pending;if(null!==o){if(null!==s){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(null!==s){o=s.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((io&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,oo.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{o=s.lane,oo.lanes|=o,Dl|=o,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=bo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(null!==s){n.pending=null;var a=s=s.next;do{o=e(o,a.action),a=a.next}while(a!==s);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function _o(e,t){var n=oo,r=bo(),s=t(),o=!ar(r.memoizedState,s);if(o&&(r.memoizedState=s,ba=!0),r=r.queue,Do(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Po(9,jo.bind(null,n,r,s,t),void 0,null),null===Tl)throw Error(i(349));0!==(30&io)||ko(n,t,s)}return s}function ko(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function jo(e,t,n,r){t.value=n,t.getSnapshot=r,No(t)&&To(e)}function Co(e,t,n){return n((function(){No(t)&&To(e)}))}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function To(e){var t=Ii(e,1);null!==t&&nc(t,e,1,-1)}function Ao(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Jo.bind(null,oo,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oo(){return bo().memoizedState}function Ro(e,t,n,r){var s=yo();oo.flags|=e,s.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Io(e,t,n,r){var s=bo();r=void 0===r?null:r;var i=void 0;if(null!==ao){var o=ao.memoizedState;if(i=o.destroy,null!==r&&mo(r,o.deps))return void(s.memoizedState=Po(t,n,i,r))}oo.flags|=e,s.memoizedState=Po(1|t,n,i,r)}function Mo(e,t){return Ro(8390656,8,e,t)}function Do(e,t){return Io(2048,8,e,t)}function Lo(e,t){return Io(4,2,e,t)}function $o(e,t){return Io(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Io(4,4,Uo.bind(null,t,e),n)}function Bo(){}function Fo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 0===(21&io)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Dl|=n,e.baseState=!0),t)}function Go(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{bt=n,so.transition=r}}function Wo(){return bo().memoizedState}function Ho(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ko(e))Yo(t,n);else if(null!==(n=Ri(e,t,n,r))){nc(n,e,r,ec()),Qo(n,t,r)}}function Jo(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ko(e))Yo(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(s.next=s,Oi(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Ri(e,t,s,r))&&(nc(n,e,r,s=ec()),Qo(n,t,r))}}function Ko(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Yo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xo={readContext:Ai,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Zo={readContext:Ai,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ho.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Ao,useDebugValue:Bo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=Go.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,s=yo();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Tl)throw Error(i(349));0!==(30&io)||ko(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Mo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,jo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Tl.identifierPrefix;if(si){var n=Qs;t=":"+t+"R"+(n=(Ys&~(1<<32-ot(Ys)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ai,useCallback:Fo,useContext:Ai,useEffect:Do,useImperativeHandle:zo,useInsertionEffect:Lo,useLayoutEffect:$o,useMemo:Vo,useReducer:wo,useRef:Oo,useState:function(){return wo(xo)},useDebugValue:Bo,useDeferredValue:function(e){return qo(bo(),ao.memoizedState,e)},useTransition:function(){return[wo(xo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:_o,useId:Wo,unstable_isNewReconciler:!1},ta={readContext:Ai,useCallback:Fo,useContext:Ai,useEffect:Do,useImperativeHandle:zo,useInsertionEffect:Lo,useLayoutEffect:$o,useMemo:Vo,useReducer:Eo,useRef:Oo,useState:function(){return Eo(xo)},useDebugValue:Bo,useDeferredValue:function(e){var t=bo();return null===ao?t.memoizedState=e:qo(t,ao.memoizedState,e)},useTransition:function(){return[Eo(xo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:_o,useId:Wo,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return!!(e=e._reactInternals)&&Fe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=$i(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,s))&&(nc(t,e,s,r),zi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=$i(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,s))&&(nc(t,e,s,r),zi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=$i(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Ui(e,s,r))&&(nc(t,e,r,n),zi(t,e,r))}};function ia(e,t,n,r,s,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,i))}function oa(e,t,n){var r=!1,s=Cs,i=t.contextType;return"object"===typeof i&&null!==i?i=Ai(i):(s=Os(t)?As:Ns.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ps(e,s):Cs),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Di(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=Ai(i):(i=Os(t)?As:Ns.current,s.context=Ps(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&sa.enqueueReplaceState(s,s.state,null),Fi(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=$i(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Gl=r),da(0,t)},n}function fa(e,t,n){(n=$i(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){da(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=$i(-1,1)).tag=2,Ui(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var ya=x.ReactCurrentOwner,ba=!1;function xa(e,t,n,r){t.child=null===e?wi(t,null,n,r):xi(t,e.child,n,r)}function wa(e,t,n,r,s){n=n.render;var i=t.ref;return Ti(t,s),r=go(e,t,n,r,i,s),n=vo(),null===e||ba?(si&&n&&ei(t),t.flags|=1,xa(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qa(e,t,s))}function Ea(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Oc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Sa(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qa(e,t,s)}return t.flags|=1,(e=Rc(i,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,qa(e,t,s);0!==(131072&e.flags)&&(ba=!0)}}return ja(e,t,n,r,s)}function _a(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},js(Rl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,js(Rl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,js(Rl,Ol),Ol|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,js(Rl,Ol),Ol|=r;return xa(e,t,s,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ja(e,t,n,r,s){var i=Os(n)?As:Ns.current;return i=Ps(t,i),Ti(t,s),n=go(e,t,n,r,i,s),r=vo(),null===e||ba?(si&&r&&ei(t),t.flags|=1,xa(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qa(e,t,s))}function Ca(e,t,n,r,s){if(Os(n)){var i=!0;Ds(t)}else i=!1;if(Ti(t,s),null===t.stateNode)Va(e,t),oa(t,n,r),la(t,n,r,s),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ai(c):c=Ps(t,c=Os(n)?As:Ns.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,o,r,c),Mi=!1;var h=t.memoizedState;o.state=h,Fi(t,r,o,s),l=t.memoizedState,a!==r||h!==l||Ts.current||Mi?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Mi||ia(t,n,a,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Li(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ai(l):l=Ps(t,l=Os(n)?As:Ns.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,o,r,l),Mi=!1,h=t.memoizedState,o.state=h,Fi(t,r,o,s);var f=t.memoizedState;a!==d||h!==f||Ts.current||Mi?("function"===typeof p&&(ra(t,n,p,r),f=t.memoizedState),(c=Mi||ia(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,i,s)}function Na(e,t,n,r,s,i){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return s&&Ls(t,n,!1),qa(e,t,i);r=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,a,i)):xa(e,t,a,i),t.memoizedState=r.state,s&&Ls(t,n,!0),t.child}function Ta(e){var t=e.stateNode;t.pendingContext?Is(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Is(0,t.context,!1),Ki(e,t.containerInfo)}function Aa(e,t,n,r,s){return pi(),fi(s),t.flags|=256,xa(e,t,n,r),t.child}var Pa,Oa,Ra,Ia,Ma={dehydrated:null,treeContext:null,retryLane:0};function Da(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,n){var r,s=t.pendingProps,o=Zi.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),js(Zi,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,a?(s=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Dc(l,s,0,null),e=Mc(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Da(n),t.memoizedState=Ma,e):$a(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,s,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ua(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Dc({mode:"visible",children:r.children},s,0,null),(o=Mc(o,s,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&xi(t,e.child,null,a),t.child.memoizedState=Da(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ua(o=Error(i(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Tl)){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|a))?0:s)&&s!==o.retryLane&&(o.retryLane=s,Ii(e,s),nc(r,e,s,-1))}return mc(),Ua(e,t,a,r=ua(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,ri=cs(s.nextSibling),ni=t,si=!0,ii=null,null!==e&&(Hs[Js++]=Ys,Hs[Js++]=Qs,Hs[Js++]=Ks,Ys=e.id,Qs=e.overflow,Ks=t),t=$a(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,o,n);if(a){a=s.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==o?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Rc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,l=null===(l=e.child.memoizedState)?Da(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,s}return e=(a=e.child).sibling,s=Rc(a,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function $a(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&fi(r),xi(t,e.child,null,n),(e=$a(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ni(e.return,t,n)}function Ba(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Fa(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=Zi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(js(Zi,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ba(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===eo(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ba(t,!0,n,null,i);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ha(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(t),null;case 1:case 17:return Os(t.type)&&Rs(),Wa(t),null;case 3:return r=t.stateNode,Yi(),ks(Ts),ks(Ns),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oc(ii),ii=null))),Oa(e,t),Wa(t),null;case 5:Xi(t);var s=Ji(Hi.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Wa(t),null}if(e=Ji(Gi.current),di(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hs]=t,r[ps]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(s=0;s<Mr.length;s++)Ur(Mr[s],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":se(r,o),Ur("invalid",r)}for(var l in ye(n,o),s=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hs]=t,e[ps]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),s=r;break;case"iframe":case"object":case"embed":Ur("load",e),s=r;break;case"video":case"audio":for(s=0;s<Mr.length;s++)Ur(Mr[s],e);s=r;break;case"source":Ur("error",e),s=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),s=r;break;case"details":Ur("toggle",e),s=r;break;case"input":Y(e,r),s=K(e,r),Ur("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Ur("invalid",e)}for(o in ye(n,s),c=s)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wa(t),null;case 6:if(e&&null!=t.stateNode)Ia(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Ji(Hi.current),Ji(Gi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[hs]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hs]=t,t.stateNode=r}return Wa(t),null;case 13:if(ks(Zi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),pi(),t.flags|=98560,o=!1;else if(o=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[hs]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wa(t),o=!1}else null!==ii&&(oc(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Il&&(Il=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wa(t),null);case 4:return Yi(),Oa(e,t),null===e&&Fr(t.stateNode.containerInfo),Wa(t),null;case 10:return Ci(t.type._context),Wa(t),null;case 19:if(ks(Zi),null===(o=t.memoizedState))return Wa(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ga(o,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ga(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return js(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Fl&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!si)return Wa(t),null}else 2*Qe()-o.renderingStartTime>Fl&&1073741824!==n&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=Zi.current,js(Zi,r?1&n|2:1&n),t):(Wa(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Wa(t),6&t.subtreeFlags&&(t.flags|=8192)):Wa(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ja(e,t){switch(ti(t),t.tag){case 1:return Os(t.type)&&Rs(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yi(),ks(Ts),ks(Ns),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(ks(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ks(Zi),null;case 4:return Yi(),null;case 10:return Ci(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Ra=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ji(Gi.current);var i,o=null;switch(n){case"input":s=K(e,s),r=K(e,r),o=[];break;case"select":s=L({},s,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":s=re(e,s),r=re(e,r),o=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ia=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ka=!1,Ya=!1,Qa="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){_c(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&el(t,n,i)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[ps],delete t[ms],delete t[gs],delete t[vs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var r=ul,s=dl;ul=null,hl(e,t,n),dl=s,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Ft(e)):ls(ul,n.stateNode));break;case 4:r=ul,s=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=s;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&el(n,t,o),s=s.next}while(s!==r)}hl(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_c(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,hl(e,t,n),Ya=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qa),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));pl(o,a,s),ul=null,dl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){_c(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){_c(e,e.return,g)}try{nl(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(g){_c(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(s,o),be(l,a);var u=be(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(s,h):"dangerouslySetInnerHTML"===d?de(s,h):"children"===d?he(s,h):b(s,d,h,u)}switch(l){case"input":X(s,o);break;case"textarea":ie(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(s,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(s,!!o.multiple,o.defaultValue,!0):ne(s,!!o.multiple,o.multiple?[]:"",!1))}s[ps]=o}catch(g){_c(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){_c(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ft(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(s=e.child).flags&&(o=null!==s.memoizedState,s.stateNode.isHidden=o,!o||null!==s.alternate&&null!==s.alternate.memoizedState||(Bl=Qe())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||d,ml(t,e),Ya=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xa=e,d=e.child;null!==d;){for(h=Xa=d;null!==Xa;){switch(f=(p=Xa).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Za(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_c(r,n,g)}}break;case 5:Za(p,p.return);break;case 22:if(null!==p.memoizedState){wl(h);continue}}null!==f?(f.return=p,Xa=f):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{s=h.stateNode,u?"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){_c(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(he(s,""),r.flags&=-33),cl(e,al(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(i(161))}}catch(a){_c(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xa=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var s=Xa,i=s.child;if(22===s.tag&&r){var o=null!==s.memoizedState||Ka;if(!o){var a=s.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Ka;var c=Ya;if(Ka=o,(Ya=l)&&!c)for(Xa=s;null!==Xa;)l=(o=Xa).child,22===o.tag&&null!==o.memoizedState?El(s):null!==l?(l.return=o,Xa=l):El(s);for(;null!==i;)Xa=i,bl(i,t,n),i=i.sibling;Xa=s,Ka=a,Ya=c}xl(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,Xa=i):xl(e)}}function xl(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Vi(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ft(h)}}}break;default:throw Error(i(163))}Ya||512&t.flags&&sl(t)}catch(p){_c(t,t.return,p)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function wl(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function El(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){_c(t,s,l)}}var i=t.return;try{sl(t)}catch(l){_c(t,i,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){_c(t,o,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var Sl,_l=Math.ceil,kl=x.ReactCurrentDispatcher,jl=x.ReactCurrentOwner,Cl=x.ReactCurrentBatchConfig,Nl=0,Tl=null,Al=null,Pl=0,Ol=0,Rl=_s(0),Il=0,Ml=null,Dl=0,Ll=0,$l=0,Ul=null,zl=null,Bl=0,Fl=1/0,Vl=null,ql=!1,Gl=null,Wl=null,Hl=!1,Jl=null,Kl=0,Yl=0,Ql=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Nl)?Qe():-1!==Xl?Xl:Xl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Pl?Pl&-Pl:null!==mi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Ql=null,Error(i(185));vt(e,n,r),0!==(2&Nl)&&e===Tl||(e===Tl&&(0===(2&Nl)&&(Ll|=n),4===Il&&ac(e,Pl)),rc(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(Fl=Qe()+500,Us&&Fs()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),a=1<<o,l=s[o];-1===l?0!==(a&n)&&0===(a&r)||(s[o]=pt(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=ht(e,e===Tl?Pl:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Us=!0,Bs(e)}(lc.bind(null,e)):Bs(lc.bind(null,e)),os((function(){0===(6&Nl)&&Fs()})),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Xl=-1,Zl=0,0!==(6&Nl))throw Error(i(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var s=Nl;Nl|=2;var o=fc();for(Tl===e&&Pl===t||(Vl=null,Fl=Qe()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}ji(),kl.current=o,Nl=s,null!==Al?t=0:(Tl=null,Pl=0,t=Il)}if(0!==t){if(2===t&&(0!==(s=ft(e))&&(r=s,t=ic(e,s))),1===t)throw n=Ml,hc(e,0),ac(e,r),rc(e,Qe()),n;if(6===t)ac(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ar(i(),s))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=gc(e,r))&&(0!==(o=ft(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ml,hc(e,0),ac(e,r),rc(e,Qe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,zl,Vl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Bl+500-Qe())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(wc.bind(null,e,zl,Vl),t);break}wc(e,zl,Vl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>s&&(s=a),r&=~o}if(r=s,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=rs(wc.bind(null,e,zl,Vl),r);break}wc(e,zl,Vl);break;default:throw Error(i(329))}}}return rc(e,Qe()),e.callbackNode===n?sc.bind(null,e):null}function ic(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function ac(e,t){for(t&=~$l,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Nl))throw Error(i(327));Ec();var t=ht(e,0);if(0===(1&t))return rc(e,Qe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ml,hc(e,0),ac(e,t),rc(e,Qe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,zl,Vl),rc(e,Qe()),null}function cc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Fl=Qe()+500,Us&&Fs())}}function uc(e){null!==Jl&&0===Jl.tag&&0===(6&Nl)&&Ec();var t=Nl;Nl|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Nl=t))&&Fs()}}function dc(){Ol=Rl.current,ks(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Rs();break;case 3:Yi(),ks(Ts),ks(Ns),no();break;case 5:Xi(r);break;case 4:Yi();break;case 13:case 19:ks(Zi);break;case 10:Ci(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Tl=e,Al=e=Rc(e.current,null),Pl=Ol=t,Il=0,Ml=null,$l=Ll=Dl=0,zl=Ul=null,null!==Pi){for(t=0;t<Pi.length;t++)if(null!==(r=(n=Pi[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=s,r.next=o}n.pending=r}Pi=null}return e}function pc(e,t){for(;;){var n=Al;try{if(ji(),ro.current=Xo,co){for(var r=oo.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}co=!1}if(io=0,lo=ao=oo=null,uo=!1,ho=0,jl.current=null,null===n||null===n.return){Il=1,Ml=t,Al=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ga(a);if(null!==f){f.flags&=-257,va(f,a,l,0,t),1&f.mode&&ma(o,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(o,u,t),mc();break e}c=Error(i(426))}else if(si&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),fi(ca(c,l));break e}}o=c=ca(c,l),4!==Il&&(Il=2),null===Ul?Ul=[o]:Ul.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Bi(o,pa(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Bi(o,fa(o,l,t));break e}}o=o.return}while(null!==o)}xc(n)}catch(x){t=x,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function fc(){var e=kl.current;return kl.current=Xo,null===e?Xo:e}function mc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Tl||0===(268435455&Dl)&&0===(268435455&Ll)||ac(Tl,Pl)}function gc(e,t){var n=Nl;Nl|=2;var r=fc();for(Tl===e&&Pl===t||(Vl=null,hc(e,t));;)try{vc();break}catch(s){pc(e,s)}if(ji(),Nl=n,kl.current=r,null!==Al)throw Error(i(261));return Tl=null,Pl=0,Il}function vc(){for(;null!==Al;)bc(Al)}function yc(){for(;null!==Al&&!Ke();)bc(Al)}function bc(e){var t=Sl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?xc(e):Al=t,jl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ha(n,t,Ol)))return void(Al=n)}else{if(null!==(n=Ja(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Il=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Il&&(Il=5)}function wc(e,t,n){var r=bt,s=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Jl);if(0!==(6&Nl))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ot(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,o),e===Tl&&(Al=Tl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hl||(Hl=!0,Tc(tt,(function(){return Ec(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var a=bt;bt=1;var l=Nl;Nl|=4,jl.current=null,function(e,t){if(es=qt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==s&&3!==h.nodeType||(l=a+s),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===s&&(l=a),p===o&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},qt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ts),qt=!!es,ts=es=null,e.current=n,yl(n,e,s),Ye(),Nl=l,bt=a,Cl.transition=o}else e.current=n;if(Hl&&(Hl=!1,Jl=e,Kl=s),o=e.pendingLanes,0===o&&(Wl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ql)throw ql=!1,e=Gl,Gl=null,e;0!==(1&Kl)&&0!==e.tag&&Ec(),o=e.pendingLanes,0!==(1&o)?e===Ql?Yl++:(Yl=0,Ql=e):Yl=0,Fs()}(e,t,n,r)}finally{Cl.transition=s,bt=r}return null}function Ec(){if(null!==Jl){var e=xt(Kl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,Kl=0,0!==(6&Nl))throw Error(i(331));var s=Nl;for(Nl|=4,Xa=e.current;null!==Xa;){var o=Xa,a=o.child;if(0!==(16&Xa.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xa=u;null!==Xa;){var d=Xa;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Xa=h;else for(;null!==Xa;){var p=(d=Xa).sibling,f=d.return;if(il(d),d===u){Xa=null;break}if(null!==p){p.return=f,Xa=p;break}Xa=f}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xa=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(o=Xa).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Xa=y;break e}Xa=o.return}}var b=e.current;for(Xa=b;null!==Xa;){var x=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==x)x.return=a,Xa=x;else e:for(a=b;null!==Xa;){if(0!==(2048&(l=Xa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(E){_c(l,l.return,E)}if(l===a){Xa=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xa=w;break e}Xa=l.return}}if(Nl=s,Fs(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(E){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function Sc(e,t,n){e=Ui(e,t=pa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Ui(t,e=fa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Pl&n)===n&&(4===Il||3===Il&&(130023424&Pl)===Pl&&500>Qe()-Bl?hc(e,0):$l|=n),rc(e,t)}function jc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ii(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),jc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),jc(e,n)}function Tc(e,t){return He(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,s,o){var a=2;if(r=e,"function"===typeof e)Oc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Mc(n.children,s,o,t);case _:a=8,s|=8;break;case k:return(e=Pc(12,n,t,2|s)).elementType=k,e.lanes=o,e;case T:return(e=Pc(13,n,t,s)).elementType=T,e.lanes=o,e;case A:return(e=Pc(19,n,t,s)).elementType=A,e.lanes=o,e;case R:return Dc(n,s,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:a=10;break e;case C:a=9;break e;case N:a=11;break e;case P:a=14;break e;case O:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,s)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function $c(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,s,i,o,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Di(i),e}function Bc(e){if(!e)return Cs;e:{if(Fe(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Os(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Os(n))return Ms(e,n,t)}return t}function Fc(e,t,n,r,s,i,o,a,l){return(e=zc(n,r,!0,e,0,i,0,a,l)).context=Bc(null),n=e.current,(i=$i(r=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,Ui(n,i,s),e.current.lanes=s,vt(e,s,r),rc(e,r),e}function Vc(e,t,n,r){var s=t.current,i=ec(),o=tc(s);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=$i(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ui(s,t,o))&&(nc(e,s,o,i),zi(e,s,o)),o}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ts.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Ta(t),pi();break;case 5:Qi(t);break;case 1:Os(t.type)&&Ds(t);break;case 4:Ki(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;js(Ei,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(js(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?La(e,t,n):(js(Zi,1&Zi.current),null!==(e=qa(e,t,n))?e.sibling:null);js(Zi,1&Zi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Fa(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),js(Zi,Zi.current),r)break;return null;case 22:case 23:return t.lanes=0,_a(e,t,n)}return qa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,si&&0!==(1048576&t.flags)&&Zs(t,Ws,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Va(e,t),e=t.pendingProps;var s=Ps(t,Ns.current);Ti(t,n),s=go(null,t,r,e,s,n);var o=vo();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Os(r)?(o=!0,Ds(t)):o=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Di(t),s.updater=sa,t.stateNode=s,s._reactInternals=t,la(t,r,e,n),t=Na(null,t,r,!0,o,n)):(t.tag=0,si&&o&&ei(t),xa(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),s){case 0:t=ja(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,ja(e,t,r,s=t.elementType===r?s:na(r,s),n);case 1:return r=t.type,s=t.pendingProps,Ca(e,t,r,s=t.elementType===r?s:na(r,s),n);case 3:e:{if(Ta(t),null===e)throw Error(i(387));r=t.pendingProps,s=(o=t.memoizedState).element,Li(e,t),Fi(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Aa(e,t,r,n,s=ca(Error(i(423)),t));break e}if(r!==s){t=Aa(e,t,r,n,s=ca(Error(i(424)),t));break e}for(ri=cs(t.stateNode.containerInfo.firstChild),ni=t,si=!0,ii=null,n=wi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===s){t=qa(e,t,n);break e}xa(e,t,r,n)}t=t.child}return t;case 5:return Qi(t),null===e&&ci(t),r=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,a=s.children,ns(r,s)?a=null:null!==o&&ns(r,o)&&(t.flags|=32),ka(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&ci(t),null;case 13:return La(e,t,n);case 4:return Ki(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xi(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,wa(e,t,r,s=t.elementType===r?s:na(r,s),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,js(Ei,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===s.children&&!Ts.current){t=qa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=$i(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ni(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ni(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}xa(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ti(t,n),r=r(s=Ai(s)),t.flags|=1,xa(e,t,r,n),t.child;case 14:return s=na(r=t.type,t.pendingProps),Ea(e,t,r,s=na(r.type,s),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:na(r,s),Va(e,t),t.tag=1,Os(r)?(e=!0,Ds(t)):e=!1,Ti(t,n),oa(t,r,s),la(t,r,s,n),Na(null,t,r,!0,e,n);case 19:return Fa(e,t,n);case 22:return _a(e,t,n)}throw Error(i(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof s){var a=s;s=function(){var e=qc(o);a.call(e)}}Vc(t,o,e,s)}else o=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=qc(o);i.call(e)}}var o=Fc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[fs]=o.current,Fr(8===e.nodeType?e.parentNode:e),uc(),o}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var a=r;r=function(){var e=qc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[fs]=l.current,Fr(8===e.nodeType?e.parentNode:e),uc((function(){Vc(t,l,n,r)})),l}(n,t,e,s,r);return qc(o)}Kc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vc(e,t,null,null)},Kc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Vc(null,e,null,null)})),t[fs]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Qe()),0===(6&Nl)&&(Fl=Qe()+500,Fs()))}break;case 13:uc((function(){var t=Ii(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},Et=function(e){if(13===e.tag){var t=Ii(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Ii(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},_t=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ws(r);if(!s)throw Error(i(90));H(r),X(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=cc,Te=uc;var eu={usingClientEntryPoint:!1,Events:[bs,xs,ws,je,Ce,cc]},tu={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{st=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(i(299));var n=!1,r="",s=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,s),e[fs]=t.current,Fr(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,o="",a=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Fc(t,null,e,1,null!=n?n:null,s,0,o,a),e[fs]=t.current,Fr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Kc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fs]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},3271:(e,t,n)=>{"use strict";n.d(t,{WF:()=>r});const r={enabled:"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUPABASE_URL:"https://mgegwthaogszzgflwery.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1nZWd3dGhhb2dzenpnZmx3ZXJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQxMjUyMjIsImV4cCI6MjA1OTcwMTIyMn0.ojqRmmC1O4sFTJDydtdSQ15J5ywMyCNBAkMYAkqYQxM",REACT_APP_AUTH_PROVIDERS:"email,google",REACT_APP_AUTH_REDIRECT_URL:"http://localhost:3000",REACT_APP_STORAGE_TYPE:"supabase"}.REACT_APP_AI_RECOMMENDATION_ENABLED,version:"enhanced-v1",categories:["mindfulness","productivity","stress","balance","wellbeing","social","growth","general"],defaultRecommendationsCount:3,refreshInterval:864e5,chatbot:{enabled:"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUPABASE_URL:"https://mgegwthaogszzgflwery.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1nZWd3dGhhb2dzenpnZmx3ZXJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQxMjUyMjIsImV4cCI6MjA1OTcwMTIyMn0.ojqRmmC1O4sFTJDydtdSQ15J5ywMyCNBAkMYAkqYQxM",REACT_APP_AUTH_PROVIDERS:"email,google",REACT_APP_AUTH_REDIRECT_URL:"http://localhost:3000",REACT_APP_STORAGE_TYPE:"supabase"}.REACT_APP_FEATURE_CHATBOT,apiEndpoint:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUPABASE_URL:"https://mgegwthaogszzgflwery.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1nZWd3dGhhb2dzenpnZmx3ZXJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQxMjUyMjIsImV4cCI6MjA1OTcwMTIyMn0.ojqRmmC1O4sFTJDydtdSQ15J5ywMyCNBAkMYAkqYQxM",REACT_APP_AUTH_PROVIDERS:"email,google",REACT_APP_AUTH_REDIRECT_URL:"http://localhost:3000",REACT_APP_STORAGE_TYPE:"supabase"}.REACT_APP_GRADIO_API_URL||"Francescogiraldi/QVCT",systemPrompt:"Vous \xeates un assistant pour une application de bien-\xeatre bas\xe9e sur le concept d'IKIGAI. Aidez l'utilisateur avec des conseils sur le bien-\xeatre, la m\xe9ditation, la gestion du stress et la recherche de l'\xe9quilibre. Restez positif et encourageant."}};parseInt({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUPABASE_URL:"https://mgegwthaogszzgflwery.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1nZWd3dGhhb2dzenpnZmx3ZXJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQxMjUyMjIsImV4cCI6MjA1OTcwMTIyMn0.ojqRmmC1O4sFTJDydtdSQ15J5ywMyCNBAkMYAkqYQxM",REACT_APP_AUTH_PROVIDERS:"email,google",REACT_APP_AUTH_REDIRECT_URL:"http://localhost:3000",REACT_APP_STORAGE_TYPE:"supabase"}.REACT_APP_CACHE_DURATION||"3600000",10),"email,google".split(",")},3546:(e,t,n)=>{"use strict";n.d(t,{N:()=>v});var r=n(579),s=n(5043),i=n(2190),o=n(4930),a=n(293),l=n(9674),c=n(1051);class u extends s.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=e instanceof HTMLElement&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:n,anchorX:i}=e;const o=(0,s.useId)(),a=(0,s.useRef)(null),l=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,s.useContext)(c.Q);return(0,s.useInsertionEffect)((()=>{const{width:e,height:t,top:r,left:s,right:c}=l.current;if(n||!a.current||!e||!t)return;const u="left"===i?`left: ${s}`:`right: ${c}`;a.current.dataset.motionPopId=o;const h=document.createElement("style");return d&&(h.nonce=d),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`\n          [data-motion-pop-id="${o}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            ${u}px !important;\n            top: ${r}px !important;\n          }\n        `),()=>{document.head.removeChild(h)}}),[n]),(0,r.jsx)(u,{isPresent:n,childRef:a,sizeRef:l,children:s.cloneElement(t,{ref:a})})}const h=e=>{let{children:t,initial:n,isPresent:i,onExitComplete:a,custom:c,presenceAffectsLayout:u,mode:h,anchorX:f}=e;const m=(0,o.M)(p),g=(0,s.useId)(),v=(0,s.useCallback)((e=>{m.set(e,!0);for(const t of m.values())if(!t)return;a&&a()}),[m,a]),y=(0,s.useMemo)((()=>({id:g,initial:n,isPresent:i,custom:c,onExitComplete:v,register:e=>(m.set(e,!1),()=>m.delete(e))})),u?[Math.random(),v]:[i,v]);return(0,s.useMemo)((()=>{m.forEach(((e,t)=>m.set(t,!1)))}),[i]),s.useEffect((()=>{!i&&!m.size&&a&&a()}),[i]),"popLayout"===h&&(t=(0,r.jsx)(d,{isPresent:i,anchorX:f,children:t})),(0,r.jsx)(l.t.Provider,{value:y,children:t})};function p(){return new Map}var f=n(8917);const m=e=>e.key||"";function g(e){const t=[];return s.Children.forEach(e,(e=>{(0,s.isValidElement)(e)&&t.push(e)})),t}const v=e=>{let{children:t,custom:n,initial:l=!0,onExitComplete:c,presenceAffectsLayout:u=!0,mode:d="sync",propagate:p=!1,anchorX:v="left"}=e;const[y,b]=(0,f.xQ)(p),x=(0,s.useMemo)((()=>g(t)),[t]),w=p&&!y?[]:x.map(m),E=(0,s.useRef)(!0),S=(0,s.useRef)(x),_=(0,o.M)((()=>new Map)),[k,j]=(0,s.useState)(x),[C,N]=(0,s.useState)(x);(0,a.E)((()=>{E.current=!1,S.current=x;for(let e=0;e<C.length;e++){const t=m(C[e]);w.includes(t)?_.delete(t):!0!==_.get(t)&&_.set(t,!1)}}),[C,w.length,w.join("-")]);const T=[];if(x!==k){let e=[...x];for(let t=0;t<C.length;t++){const n=C[t],r=m(n);w.includes(r)||(e.splice(t,0,n),T.push(n))}return"wait"===d&&T.length&&(e=T),N(g(e)),j(x),null}const{forceRender:A}=(0,s.useContext)(i.L);return(0,r.jsx)(r.Fragment,{children:C.map((e=>{const t=m(e),s=!(p&&!y)&&(x===C||w.includes(t));return(0,r.jsx)(h,{isPresent:s,initial:!(E.current&&!l)&&void 0,custom:n,presenceAffectsLayout:u,mode:d,onExitComplete:s?void 0:()=>{if(!_.has(t))return;_.set(t,!0);let e=!0;_.forEach((t=>{t||(e=!1)})),e&&(A?.(),N(S.current),p&&b?.(),c&&c())},anchorX:v,children:e},t)}))})}},3605:(e,t,n)=>{"use strict";function r(e,t){-1===e.indexOf(t)&&e.push(t)}function s(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}n.d(t,{P:()=>Xo});const i=!1,o=!1;function a(e){let t;return()=>(void 0===t&&(t=e()),t)}const l=e=>e,c=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};class u{constructor(){this.subscriptions=[]}add(e){return r(this.subscriptions,e),()=>s(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const r=this.subscriptions[s];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const d=e=>1e3*e,h=e=>e/1e3;function p(e,t){return t?e*(1e3/t):0}new Set;function f(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function m(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function g(e){const t=[{},{}];return e?.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function v(e,t,n,r){if("function"===typeof t){const[s,i]=g(r);t=t(void 0!==n?n:e.custom,s,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[s,i]=g(r);t=t(void 0!==n?n:e.custom,s,i)}return t}function y(e,t,n){const r=e.getProps();return v(r,t,void 0!==n?n:r.custom,e)}const b=a((()=>void 0!==window.ScrollTimeline));class x{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map((e=>e.finished)))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>b()&&n.attachTimeline?n.attachTimeline(e):"function"===typeof t?t(n):void 0));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class w extends x{then(e,t){return this.finished.finally(e).then((()=>{}))}}new Set(["borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderRadius","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","width","maxWidth","height","maxHeight","top","right","bottom","left","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","backgroundPositionX","backgroundPositionY"]);const E={layout:0,mainThread:0,waapi:0},S={value:null,addProjectionMetrics:null},_=e=>Array.isArray(e)&&"number"===typeof e[0],k={};function j(e,t){const n=a(e);return()=>k[t]??n()}const C=j((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),"linearEasing"),N=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},T=e=>{let[t,n,r,s]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${s})`},A={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:T([0,.65,.55,1]),circOut:T([.55,0,1,.45]),backIn:T([.31,.01,.66,-.59]),backOut:T([.33,1.53,.69,.99])};function P(e,t){return e?"function"===typeof e&&C()?N(e,t):_(e)?T(e):Array.isArray(e)?e.map((e=>P(e,t)||A.easeOut)):A[e]:void 0}function O(e,t,n){let{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const d=P(a,s);Array.isArray(d)&&(u.easing=d),S.value&&E.waapi++;const h=e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:"reverse"===o?"alternate":"normal",pseudoElement:c});return S.value&&h.finished.finally((()=>{E.waapi--})),h}new WeakMap;function R(e,t){return e?.[t]??e?.default??e}const I=2e4;function M(e){let t=0;let n=e.next(t);for(;!n.done&&t<I;)t+=50,n=e.next(t);return t>=I?1/0:t}function D(e){return"function"===typeof e&&"applyToOptions"in e}function L(e){return Boolean("function"===typeof e&&C()||!e||"string"===typeof e&&(e in A||C())||_(e)||Array.isArray(e)&&e.every(L))}function $(e,t){e.timeline=t,e.onfinish=null}const U=["read","resolveKeyframes","update","preRender","render","postRender"];function z(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=U.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){o.has(t)&&(u.schedule(t),e()),l++,t(a)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&s?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{a=e,s?i=!0:(s=!0,[n,r]=[r,n],n.forEach(c),t&&S.value&&S.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,u.process(e)))}};return u}(i,t?n:void 0),e)),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:p}=a,f=()=>{const i=o?s.timestamp:performance.now();n=!1,o||(s.delta=r?1e3/60:Math.max(Math.min(i-s.timestamp,40),1)),s.timestamp=i,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),p.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(f))},m=U.reduce(((t,i)=>{const o=a[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,s.isProcessing||e(f)),o.schedule(t,i,a)},t}),{});return{schedule:m,cancel:e=>{for(let t=0;t<U.length;t++)a[U[t]].cancel(e)},state:s,steps:a}}const{schedule:B,cancel:F,state:V,steps:q}=z("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:l,!0),{schedule:G,cancel:W}=z(queueMicrotask,!1);let H;function J(){H=void 0}const K={now:()=>(void 0===H&&K.set(V.isProcessing||o?V.timestamp:performance.now()),H),set:e=>{H=e,queueMicrotask(J)}},Y={x:!1,y:!1};function Q(){return Y.x||Y.y}function X(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){let r=document;t&&(r=t.current);const s=n?.[e]??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function Z(e){return!("touch"===e.pointerType||Q())}const ee=(e,t)=>!!t&&(e===t||ee(e,t.parentElement)),te=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary,ne=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const re=new WeakSet;function se(e){return t=>{"Enter"===t.key&&e(t)}}function ie(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function oe(e){return te(e)&&!Q()}function ae(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,s,i]=X(e,n),o=e=>{const r=e.currentTarget;if(!oe(e)||re.has(r))return;re.add(r);const i=t(r,e),o=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),oe(e)&&re.has(r)&&(re.delete(r),"function"===typeof i&&i(e,{success:t}))},a=e=>{o(e,r===window||r===document||n.useGlobalTarget||ee(r,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",a,s),window.addEventListener("pointercancel",l,s)};return r.forEach((e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",o,s),e instanceof HTMLElement&&(e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=se((()=>{if(re.has(n))return;ie(n,"down");const e=se((()=>{ie(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>ie(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,s))),t=e,ne.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))})),i}const le={current:void 0};class ce{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=K.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=K.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new u);const n=this.events[e].add(t);return"change"===e?()=>{n(),B.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return le.current&&le.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=K.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return p(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ue(e,t){return new ce(e,t)}const de=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],he=new Set(de),pe=new Set(["width","height","top","left","right","bottom",...de]),fe=e=>Array.isArray(e);function me(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ue(n))}const ge=e=>Boolean(e&&e.getVelocity);function ve(e,t){const n=e.getValue("willChange");if(r=n,Boolean(ge(r)&&r.add))return n.add(t);var r}const ye=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),be="data-"+ye("framerAppearId");function xe(e){return e.props[be]}const we=!1,Ee=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Se(e,t,n,r){if(e===t&&n===r)return l;const s=t=>function(e,t,n,r,s){let i,o,a=0;do{o=t+(n-t)/2,i=Ee(o,r,s)-e,i>0?n=o:t=o}while(Math.abs(i)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:Ee(s(e),t,r)}const _e=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ke=e=>t=>1-e(1-t),je=Se(.33,1.53,.69,.99),Ce=ke(je),Ne=_e(Ce),Te=e=>(e*=2)<1?.5*Ce(e):.5*(2-Math.pow(2,-10*(e-1))),Ae=e=>1-Math.sin(Math.acos(e)),Pe=ke(Ae),Oe=_e(Ae),Re=e=>/^0[^.\s]+$/u.test(e);const Ie=(e,t,n)=>n>t?t:n<e?e:n,Me={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},De={...Me,transform:e=>Ie(0,1,e)},Le={...Me,default:1},$e=e=>Math.round(1e5*e)/1e5,Ue=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const ze=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Be=(e,t)=>n=>Boolean("string"===typeof n&&ze.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Fe=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[s,i,o,a]=r.match(Ue);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},Ve={...Me,transform:e=>Math.round((e=>Ie(0,255,e))(e))},qe={test:Be("rgb","red"),parse:Fe("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:s=1}=e;return"rgba("+Ve.transform(t)+", "+Ve.transform(n)+", "+Ve.transform(r)+", "+$e(De.transform(s))+")"}};const Ge={test:Be("#"),parse:function(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:qe.transform},We=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),He=We("deg"),Je=We("%"),Ke=We("px"),Ye=We("vh"),Qe=We("vw"),Xe={...Je,parse:e=>Je.parse(e)/100,transform:e=>Je.transform(100*e)},Ze={test:Be("hsl","hue"),parse:Fe("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:s=1}=e;return"hsla("+Math.round(t)+", "+Je.transform($e(n))+", "+Je.transform($e(r))+", "+$e(De.transform(s))+")"}},et={test:e=>qe.test(e)||Ge.test(e)||Ze.test(e),parse:e=>qe.test(e)?qe.parse(e):Ze.test(e)?Ze.parse(e):Ge.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?qe.transform(e):Ze.transform(e)},tt=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const nt="number",rt="color",st=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function it(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(st,(e=>(et.test(e)?(r.color.push(i),s.push(rt),n.push(et.parse(e))):e.startsWith("var(")?(r.var.push(i),s.push("var"),n.push(e)):(r.number.push(i),s.push(nt),n.push(parseFloat(e))),++i,"${}"))).split("${}");return{values:n,split:o,indexes:r,types:s}}function ot(e){return it(e).values}function at(e){const{split:t,types:n}=it(e),r=t.length;return e=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],void 0!==e[i]){const t=n[i];s+=t===nt?$e(e[i]):t===rt?et.transform(e[i]):e[i]}return s}}const lt=e=>"number"===typeof e?0:e;const ct={test:function(e){return isNaN(e)&&"string"===typeof e&&(e.match(Ue)?.length||0)+(e.match(tt)?.length||0)>0},parse:ot,createTransformer:at,getAnimatableNone:function(e){const t=ot(e);return at(e)(t.map(lt))}},ut=new Set(["brightness","contrast","saturate","opacity"]);function dt(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Ue)||[];if(!r)return e;const s=n.replace(r,"");let i=ut.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const ht=/\b([a-z-]*)\(.*?\)/gu,pt={...ct,getAnimatableNone:e=>{const t=e.match(ht);return t?t.map(dt).join(" "):e}},ft={borderWidth:Ke,borderTopWidth:Ke,borderRightWidth:Ke,borderBottomWidth:Ke,borderLeftWidth:Ke,borderRadius:Ke,radius:Ke,borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomRightRadius:Ke,borderBottomLeftRadius:Ke,width:Ke,maxWidth:Ke,height:Ke,maxHeight:Ke,top:Ke,right:Ke,bottom:Ke,left:Ke,padding:Ke,paddingTop:Ke,paddingRight:Ke,paddingBottom:Ke,paddingLeft:Ke,margin:Ke,marginTop:Ke,marginRight:Ke,marginBottom:Ke,marginLeft:Ke,backgroundPositionX:Ke,backgroundPositionY:Ke},mt={rotate:He,rotateX:He,rotateY:He,rotateZ:He,scale:Le,scaleX:Le,scaleY:Le,scaleZ:Le,skew:He,skewX:He,skewY:He,distance:Ke,translateX:Ke,translateY:Ke,translateZ:Ke,x:Ke,y:Ke,z:Ke,perspective:Ke,transformPerspective:Ke,opacity:De,originX:Xe,originY:Xe,originZ:Ke},gt={...Me,transform:Math.round},vt={...ft,...mt,zIndex:gt,size:Ke,fillOpacity:De,strokeOpacity:De,numOctaves:gt},yt={...vt,color:et,backgroundColor:et,outlineColor:et,fill:et,stroke:et,borderColor:et,borderTopColor:et,borderRightColor:et,borderBottomColor:et,borderLeftColor:et,filter:pt,WebkitFilter:pt},bt=e=>yt[e];function xt(e,t){let n=bt(e);return n!==pt&&(n=ct),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const wt=new Set(["auto","none","0"]);const Et=e=>180*e/Math.PI,St=e=>{const t=Et(Math.atan2(e[1],e[0]));return kt(t)},_t={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:St,rotateZ:St,skewX:e=>Et(Math.atan(e[1])),skewY:e=>Et(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},kt=e=>((e%=360)<0&&(e+=360),e),jt=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ct=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Nt={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jt,scaleY:Ct,scale:e=>(jt(e)+Ct(e))/2,rotateX:e=>kt(Et(Math.atan2(e[6],e[5]))),rotateY:e=>kt(Et(Math.atan2(-e[2],e[0]))),rotateZ:St,rotate:St,skewX:e=>Et(Math.atan(e[4])),skewY:e=>Et(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Tt(e){return e.includes("scale")?1:0}function At(e,t){if(!e||"none"===e)return Tt(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Nt,s=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=_t,s=t}if(!s)return Tt(t);const i=r[t],o=s[1].split(",").map(Pt);return"function"===typeof i?i(o):o[i]}function Pt(e){return parseFloat(e.trim())}const Ot=e=>e===Me||e===Ke,Rt=new Set(["x","y","z"]),It=de.filter((e=>!Rt.has(e)));const Mt={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return At(n,"x")},y:(e,t)=>{let{transform:n}=t;return At(n,"y")}};Mt.translateX=Mt.x,Mt.translateY=Mt.y;const Dt=new Set;let Lt=!1,$t=!1;function Ut(){if($t){const e=Array.from(Dt).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return It.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;e.getValue(n)?.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}$t=!1,Lt=!1,Dt.forEach((e=>e.complete())),Dt.clear()}function zt(){Dt.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&($t=!0)}))}class Bt{constructor(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=s,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Dt.add(this),Lt||(Lt=!0,B.read(zt),B.resolveKeyframes(Ut))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let s=0;s<e.length;s++)if(null===e[s])if(0===s){const s=r?.get(),i=e[e.length-1];if(void 0!==s)e[0]=s;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===s&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Dt.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Dt.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ft=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Vt=e=>t=>"string"===typeof t&&t.startsWith(e),qt=Vt("--"),Gt=Vt("var(--"),Wt=e=>!!Gt(e)&&Ht.test(e.split("/*")[0].trim()),Ht=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jt=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Kt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const[r,s]=function(e){const t=Jt.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return Ft(e)?parseFloat(e):e}return Wt(s)?Kt(s,t,n+1):s}const Yt=e=>t=>t.test(e),Qt=[Me,Ke,Je,He,Qe,Ye,{test:e=>"auto"===e,parse:e=>e}],Xt=e=>Qt.find(Yt(e));class Zt extends Bt{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),Wt(n))){const r=Kt(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!pe.has(n)||2!==e.length)return;const[r,s]=e,i=Xt(r),o=Xt(s);if(i!==o)if(Ot(i)&&Ot(o))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let s=0;s<e.length;s++)("number"===typeof(r=e[s])?0===r:null===r||"none"===r||"0"===r||Re(r))&&n.push(s);var r;n.length&&function(e,t,n){let r,s=0;for(;s<e.length&&!r;){const t=e[s];"string"===typeof t&&!wt.has(t)&&it(t).values.length&&(r=e[s]),s++}if(r&&n)for(const i of t)e[i]=xt(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Mt[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const s=n.length-1,i=n[s];n[s]=Mt[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==i&&void 0===this.finalKeyframe&&(this.finalKeyframe=i),this.removedTransforms?.length&&this.removedTransforms.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),this.resolveNoneKeyframes()}}const en=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!ct.test(e)&&"0"!==e||e.startsWith("url(")));function tn(e,t,n,r){const s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],o=en(s,t),a=en(i,t);return!(!o||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||D(n))&&r)}const nn=e=>null!==e;function rn(e,t,n){let{repeat:r,repeatType:s="loop"}=t;const i=e.filter(nn),o=r&&"loop"!==s&&r%2===1?0:i.length-1;return o&&void 0!==n?n:i[o]}class sn{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}=e;this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=K.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(zt(),Ut()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=K.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:s,delay:i,onComplete:o,onUpdate:a,isGenerator:l}=this.options;if(!l&&!tn(e,n,r,s)){if(we||!i)return a&&a(rn(e,this.options,t)),o&&o(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const on=(e,t,n)=>e+(t-e)*n;function an(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ln(e,t){return n=>n>0?t:e}const cn=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},un=[Ge,qe,Ze];function dn(e){const t=(n=e,un.find((e=>e.test(n))));var n;if(Boolean(t),!Boolean(t))return!1;let r=t.parse(e);return t===Ze&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:s}=e;t/=360,n/=100,r/=100;let i=0,o=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,s=2*r-e;i=an(s,e,t+1/3),o=an(s,e,t),a=an(s,e,t-1/3)}else i=o=a=r;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*a),alpha:s}}(r)),r}const hn=(e,t)=>{const n=dn(e),r=dn(t);if(!n||!r)return ln(e,t);const s={...n};return e=>(s.red=cn(n.red,r.red,e),s.green=cn(n.green,r.green,e),s.blue=cn(n.blue,r.blue,e),s.alpha=on(n.alpha,r.alpha,e),qe.transform(s))},pn=(e,t)=>n=>t(e(n)),fn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(pn)},mn=new Set(["none","hidden"]);function gn(e,t){return n=>on(e,t,n)}function vn(e){return"number"===typeof e?gn:"string"===typeof e?Wt(e)?ln:et.test(e)?hn:xn:Array.isArray(e)?yn:"object"===typeof e?et.test(e)?hn:bn:ln}function yn(e,t){const n=[...e],r=n.length,s=e.map(((e,n)=>vn(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=s[t](e);return n}}function bn(e,t){const n={...e,...t},r={};for(const s in n)void 0!==e[s]&&void 0!==t[s]&&(r[s]=vn(e[s])(e[s],t[s]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const xn=(e,t)=>{const n=ct.createTransformer(t),r=it(e),s=it(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?mn.has(e)&&!s.values.length||mn.has(t)&&!r.values.length?function(e,t){return mn.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):fn(yn(function(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}(r,s),s.values),n):ln(e,t)};function wn(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return on(e,t,n);return vn(e)(e,t)}function En(e,t,n){const r=Math.max(t-5,0);return p(n-e(r),t-r)}const Sn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_n=.001;function kn(e){let t,n,{duration:r=Sn.duration,bounce:s=Sn.bounce,velocity:i=Sn.velocity,mass:o=Sn.mass}=e;d(Sn.maxDuration);let a=1-s;a=Ie(Sn.minDamping,Sn.maxDamping,a),r=Ie(Sn.minDuration,Sn.maxDuration,h(r)),a<1?(t=e=>{const t=e*a,n=t*r,s=t-i,o=Cn(e,a),l=Math.exp(-n);return _n-s/o*l},n=e=>{const n=e*a*r,s=n*i+i,o=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Cn(Math.pow(e,2),a);return(-t(e)+_n>0?-1:1)*((s-o)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let s=1;s<jn;s++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=d(r),isNaN(l))return{stiffness:Sn.stiffness,damping:Sn.damping,duration:r};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*a*Math.sqrt(o*e),duration:r}}}const jn=12;function Cn(e,t){return e*Math.sqrt(1-t*t)}const Nn=["duration","bounce"],Tn=["stiffness","damping","mass"];function An(e,t){return t.some((t=>void 0!==e[t]))}function Pn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:p,velocity:f,isResolvedFromDuration:m}=function(e){let t={velocity:Sn.velocity,stiffness:Sn.stiffness,damping:Sn.damping,mass:Sn.mass,isResolvedFromDuration:!1,...e};if(!An(e,Tn)&&An(e,Nn))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),s=r*r,i=2*Ie(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Sn.mass,stiffness:s,damping:i}}else{const n=kn(e);t={...t,...n,mass:Sn.mass},t.isResolvedFromDuration=!0}return t}({...n,velocity:-h(n.velocity||0)}),g=f||0,v=c/(2*Math.sqrt(l*u)),y=o-i,b=h(Math.sqrt(l/u)),x=Math.abs(y)<5;let w;if(r||(r=x?Sn.restSpeed.granular:Sn.restSpeed.default),s||(s=x?Sn.restDelta.granular:Sn.restDelta.default),v<1){const e=Cn(b,v);w=t=>{const n=Math.exp(-v*b*t);return o-n*((g+v*b*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}}else if(1===v)w=e=>o-Math.exp(-b*e)*(y+(g+b*y)*e);else{const e=b*Math.sqrt(v*v-1);w=t=>{const n=Math.exp(-v*b*t),r=Math.min(e*t,300);return o-n*((g+v*b*y)*Math.sinh(r)+e*y*Math.cosh(r))/e}}const E={calculatedDuration:m&&p||null,next:e=>{const t=w(e);if(m)a.done=e>=p;else{let n=0;v<1&&(n=0===e?d(g):En(w,e,t));const i=Math.abs(n)<=r,l=Math.abs(o-t)<=s;a.done=i&&l}return a.value=a.done?o:t,a},toString:()=>{const e=Math.min(M(E),I),t=N((t=>E.next(e*t).value),e,30);return e+"ms "+t},toTransition:()=>{}};return E}function On(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],p={done:!1,value:h},f=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,v=void 0===a?g:a(g);v!==g&&(m=v-h);const y=e=>-m*Math.exp(-e/s),b=e=>v+y(e),x=e=>{const t=y(e),n=b(e);p.done=Math.abs(t)<=u,p.value=p.done?v:n};let w,E;const S=e=>{var t;(t=p.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,E=Pn({keyframes:[p.value,f(p.value)],velocity:En(b,e,p.value),damping:i,stiffness:o,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return E||void 0!==w||(t=!0,x(e),S(e)),void 0!==w&&e>=w?E.next(e-w):(!t&&x(e),p)}}}Pn.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)({...e,keyframes:[0,t]}),r=Math.min(M(n),I);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:h(r)}}(e,100,Pn);return e.ease=C()?t.ease:"easeOut",e.duration=d(t.duration),e.type="keyframes",e};const Rn=Se(.42,0,1,1),In=Se(0,0,.58,1),Mn=Se(.42,0,.58,1),Dn={linear:l,easeIn:Rn,easeInOut:Mn,easeOut:In,circIn:Ae,circInOut:Oe,circOut:Pe,backIn:Ce,backInOut:Ne,backOut:je,anticipate:Te},Ln=e=>{if(_(e)){e.length;const[t,n,r,s]=e;return Se(t,n,r,s)}return"string"===typeof e?Dn[e]:e};function $n(e,t){let{clamp:n=!0,ease:r,mixer:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(t.length,1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const r=[],s=n||wn,i=e.length-1;for(let o=0;o<i;o++){let n=s(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||l:t;n=fn(e,n)}r.push(n)}return r}(t,r,s),u=a.length,d=n=>{if(o&&n<e[0])return t[0];let r=0;if(u>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const s=c(e[r],e[r+1],n);return a[r](s)};return n?t=>d(Ie(e[0],e[i-1],t)):d}function Un(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=c(0,t,r);e.push(on(n,1,s))}}(t,e.length-1),t}function zn(e){let{duration:t=300,keyframes:n,times:r,ease:s="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(s)?s.map(Ln):Ln(s),o={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:Un(n),t),l=$n(a,n,{ease:Array.isArray(i)?i:(c=n,u=i,c.map((()=>u||Mn)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}const Bn=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>B.update(t,!0),stop:()=>F(t),now:()=>V.isProcessing?V.timestamp:K.now()}},Fn={decay:On,inertia:On,tween:zn,keyframes:zn,spring:Pn},Vn=e=>e/100;class qn extends sn{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:s}=this.options,i=r?.KeyframeResolver||Bt;this.resolver=new i(s,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:i=0}=this.options,o=D(t)?t:Fn[t]||zn;let a,l;o!==zn&&"number"!==typeof e[0]&&(a=fn(Vn,wn(e[0],e[1])),e=[0,100]);const c=o({...this.options,keyframes:e});"mirror"===s&&(l=o({...this.options,keyframes:[...e].reverse(),velocity:-i})),null===c.calculatedDuration&&(c.calculatedDuration=M(c));const{calculatedDuration:u}=c,d=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:a,calculatedDuration:u,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;E.mainThread++,this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:i,mapPercentToKeyframes:o,keyframes:a,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return s.next(0);const{delay:d,repeat:h,repeatType:p,repeatDelay:f,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,b=s;if(h){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===p?(n=1-n,f&&(n-=f/u)):"mirror"===p&&(b=i)),y=Ie(0,1,n)*u}const x=v?{done:!1,value:a[0]}:b.next(y);o&&(x.value=o(x.value));let{done:w}=x;v||null===l||(w=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const E=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return E&&void 0!==r&&(x.value=rn(a,this.options,r)),m&&m(x.value),E&&this.finish(),x}get duration(){const{resolved:e}=this;return e?h(e.calculatedDuration):0}get time(){return h(this.currentTime)}set time(e){e=d(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=h(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=Bn,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=n??this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){this._resolved?(this.state="paused",this.holdTime=this.currentTime??0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel(),E.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const Gn=new Set(["opacity","clipPath","filter","transform"]),Wn=a((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const Hn={anticipate:Te,backInOut:Ne,circInOut:Oe};class Jn extends sn{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:s}=this.options;this.resolver=new Zt(s,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:r,ease:s,type:i,motionValue:o,name:a,startTime:l}=this.options;if(!o.owner||!o.owner.current)return!1;var c;if("string"===typeof s&&C()&&s in Hn&&(s=Hn[s]),D((c=this.options).type)||"spring"===c.type||!L(c.ease)){const{onComplete:t,onUpdate:o,motionValue:a,element:l,...c}=this.options,u=function(e,t){const n=new qn({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<2e4;)r=n.sample(i),s.push(r.value),i+=10;return{times:void 0,keyframes:s,duration:i-10,ease:"linear"}}(e,c);1===(e=u.keyframes).length&&(e[1]=e[0]),n=u.duration,r=u.times,s=u.ease,i="keyframes"}const u=O(o.owner.current,a,e,{...this.options,duration:n,times:r,ease:s});return u.startTime=l??this.calcStartTime(),this.pendingTimeline?($(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:n}=this.options;o.set(rn(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:r,type:i,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return h(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return h(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=d(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return l;const{animation:n}=t;$(n,e)}else this.pendingTimeline=e;return l}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:s,ease:i,times:o}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:a,element:l,...c}=this.options,u=new qn({...c,keyframes:n,duration:r,type:s,ease:i,times:o,isGenerator:!0}),h=d(this.time);e.setWithVelocity(u.sample(h-10).value,u.sample(h).value,10)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:a,transformTemplate:l}=t.owner.getProps();return Wn()&&n&&Gn.has(n)&&("transform"!==n||!l)&&!a&&!r&&"mirror"!==s&&0!==i&&"inertia"!==o}}const Kn={type:"spring",stiffness:500,damping:25,restSpeed:10},Yn={type:"keyframes",duration:.8},Qn={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Xn=(e,t)=>{let{keyframes:n}=t;return n.length>2?Yn:he.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Kn:Qn};const Zn=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return a=>{const l=R(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u-=d(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:s};(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}=e;return!!Object.keys(d).length})(l)||(h={...h,...Xn(e,h)}),h.duration&&(h.duration=d(h.duration)),h.repeatDelay&&(h.repeatDelay=d(h.repeatDelay)),void 0!==h.from&&(h.keyframes[0]=h.from);let p=!1;if((!1===h.type||0===h.duration&&!h.repeatDelay)&&(h.duration=0,0===h.delay&&(p=!0)),(we||i)&&(p=!0,h.duration=0,h.delay=0),h.allowFlatten=!l.type&&!l.ease,p&&!o&&void 0!==t.get()){const e=rn(h.keyframes,l);if(void 0!==e)return B.update((()=>{h.onUpdate(e),h.onComplete()})),new w([])}return!o&&Jn.supports(h)?new Jn(h):new qn(h)}};function er(e,t){let{protectedKeys:n,needsAnimating:r}=e;const s=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,s}function tr(e,t){let{delay:n=0,transitionOverride:r,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const u in a){const t=e.getValue(u,e.latestValues[u]??null),r=a[u];if(void 0===r||c&&er(c,u))continue;const s={delay:n,...R(i||{},u)};let o=!1;if(window.MotionHandoffAnimation){const t=xe(e);if(t){const e=window.MotionHandoffAnimation(t,u,B);null!==e&&(s.startTime=e,o=!0)}}ve(e,u),t.start(Zn(u,t,r,e.shouldReduceMotion&&pe.has(u)?{type:!1}:s,e,o));const d=t.animation;d&&l.push(d)}return o&&Promise.all(l).then((()=>{B.update((()=>{o&&function(e,t){const n=y(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i)me(e,a,(o=i[a],fe(o)?o[o.length-1]||0:o));var o}(e,o)}))})),l}function nr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=y(e,t,"exit"===n.type?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(tr(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:o,staggerDirection:a}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5?arguments[5]:void 0;const o=[],a=(e.variantChildren.size-1)*r,l=1===s?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(rr).forEach(((e,r)=>{e.notify("AnimationStart",t),o.push(nr(e,t,{...i,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(o)}(e,t,i+r,o,a,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[e,t]="beforeChildren"===a?[i,o]:[o,i];return e().then((()=>t()))}return Promise.all([i(),o(n.delay)])}function rr(e,t){return e.sortNodePosition(t)}function sr(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function ir(e){return"string"===typeof e||Array.isArray(e)}const or=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ar=["initial",...or],lr=ar.length;function cr(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&cr(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<lr;n++){const r=ar[n],s=e.props[r];(ir(s)||!1===s)&&(t[r]=s)}return t}const ur=[...or].reverse(),dr=or.length;function hr(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map((t=>nr(e,t,r)));n=Promise.all(s)}else if("string"===typeof t)n=nr(e,t,r);else{const s="function"===typeof t?y(e,t,r.custom):t;n=Promise.all(tr(e,s,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function pr(e){let t=hr(e),n=gr(),r=!0;const s=t=>(n,r)=>{const s=y(e,r,"exit"===t?e.presenceContext?.custom:void 0);if(s){const{transition:e,transitionEnd:t,...r}=s;n={...n,...r,...t}}return n};function i(i){const{props:o}=e,a=cr(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<dr;t++){const h=ur[t],p=n[h],f=void 0!==o[h]?o[h]:a[h],g=ir(f),v=h===i?p.isActive:null;!1===v&&(d=t);let y=f===a[h]&&f!==o[h]&&g;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys={...u},!p.isActive&&null===v||!f&&!p.prevProp||m(f)||"boolean"===typeof f)continue;const b=fr(p.prevProp,f);let x=b||h===i&&p.isActive&&!y&&g||t>d&&g,w=!1;const E=Array.isArray(f)?f:[f];let S=E.reduce(s(h),{});!1===v&&(S={});const{prevResolvedValues:_={}}=p,k={..._,...S},j=t=>{x=!0,c.has(t)&&(w=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=S[e],n=_[e];if(u.hasOwnProperty(e))continue;let r=!1;r=fe(t)&&fe(n)?!sr(t,n):t!==n,r?void 0!==t&&null!==t?j(e):c.add(e):void 0!==t&&c.has(e)?j(e):p.protectedKeys[e]=!0}p.prevProp=f,p.prevResolvedValues=S,p.isActive&&(u={...u,...S}),r&&e.blockInitialAnimation&&(x=!1);x&&(!(y&&b)||w)&&l.push(...E.map((e=>({animation:e,options:{type:h}}))))}if(c.size){const t={};if("boolean"!==typeof o.initial){const n=y(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach((n=>{const r=e.getBaseTarget(n),s=e.getValue(n);s&&(s.liveStyle=!0),t[n]=r??null})),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach((e=>e.animationState?.setActive(t,r))),n[t].isActive=r;const s=i(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=gr(),r=!0}}}function fr(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!sr(t,e)}function mr(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gr(){return{animate:mr(!0),whileInView:mr(),whileHover:mr(),whileTap:mr(),whileDrag:mr(),whileFocus:mr(),exit:mr()}}class vr{constructor(e){this.isMounted=!1,this.node=e}update(){}}let yr=0;const br={animation:{Feature:class extends vr{constructor(e){super(e),e.animationState||(e.animationState=pr(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();m(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends vr{constructor(){super(...arguments),this.id=yr++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function xr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function wr(e){return{point:{x:e.pageX,y:e.pageY}}}function Er(e,t,n,r){return xr(e,t,(e=>t=>te(t)&&e(t,wr(t)))(n),r)}function Sr(e){let{top:t,left:n,right:r,bottom:s}=e;return{x:{min:n,max:r},y:{min:t,max:s}}}function _r(e){return e.max-e.min}function kr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=on(t.min,t.max,e.origin),e.scale=_r(n)/_r(t),e.translate=on(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function jr(e,t,n,r){kr(e.x,t.x,n.x,r?r.originX:void 0),kr(e.y,t.y,n.y,r?r.originY:void 0)}function Cr(e,t,n){e.min=n.min+t.min,e.max=e.min+_r(t)}function Nr(e,t,n){e.min=t.min-n.min,e.max=e.min+_r(t)}function Tr(e,t,n){Nr(e.x,t.x,n.x),Nr(e.y,t.y,n.y)}const Ar=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Pr(e){return[e("x"),e("y")]}function Or(e){return void 0===e||1===e}function Rr(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Or(t)||!Or(n)||!Or(r)}function Ir(e){return Rr(e)||Mr(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Mr(e){return Dr(e.x)||Dr(e.y)}function Dr(e){return e&&"0%"!==e}function Lr(e,t,n){return n+t*(e-n)}function $r(e,t,n,r,s){return void 0!==s&&(e=Lr(e,s,r)),Lr(e,n,r)+t}function Ur(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;e.min=$r(e.min,t,n,r,s),e.max=$r(e.max,t,n,r,s)}function zr(e,t){let{x:n,y:r}=t;Ur(e.x,n.translate,n.scale,n.originPoint),Ur(e.y,r.translate,r.scale,r.originPoint)}const Br=.999999999999,Fr=1.0000000000001;function Vr(e,t){e.min=e.min+t,e.max=e.max+t}function qr(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Ur(e,t,n,on(e.min,e.max,s),r)}function Gr(e,t){qr(e.x,t.x,t.scaleX,t.scale,t.originX),qr(e.y,t.y,t.scaleY,t.scale,t.originY)}function Wr(e,t){return Sr(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Hr=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null};function Jr(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const Kr=(e,t)=>Math.abs(e-t);class Yr{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Zr(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Kr(e.x,t.x),r=Kr(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:s}=V;this.history.push({...r,timestamp:s});const{onStart:i,onMove:o}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Qr(t,this.transformPagePoint),B.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=Zr("pointercancel"===e.type?this.lastMoveEventInfo:Qr(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!te(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const i=Qr(wr(e),this.transformPagePoint),{point:o}=i,{timestamp:a}=V;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,Zr(i,this.history)),this.removeListeners=fn(Er(this.contextWindow,"pointermove",this.handlePointerMove),Er(this.contextWindow,"pointerup",this.handlePointerUp),Er(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),F(this.updatePoint)}}function Qr(e,t){return t?{point:t(e.point)}:e}function Xr(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zr(e,t){let{point:n}=e;return{point:n,delta:Xr(n,ts(t)),offset:Xr(n,es(t)),velocity:ns(t,.1)}}function es(e){return e[0]}function ts(e){return e[e.length-1]}function ns(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=ts(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>d(t)));)n--;if(!r)return{x:0,y:0};const i=h(s.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function rs(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function ss(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const is=.35;function os(e,t,n){return{min:as(e,t),max:as(e,n)}}function as(e,t){return"number"===typeof e?e:e[t]||0}const ls=new WeakMap;class cs{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Yr(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(wr(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:s}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?Y[i]?null:(Y[i]=!0,()=>{Y[i]=!1}):Y.x||Y.y?null:(Y.x=Y.y=!0,()=>{Y.x=Y.y=!1}),!this.openDragLock))return;var i;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pr((e=>{let t=this.getAxisMotionValue(e).get()||0;if(Je.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=_r(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),s&&B.postRender((()=>s(e,t))),ve(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:s,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Pr((e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play()))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Hr(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&B.postRender((()=>s(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!us(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:s}=t;return void 0!==r&&e<r?e=n?on(r,e,n.min):Math.max(e,r):void 0!==s&&e>s&&(e=n?on(s,e,n.max):Math.min(e,s)),e}(i,this.constraints[e],this.elastic[e])),s.set(i)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&Jr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,t){let{top:n,left:r,bottom:s,right:i}=t;return{x:rs(e.x,r,i),y:rs(e.y,n,s)}}(n.layoutBox,e),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:is;return!1===e?e=0:!0===e&&(e=is),{x:os(e,"left","right"),y:os(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Pr((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Jr(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=function(e,t,n){const r=Wr(e,n),{scroll:s}=t;return s&&(Vr(r.x,s.offset.x),Vr(r.y,s.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:ss(e.x,t.x),y:ss(e.y,t.y)}}(r.layout.layoutBox,s);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=Sr(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=Pr((o=>{if(!us(o,t,this.currentDirection))return;let l=a&&a[o]||{};i&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...s,...l};return this.startAxisValueAnimation(o,d)}));return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return ve(this.visualElement,e),n.start(Zn(e,n,0,t,this.visualElement,!1))}stopAnimation(){Pr((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){Pr((e=>this.getAxisMotionValue(e).animation?.pause()))}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Pr((t=>{const{drag:n}=this.getProps();if(!us(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];s.set(e[t]-on(n,i,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Jr(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Pr((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=_r(e),s=_r(t);return s>r?n=c(t.min,t.max-r,e.min):r>s&&(n=c(e.min,e.max-s,t.min)),Ie(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Pr((t=>{if(!us(t,e,null))return;const n=this.getAxisMotionValue(t),{min:s,max:i}=this.constraints[t];n.set(on(s,i,r[t]))}))}addListeners(){if(!this.visualElement.current)return;ls.set(this.visualElement,this);const e=Er(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Jr(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),B.read(t);const s=xr(window,"resize",(()=>this.scalePositionWithinConstraints())),i=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Pr((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{s(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:i=is,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:i,dragMomentum:o}}}function us(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const ds=e=>(t,n)=>{e&&B.postRender((()=>e(t,n)))};var hs=n(579),ps=n(5043),fs=n(8917),ms=n(2190);const gs=(0,ps.createContext)({}),vs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ys(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bs={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Ke.test(e))return e;e=parseFloat(e)}return`${ys(e,t.target.x)}% ${ys(e,t.target.y)}%`}},xs={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const s=e,i=ct.parse(e);if(i.length>5)return s;const o=ct.createTransformer(e),a="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+a]/=l,i[1+a]/=c;const u=on(l,c,.5);return"number"===typeof i[2+a]&&(i[2+a]/=u),"number"===typeof i[3+a]&&(i[3+a]/=u),o(i)}},ws={};class Es extends ps.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;!function(e){for(const t in e)ws[t]=e[t],qt(t)&&(ws[t].isCSSVariable=!0)}(_s),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(()=>{this.safeToRemove()})),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),vs.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,i=n.projection;return i?(i.isPresent=s,r||e.layoutDependency!==t||void 0===t||e.isPresent!==s?i.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?i.promote():i.relegate()||B.postRender((()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),G.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ss(e){const[t,n]=(0,fs.xQ)(),r=(0,ps.useContext)(ms.L);return(0,hs.jsx)(Es,{...e,layoutGroup:r,switchLayoutGroup:(0,ps.useContext)(gs),isPresent:t,safeToRemove:n})}const _s={borderRadius:{...bs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bs,borderTopRightRadius:bs,borderBottomLeftRadius:bs,borderBottomRightRadius:bs,boxShadow:xs};const ks=(e,t)=>e.depth-t.depth;class js{constructor(){this.children=[],this.isDirty=!1}add(e){r(this.children,e),this.isDirty=!0}remove(e){s(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ks),this.isDirty=!1,this.children.forEach(e)}}function Cs(e,t){const n=K.now(),r=s=>{let{timestamp:i}=s;const o=i-n;o>=t&&(F(r),e(o-t))};return B.read(r,!0),()=>F(r)}function Ns(e){const t=ge(e)?e.get():e;return n=t,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const Ts=["TopLeft","TopRight","BottomLeft","BottomRight"],As=Ts.length,Ps=e=>"string"===typeof e?parseFloat(e):e,Os=e=>"number"===typeof e||Ke.test(e);function Rs(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Is=Ds(0,.5,Pe),Ms=Ds(.5,.95,l);function Ds(e,t,n){return r=>r<e?0:r>t?1:n(c(e,t,r))}function Ls(e,t){e.min=t.min,e.max=t.max}function $s(e,t){Ls(e.x,t.x),Ls(e.y,t.y)}function Us(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function zs(e,t,n,r,s){return e=Lr(e-=t,1/n,r),void 0!==s&&(e=Lr(e,1/s,r)),e}function Bs(e,t,n,r,s){let[i,o,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Je.test(t)&&(t=parseFloat(t),t=on(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let a=on(i.min,i.max,r);e===i&&(a-=t),e.min=zs(e.min,t,n,a,s),e.max=zs(e.max,t,n,a,s)}(e,t[i],t[o],t[a],t.scale,r,s)}const Fs=["x","scaleX","originX"],Vs=["y","scaleY","originY"];function qs(e,t,n,r){Bs(e.x,t,Fs,n?n.x:void 0,r?r.x:void 0),Bs(e.y,t,Vs,n?n.y:void 0,r?r.y:void 0)}function Gs(e){return 0===e.translate&&1===e.scale}function Ws(e){return Gs(e.x)&&Gs(e.y)}function Hs(e,t){return e.min===t.min&&e.max===t.max}function Js(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ks(e,t){return Js(e.x,t.x)&&Js(e.y,t.y)}function Ys(e){return _r(e.x)/_r(e.y)}function Qs(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Xs{constructor(){this.members=[]}add(e){r(this.members,e),e.scheduleRender()}remove(e){if(s(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Zs={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},ei=["","X","Y","Z"],ti={visibility:"hidden"};let ni=0;function ri(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function si(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=xe(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",B,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&si(r)}function ii(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:s,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n?.();this.id=ni++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,S.value&&(Zs.nodes=Zs.calculatedTargetDeltas=Zs.calculatedProjections=0),this.nodes.forEach(li),this.nodes.forEach(mi),this.nodes.forEach(gi),this.nodes.forEach(ci),S.addProjectionMetrics&&S.addProjectionMetrics(Zs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new js)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new u),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:s,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||s)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=Cs(r,250),vs.hasAnimatedSinceResize&&(vs.hasAnimatedSinceResize=!1,this.nodes.forEach(fi))}))}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&o&&(s||i)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:s}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||o.getDefaultTransition()||Ei,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),c=!this.targetLayout||!Ks(this.targetLayout,s),u=!n&&r;if(this.options.layoutRoot||this.resumeFrom||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...R(i,"layout"),onPlay:a,onComplete:l};(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||fi(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,F(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vi),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&si(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(di);this.isUpdating||this.nodes.forEach(hi),this.isUpdating=!1,this.nodes.forEach(pi),this.nodes.forEach(oi),this.nodes.forEach(ai),this.clearAllSnapshots();const e=K.now();V.delta=Ie(0,1e3/60,e-V.timestamp),V.timestamp=e,V.isProcessing=!0,q.update.process(V),q.preRender.process(V),q.render.process(V),V.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,G.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ui),this.sharedNodes.forEach(yi)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,B.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){B.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||_r(this.snapshot.measuredBox.x)||_r(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=s(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Ws(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&(t||Ir(this.latestValues)||s)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),ki((r=n).x),ki(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Ci))){const{scroll:e}=this.root;e&&(Vr(t.x,e.offset.x),Vr(t.y,e.offset.y))}return t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};if($s(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:s,options:i}=r;r!==this.root&&s&&i.layoutScroll&&(s.wasRoot&&$s(t,e),Vr(t.x,s.offset.x),Vr(t.y,s.offset.y))}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};$s(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Gr(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Ir(e.latestValues)&&Gr(n,e.latestValues)}return Ir(this.latestValues)&&Gr(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};$s(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Ir(e.latestValues))continue;Rr(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};$s(r,e.measurePageBox()),qs(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Ir(this.latestValues)&&qs(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==V.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:s}=this.options;if(this.layout&&(r||s)){if(this.resolvedRelativeTargetAt=V.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Tr(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),$s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,o,a;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,o=this.relativeTarget,a=this.relativeParent.target,Cr(i.x,o.x,a.x),Cr(i.y,o.y,a.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):$s(this.target,this.layout.layoutBox),zr(this.target,this.targetDelta)):$s(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Tr(this.relativeTargetOrigin,this.target,e.target),$s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}S.value&&Zs.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Rr(this.parent.latestValues)&&!Mr(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const e=this.getLead(),t=Boolean(this.resumingFrom)||this!==e;let n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===V.timestamp&&(n=!1),n)return;const{layout:r,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!s)return;$s(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=n.length;if(!s)return;let i,o;t.x=t.y=1;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:s}=i.options;s&&s.props.style&&"contents"===s.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Gr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,zr(e,o)),r&&Ir(i.latestValues)&&Gr(e,i.latestValues))}t.x<Fr&&t.x>Br&&(t.x=1),t.y<Fr&&t.y>Br&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,t),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:a}=e;a?(this.projectionDelta&&this.prevProjectionDelta?(Us(this.prevProjectionDelta.x,this.projectionDelta.x),Us(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),jr(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.treeScale.x===i&&this.treeScale.y===o&&Qs(this.projectionDelta.x,this.prevProjectionDelta.x)&&Qs(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a)),S.value&&Zs.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.visualElement?.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},s={...this.latestValues},i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(wi));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,p,f,m,g;bi(i.x,e.x,n),bi(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tr(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,m=o,g=n,xi(p.x,f.x,m.x,g),xi(p.y,f.y,m.y,g),d&&(l=this.relativeTarget,h=d,Hs(l.x,h.x)&&Hs(l.y,h.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),$s(d,this.relativeTarget)),a&&(this.animationValues=s,function(e,t,n,r,s,i){s?(e.opacity=on(0,void 0!==n.opacity?n.opacity:1,Is(r)),e.opacityExit=on(void 0!==t.opacity?t.opacity:1,0,Ms(r))):i&&(e.opacity=on(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<As;o++){const s=`border${Ts[o]}Radius`;let i=Rs(t,s),a=Rs(n,s);void 0===i&&void 0===a||(i||(i=0),a||(a=0),0===i||0===a||Os(i)===Os(a)?(e[s]=Math.max(on(Ps(i),Ps(a),r),0),(Je.test(a)||Je.test(i))&&(e[s]+="%")):e[s]=a)}(t.rotate||n.rotate)&&(e.rotate=on(t.rotate||0,n.rotate||0,r))}(s,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(F(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=B.update((()=>{vs.hasAnimatedSinceResize=!0,E.layout++,this.currentAnimation=function(e,t,n){const r=ge(e)?e:ue(e);return r.start(Zn("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{E.layout--},onComplete:()=>{E.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:s}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&ji(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=_r(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=_r(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}$s(t,n),Gr(t,s),jr(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Xs);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){const{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&ri("z",e,r,this.animationValues);for(let s=0;s<ei.length;s++)ri(`rotate${ei[s]}`,e,r,this.animationValues),ri(`skew${ei[s]}`,e,r,this.animationValues);e.render();for(const s in r)e.setStaticValue(s,r[s]),this.animationValues&&(this.animationValues[s]=r[s]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return ti;const t={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity="",t.pointerEvents=Ns(e?.pointerEvents)||"",t.transform=n?n(this.latestValues,""):"none",t;const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Ns(e?.pointerEvents)||""),this.hasProjected&&!Ir(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1),t}const s=r.animationValues||r.latestValues;this.applyTransformsToTarget(),t.transform=function(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=n?.z||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:s,rotateY:i,skewX:o,skewY:a}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),s&&(r+=`rotateX(${s}deg) `),i&&(r+=`rotateY(${i}deg) `),o&&(r+=`skewX(${o}deg) `),a&&(r+=`skewY(${a}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+=`scale(${a}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s),n&&(t.transform=n(s,t.transform));const{x:i,y:o}=this.projectionDelta;t.transformOrigin=`${100*i.origin}% ${100*o.origin}% 0`,r.animationValues?t.opacity=r===this?s.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:t.opacity=r===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const a in ws){if(void 0===s[a])continue;const{correct:e,applyTo:n,isCSSVariable:i}=ws[a],o="none"===t.transform?s[a]:e(s[a],r);if(n){const e=n.length;for(let r=0;r<e;r++)t[n[r]]=o}else i?this.options.visualElement.renderState.vars[a]=o:t[a]=o}return this.options.layoutId&&(t.pointerEvents=r===this?Ns(e?.pointerEvents)||"":"none"),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>e.currentAnimation?.stop())),this.root.nodes.forEach(di),this.root.sharedNodes.clear()}}}function oi(e){e.updateLayout()}function ai(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;"size"===s?Pr((e=>{const r=i?t.measuredBox[e]:t.layoutBox[e],s=_r(r);r.min=n[e].min,r.max=r.min+s})):ji(s,t.layoutBox,n)&&Pr((r=>{const s=i?t.measuredBox[r]:t.layoutBox[r],o=_r(n[r]);s.max=s.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)}));const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};jr(o,n,t.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?jr(a,e.applyTransform(r,!0),t.measuredBox):jr(a,n,t.layoutBox);const l=!Ws(o);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:s,layout:i}=r;if(s&&i){const o={x:{min:0,max:0},y:{min:0,max:0}};Tr(o,t.layoutBox,s.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};Tr(a,n,i.layoutBox),Ks(o,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function li(e){S.value&&Zs.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ci(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ui(e){e.clearSnapshot()}function di(e){e.clearMeasurements()}function hi(e){e.isLayoutDirty=!1}function pi(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function fi(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mi(e){e.resolveTargetDelta()}function gi(e){e.calcProjection()}function vi(e){e.resetSkewAndRotation()}function yi(e){e.removeLeadSnapshot()}function bi(e,t,n){e.translate=on(t.translate,0,n),e.scale=on(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function xi(e,t,n,r){e.min=on(t.min,n.min,r),e.max=on(t.max,n.max,r)}function wi(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Ei={duration:.45,ease:[.4,0,.1,1]},Si=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),_i=Si("applewebkit/")&&!Si("chrome/")?Math.round:l;function ki(e){e.min=_i(e.min),e.max=_i(e.max)}function ji(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=Ys(t),s=Ys(n),i=.2,!(Math.abs(r-s)<=i));var r,s,i}function Ci(e){return e!==e.root&&e.scroll?.wasRoot}const Ni=ii({attachResizeListener:(e,t)=>xr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ti={current:void 0},Ai=ii({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ti.current){const e=new Ni({});e.mount(window),e.setOptions({layoutScroll:!0}),Ti.current=e}return Ti.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Pi={pan:{Feature:class extends vr{constructor(){super(...arguments),this.removePointerDownListener=l}onPointerDown(e){this.session=new Yr(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Hr(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:ds(e),onStart:ds(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&B.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Er(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends vr{constructor(e){super(e),this.removeGroupControls=l,this.removeListeners=l,this.controls=new cs(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||l}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Ai,MeasureLayout:Ss}};function Oi(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const s=r["onHover"+n];s&&B.postRender((()=>s(t,wr(t))))}function Ri(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const s=r["onTap"+("End"===n?"":n)];s&&B.postRender((()=>s(t,wr(t))))}const Ii=new WeakMap,Mi=new WeakMap,Di=e=>{const t=Ii.get(e.target);t&&t(e)},Li=e=>{e.forEach(Di)};function $i(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;Mi.has(r)||Mi.set(r,{});const s=Mi.get(r),i=JSON.stringify(n);return s[i]||(s[i]=new IntersectionObserver(Li,{root:t,...n})),s[i]}(t);return Ii.set(e,n),r.observe(e),()=>{Ii.delete(e),r.unobserve(e)}}const Ui={some:0,all:1};const zi={inView:{Feature:class extends vr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Ui[r]};return $i(this.node.current,i,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends vr{mount(){const{current:e}=this.node;e&&(this.unmount=ae(e,((e,t)=>(Ri(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return Ri(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends vr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fn(xr(this.node.current,"focus",(()=>this.onFocus())),xr(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends vr{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,s,i]=X(e,n),o=e=>{if(!Z(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const i=e=>{Z(e)&&(r(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,s)};return r.forEach((e=>{e.addEventListener("pointerenter",o,s)})),i}(e,((e,t)=>(Oi(this.node,t,"Start"),e=>Oi(this.node,e,"End")))))}unmount(){}}}},Bi={layout:{ProjectionNode:Ai,MeasureLayout:Ss}},Fi=(0,ps.createContext)({strict:!1});var Vi=n(1051);const qi=(0,ps.createContext)({});function Gi(e){return m(e.animate)||ar.some((t=>ir(e[t])))}function Wi(e){return Boolean(Gi(e)||e.variants)}function Hi(e){const{initial:t,animate:n}=function(e,t){if(Gi(e)){const{initial:t,animate:n}=e;return{initial:!1===t||ir(t)?t:void 0,animate:ir(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,ps.useContext)(qi));return(0,ps.useMemo)((()=>({initial:t,animate:n})),[Ji(t),Ji(n)])}function Ji(e){return Array.isArray(e)?e.join(" "):e}var Ki=n(4735);const Yi={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qi={};for(const Zo in Yi)Qi[Zo]={isEnabled:e=>Yi[Zo].some((t=>!!e[t]))};const Xi=Symbol.for("motionComponentSymbol");function Zi(e,t,n){return(0,ps.useCallback)((r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Jr(n)&&(n.current=r))}),[t])}var eo=n(9674),to=n(293);function no(e,t,n,r,s){const{visualElement:i}=(0,ps.useContext)(qi),o=(0,ps.useContext)(Fi),a=(0,ps.useContext)(eo.t),l=(0,ps.useContext)(Vi.Q).reducedMotion,c=(0,ps.useRef)(null);r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:l}));const u=c.current,d=(0,ps.useContext)(gs);!u||u.projection||!s||"html"!==u.type&&"svg"!==u.type||function(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ro(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:Boolean(o)||a&&Jr(a),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(c.current,n,s,d);const h=(0,ps.useRef)(!1);(0,ps.useInsertionEffect)((()=>{u&&h.current&&u.update(n,a)}));const p=n[be],f=(0,ps.useRef)(Boolean(p)&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return(0,to.E)((()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),G.render(u.render),f.current&&u.animationState&&u.animationState.animateChanges())})),(0,ps.useEffect)((()=>{u&&(!f.current&&u.animationState&&u.animationState.animateChanges(),f.current&&(queueMicrotask((()=>{window.MotionHandoffMarkAsComplete?.(p)})),f.current=!1))})),u}function ro(e){if(e)return!1!==e.options.allowProjection?e.projection:ro(e.parent)}function so(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:s,Component:i}=e;function o(e,t){let o;const a={...(0,ps.useContext)(Vi.Q),...e,layoutId:io(e)},{isStatic:l}=a,c=Hi(e),u=s(e,l);if(!l&&Ki.B){!function(){(0,ps.useContext)(Fi).strict;0}();const e=function(e){const{drag:t,layout:n}=Qi;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(a);o=e.MeasureLayout,c.visualElement=no(i,u,a,n,e.ProjectionNode)}return(0,hs.jsxs)(qi.Provider,{value:c,children:[o&&c.visualElement?(0,hs.jsx)(o,{visualElement:c.visualElement,...a}):null,r(i,e,Zi(u,c.visualElement,t),u,l,c.visualElement)]})}t&&function(e){for(const t in e)Qi[t]={...Qi[t],...e[t]}}(t),o.displayName=`motion.${"string"===typeof i?i:`create(${i.displayName??i.name??""})`}`;const a=(0,ps.forwardRef)(o);return a[Xi]=i,a}function io(e){let{layoutId:t}=e;const n=(0,ps.useContext)(ms.L).id;return n&&void 0!==t?n+"-"+t:t}function oo(e,t){let{layout:n,layoutId:r}=t;return he.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!ws[e]||"opacity"===e)}const ao=(e,t)=>t&&"number"===typeof e?t.transform(e):e,lo={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},co=de.length;function uo(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const e=t[l];if(he.has(l))o=!0;else if(qt(l))s[l]=e;else{const t=ao(e,vt[l]);l.startsWith("origin")?(a=!0,i[l]=t):r[l]=t}}if(t.transform||(o||n?r.transform=function(e,t,n){let r="",s=!0;for(let i=0;i<co;i++){const o=de[i],a=e[o];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=ao(a,vt[o]);l||(s=!1,r+=`${lo[o]||o}(${e}) `),n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin=`${e} ${t} ${n}`}}const ho=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function po(e,t,n){for(const r in t)ge(t[r])||oo(r,n)||(e[r]=t[r])}function fo(e,t){const n={};return po(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,ps.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return uo(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function mo(e,t){const n={},r=fo(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const go=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vo(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||go.has(e)}let yo=e=>!vo(e);try{(bo=require("@emotion/is-prop-valid").default)&&(yo=e=>e.startsWith("on")?!vo(e):bo(e))}catch{}var bo;const xo=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wo(e){return"string"===typeof e&&!e.includes("-")&&!!(xo.indexOf(e)>-1||/[A-Z]/u.test(e))}const Eo={offset:"stroke-dashoffset",array:"stroke-dasharray"},So={offset:"strokeDashoffset",array:"strokeDasharray"};function _o(e,t,n){return"string"===typeof e?e:Ke.transform(t+n*e)}function ko(e,t,n,r){let{attrX:s,attrY:i,attrScale:o,originX:a,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:d=0,...h}=t;if(uo(e,h,r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:f,dimensions:m}=e;p.transform&&(m&&(f.transform=p.transform),delete p.transform),m&&(void 0!==a||void 0!==l||f.transform)&&(f.transformOrigin=function(e,t,n){return`${_o(t,e.x,e.width)} ${_o(n,e.y,e.height)}`}(m,void 0!==a?a:.5,void 0!==l?l:.5)),void 0!==s&&(p.x=s),void 0!==i&&(p.y=i),void 0!==o&&(p.scale=o),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=s?Eo:So;e[i.offset]=Ke.transform(-r);const o=Ke.transform(t),a=Ke.transform(n);e[i.array]=`${o} ${a}`}(p,c,u,d,!1)}const jo=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),Co=e=>"string"===typeof e&&"svg"===e.toLowerCase();function No(e,t,n,r){const s=(0,ps.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return ko(n,t,Co(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};po(t,e.style,e),s.style={...t,...s.style}}return s}function To(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,s,i)=>{let{latestValues:o}=s;const a=(wo(t)?No:mo)(n,o,i,t),l=function(e,t,n){const r={};for(const s in e)"values"===s&&"object"===typeof e.values||(yo(s)||!0===n&&vo(s)||!t&&!vo(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}(n,"string"===typeof t,e),c=t!==ps.Fragment?{...l,...a,ref:r}:{},{children:u}=n,d=(0,ps.useMemo)((()=>ge(u)?u.get():u),[u]);return(0,ps.createElement)(t,{...c,children:d})}}var Ao=n(4930);const Po=e=>(t,n)=>{const r=(0,ps.useContext)(qi),s=(0,ps.useContext)(eo.t),i=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:s,createRenderState:i,onUpdate:o}=e;const a={latestValues:Oo(t,n,r,s),renderState:i()};return o&&(a.onMount=e=>o({props:t,current:e,...a}),a.onUpdate=e=>o(e)),a}(e,t,r,s);return n?i():(0,Ao.M)(i)};function Oo(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=Ns(i[h]);let{initial:o,animate:a}=e;const l=Gi(e),c=Wi(e);t&&c&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let u=!!n&&!1===n.initial;u=u||!1===o;const d=u?a:o;if(d&&"boolean"!==typeof d&&!m(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=v(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(s[r]=e)}for(const r in e)s[r]=e[r]}}}return s}function Ro(e,t,n){const{style:r}=e,s={};for(const i in r)(ge(r[i])||t.style&&ge(t.style[i])||oo(i,e)||void 0!==n?.getValue(i)?.liveStyle)&&(s[i]=r[i]);return s}const Io={useVisualState:Po({scrapeMotionValuesFromProps:Ro,createRenderState:ho})};function Mo(e,t){try{t.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(n){t.dimensions={x:0,y:0,width:0,height:0}}}function Do(e,t,n,r){let{style:s,vars:i}=t;Object.assign(e.style,s,r&&r.getProjectionStyles(n));for(const o in i)e.style.setProperty(o,i[o])}const Lo=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $o(e,t,n,r){Do(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Lo.has(s)?s:ye(s),t.attrs[s])}function Uo(e,t,n){const r=Ro(e,t,n);for(const s in e)if(ge(e[s])||ge(t[s])){r[-1!==de.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=e[s]}return r}const zo=["x","y","width","height","cx","cy","r"],Bo={useVisualState:Po({scrapeMotionValuesFromProps:Uo,createRenderState:jo,onUpdate:e=>{let{props:t,prevProps:n,current:r,renderState:s,latestValues:i}=e;if(!r)return;let o=!!t.drag;if(!o)for(const l in i)if(he.has(l)){o=!0;break}if(!o)return;let a=!n;if(n)for(let l=0;l<zo.length;l++){const e=zo[l];t[e]!==n[e]&&(a=!0)}a&&B.read((()=>{Mo(r,s),B.render((()=>{ko(s,i,Co(r.tagName),t.transformTemplate),$o(r,s)}))}))}})};function Fo(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return so({...wo(n)?Bo:Io,preloadedFeatures:e,useRender:To(r),createVisualElement:t,Component:n})}}const Vo={current:null},qo={current:!1};const Go=[...Qt,et,ct],Wo=new WeakMap;const Ho=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Jo{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bt,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=K.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,B.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=Gi(n),this.isVariantNode=Wi(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const e=h[p];void 0!==l[p]&&ge(e)&&e.set(l[p],!1)}}mount(e){this.current=e,Wo.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),qo.current||function(){if(qo.current=!0,Ki.B)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vo.current=e.matches;e.addListener(t),t()}else Vo.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Vo.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),F(this.notifyUpdate),F(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=he.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&B.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),s=t.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),s(),i&&i(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Qi){const t=Qi[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Ho.length;n++){const t=Ho[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const s=t[r],i=n[r];if(ge(s))e.addValue(r,s);else if(ge(i))e.addValue(r,ue(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(s):t.hasAnimated||t.set(s)}else{const t=e.getStaticValue(r);e.addValue(r,ue(void 0!==t?t:s,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=ue(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return void 0!==n&&null!==n&&("string"===typeof n&&(Ft(n)||Re(n))?n=parseFloat(n):(r=n,!Go.find(Yt(r))&&ct.test(t)&&(n=xt(e,t))),this.setBaseTarget(e,ge(n)?n.get():n)),ge(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){const r=v(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||ge(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new u),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class Ko extends Jo{constructor(){super(...arguments),this.KeyframeResolver=Zt}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ge(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}class Yo extends Ko{constructor(){super(...arguments),this.type="html",this.renderInstance=Do}readValueFromInstance(e,t){if(he.has(t))return((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return At(n,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),s=(qt(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof s?s.trim():s}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Wr(e,n)}build(e,t,n){uo(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Ro(e,t,n)}}class Qo extends Ko{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ar,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Mo(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(he.has(t)){const e=bt(t);return e&&e.default||0}return t=Lo.has(t)?t:ye(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Uo(e,t,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&B.postRender(this.updateDimensions)}build(e,t,n){ko(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){$o(e,t,0,r)}mount(e){this.isSVGTag=Co(e.tagName),super.mount(e)}}const Xo=f(Fo({...br,...zi,...Pi,...Bi},((e,t)=>wo(e)?new Qo(t):new Yo(t,{allowProjection:e!==ps.Fragment}))))},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var s,i={},o=null,a=null;if(null!=t)for(s in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,s)&&!_.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:n,type:e,key:o,ref:a,props:i,_owner:S.current}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,s,i,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+N(l,0):i,w(o)?(s="",null!=e&&(s=e.replace(C,"$&/")+"/"),T(o,t,s,"",(function(e){return e}))):null!=o&&(j(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,s+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+N(a=e[c],c);l+=T(a,t,s,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=T(a=a.value,t,s,u=i+N(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],s=0;return T(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},I={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!_.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:s,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4445:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=a(e),o=i[0],l=i[1],c=new s(function(e,t,n){return 3*(t+n)/4-n}(0,o,l)),u=0,d=l>0?o-4:o;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,s=r%3,i=[],o=16383,a=0,c=r-s;a<c;a+=o)i.push(l(e,a,a+o>c?c:a+o));1===s?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===s&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],s="undefined"!==typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=i[o],r[i.charCodeAt(o)]=o;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var s,i,o=[],a=t;a<r;a+=3)s=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(n[(i=s)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},4630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>o,Request:()=>a,Response:()=>l,default:()=>i,fetch:()=>s});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const s=r.fetch,i=r.fetch.bind(r),o=r.Headers,a=r.Request,l=r.Response},4735:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});const r="undefined"!==typeof window},4930:(e,t,n)=>{"use strict";n.d(t,{M:()=>s});var r=n(5043);function s(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5736:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(7374));class i extends s.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map((e=>"string"===typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s="";"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w");const i=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach((e=>{let[t,n]=e;this.url.searchParams.append(t,`eq.${n}`)})),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}t.default=i},5745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(400);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`}},6382:(e,t,n)=>{"use strict";const r=n(4445),s=n(6900),i="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,n)}function c(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=a(n);const s=r.write(e,t);s!==n&&(r=r.slice(0,s));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const s=function(e){if(l.isBuffer(e)){const t=0|f(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||Y(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(s)return s;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),a(e<0?0:0|f(e))}function h(e){const t=e.length<0?0:0|f(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function f(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let s=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(s)return r?-1:W(e).length;t=(""+t).toLowerCase(),s=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return j(this,t,n);case"ascii":return N(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,s){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=s?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(s)return-1;n=e.length-1}else if(n<0){if(!s)return-1;n=0}if("string"===typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,s);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,s);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,s){let i,o=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(s){let r=-1;for(i=n;i<a;i++)if(c(e,i)===c(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===l)return r*o}else-1!==r&&(i-=i-r),r=-1}else for(n+l>a&&(n=a-l),i=n;i>=0;i--){let n=!0;for(let r=0;r<l;r++)if(c(e,i+r)!==c(t,r)){n=!1;break}if(n)return i}return-1}function x(e,t,n,r){n=Number(n)||0;const s=e.length-n;r?(r=Number(r))>s&&(r=s):r=s;const i=t.length;let o;for(r>i/2&&(r=i/2),o=0;o<r;++o){const r=parseInt(t.substr(2*o,2),16);if(Y(r))return o;e[n+o]=r}return o}function w(e,t,n,r){return J(W(t,e.length-n),e,n,r)}function E(e,t,n,r){return J(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return J(H(t),e,n,r)}function _(e,t,n,r){return J(function(e,t){let n,r,s;const i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,s=n%256,i.push(s),i.push(r);return i}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function j(e,t,n){n=Math.min(e.length,n);const r=[];let s=t;for(;s<n;){const t=e[s];let i=null,o=t>239?4:t>223?3:t>191?2:1;if(s+o<=n){let n,r,a,l;switch(o){case 1:t<128&&(i=t);break;case 2:n=e[s+1],128===(192&n)&&(l=(31&t)<<6|63&n,l>127&&(i=l));break;case 3:n=e[s+1],r=e[s+2],128===(192&n)&&128===(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:n=e[s+1],r=e[s+2],a=e[s+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,l>65535&&l<1114112&&(i=l))}}null===i?(i=65533,o=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),s+=o}return function(e){const t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}t.kMaxLength=o,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(K(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let s=0,i=Math.min(n,r);s<i;++s)if(e[s]!==t[s]){n=e[s],r=t[s];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let s=0;for(n=0;n<e.length;++n){let t=e[n];if(K(t,Uint8Array))s+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,s)):Uint8Array.prototype.set.call(r,t,s);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,s)}s+=t.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?j(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(l.prototype[i]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,s){if(K(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===s&&(s=this.length),t<0||n>e.length||r<0||s>this.length)throw new RangeError("out of range index");if(r>=s&&t>=n)return 0;if(r>=s)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(s>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0);const a=Math.min(i,o),c=this.slice(r,s),u=e.slice(t,n);for(let l=0;l<a;++l)if(c[l]!==u[l]){i=c[l],o=u[l];break}return i<o?-1:o<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const s=this.length-t;if((void 0===n||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return E(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const C=4096;function N(e,t,n){let r="";n=Math.min(e.length,n);for(let s=t;s<n;++s)r+=String.fromCharCode(127&e[s]);return r}function T(e,t,n){let r="";n=Math.min(e.length,n);for(let s=t;s<n;++s)r+=String.fromCharCode(e[s]);return r}function A(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let s="";for(let i=t;i<n;++i)s+=Q[e[i]];return s}function P(e,t,n){const r=e.slice(t,n);let s="";for(let i=0;i<r.length-1;i+=2)s+=String.fromCharCode(r[i]+256*r[i+1]);return s}function O(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,s,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r,s){F(t,r,s,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function M(e,t,n,r,s){F(t,r,s,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function D(e,t,n,r,s,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return t=+t,n>>>=0,i||D(e,0,n,4),s.write(e,t,n,r,23,4),n+4}function $(e,t,n,r,i){return t=+t,n>>>=0,i||D(e,0,n,8),s.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],s=1,i=0;for(;++i<t&&(s*=256);)r+=this[e+i]*s;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e+--t],s=1;for(;t>0&&(s*=256);)r+=this[e+--t]*s;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=X((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,s=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(s)<<BigInt(32))})),l.prototype.readBigUInt64BE=X((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],s=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(s)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],s=1,i=0;for(;++i<t&&(s*=256);)r+=this[e+i]*s;return s*=128,r>=s&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=t,s=1,i=this[e+--r];for(;r>0&&(s*=256);)i+=this[e+--r]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=X((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=X((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),s.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),s.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),s.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),s.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}let s=1,i=0;for(this[t]=255&e;++i<n&&(s*=256);)this[t+i]=e/s&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}let s=n-1,i=1;for(this[t+s]=255&e;--s>=0&&(i*=256);)this[t+s]=e/i&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=X((function(e){return I(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=X((function(e){return M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let s=0,i=1,o=0;for(this[t]=255&e;++s<n&&(i*=256);)e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/i|0)-o&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let s=n-1,i=1,o=0;for(this[t+s]=255&e;--s>=0&&(i*=256);)e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/i|0)-o&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=X((function(e){return I(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=X((function(e){return M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return $(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return $(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const s=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),s},l.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(s=t;s<n;++s)this[s]=e;else{const i=l.isBuffer(e)?e:l.from(e,r),o=i.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=i[s%o]}return this};const U={};function z(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function B(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function F(e,t,n,r,s,i){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let s;throw s=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new U.ERR_OUT_OF_RANGE("value",s,e)}!function(e,t,n){V(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||q(t,e.length-(n+1))}(r,s,i)}function V(e,t){if("number"!==typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,n){if(Math.floor(e)!==e)throw V(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,s=n;return Number.isInteger(n)&&Math.abs(n)>2**32?s=B(String(n)):"bigint"===typeof n&&(s=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(s=B(s)),s+="n"),r+=` It must be ${t}. Received ${s}`,r}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function W(e,t){let n;t=t||1/0;const r=e.length;let s=null;const i=[];for(let o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!s){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&i.push(239,191,189);continue}s=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),s=n;continue}n=65536+(s-55296<<10|n-56320)}else s&&(t-=3)>-1&&i.push(239,191,189);if(s=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function H(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function J(e,t,n,r){let s;for(s=0;s<r&&!(s+n>=t.length||s>=e.length);++s)t[s+n]=e[s];return s}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!==e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let s=0;s<16;++s)t[r+s]=e[n]+e[s]}return t}();function X(e){return"undefined"===typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},6900:(e,t)=>{t.read=function(e,t,n,r,s){var i,o,a=8*s-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?s-1:0,h=n?-1:1,p=e[t+d];for(d+=h,i=p&(1<<-u)-1,p>>=-u,u+=a;u>0;i=256*i+e[t+d],d+=h,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=r;u>0;o=256*o+e[t+d],d+=h,u-=8);if(0===i)i=1-c;else{if(i===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),i-=c}return(p?-1:1)*o*Math.pow(2,i-r)},t.write=function(e,t,n,r,s,i){var o,a,l,c=8*i-s-1,u=(1<<c)-1,d=u>>1,h=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(t*l-1)*Math.pow(2,s),o+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,s),o=0));s>=8;e[n+p]=255&a,p+=f,a/=256,s-=8);for(o=o<<s|a,c+=s;c>0;e[n+p]=255&o,p+=f,o/=256,c-=8);e[n+p-f]|=128*m}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,o=s>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,R(E);else{var t=r(u);null!==t&&I(w,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(j),j=-1),f=!0;var i=p;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&s(c),x(n)}else s(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&I(w,d.startTime-n),l=!1}return l}finally{h=null,p=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,k=null,j=-1,C=5,N=-1;function T(){return!(t.unstable_now()-N<C)}function A(){if(null!==k){var e=t.unstable_now();N=e;var n=!0;try{n=k(!0,e)}finally{n?S():(_=!1,k=null)}}else _=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=A,S=function(){O.postMessage(null)}}else S=function(){v(A,0)};function R(e){k=e,_||(_=!0,S())}function I(e,n){j=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,s,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>o?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(j),j=-1):g=!0,I(w,i-o))):(e.sortIndex=a,n(c,e),m||f||(m=!0,R(E))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7374:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(9286));class i extends s.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s="undefined"===typeof r?"offset":`${r}.offset`,i="undefined"===typeof r?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.Accept)&&void 0!==o?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=i},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},7980:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const s=r(n(1210));t.PostgrestClient=s.default;const i=r(n(8829));t.PostgrestQueryBuilder=i.default;const o=r(n(5736));t.PostgrestFilterBuilder=o.default;const a=r(n(7374));t.PostgrestTransformBuilder=a.default;const l=r(n(9286));t.PostgrestBuilder=l.default;const c=r(n(2611));t.PostgrestError=c.default,t.default={PostgrestClient:s.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default}},8829:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(5736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:s}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let i=!1;const o=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e))).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new s.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new s.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new s.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8917:(e,t,n)=>{"use strict";n.d(t,{xQ:()=>i});var r=n(5043),s=n(9674);function i(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,r.useContext)(s.t);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=t,a=(0,r.useId)();(0,r.useEffect)((()=>{if(e)return o(a)}),[e]);const l=(0,r.useCallback)((()=>e&&i&&i(a)),[a,i,e]);return!n&&i?[!1,l]:[!0]}},9286:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(4630)),i=r(n(2611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,n,r;let s=null,o=null,a=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(o="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),i=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&i&&i.length>1&&(a=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(s={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,a=null,l=406,c="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(o=[],s=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(r=null===s||void 0===s?void 0:s.details)||void 0===r?void 0:r.includes("0 rows"))&&(s=null,l=200,c="OK"),s&&this.shouldThrowOnError)throw new i.default(s)}return{error:s,data:o,count:a,status:l,statusText:c}}));return this.shouldThrowOnError||(n=n.catch((e=>{var t,n,r;return{error:{message:`${null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null===e||void 0===e?void 0:e.message}`,details:`${null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}}))),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},9674:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});const r=(0,n(5043).createContext)(null)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&s&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(i,o),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{152:"2656307d",198:"08537d24",250:"6b6e86c1",316:"97c8634b",453:"b0031d84",528:"df53f183",584:"6fdc3705",995:"5d4bc551"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="ikigai-app-new:";n.l=(r,s,i,o)=>{if(e[r])e[r].push(s);else{var a,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+i),a.src=r),e[r]=[s];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var s=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var i=new Promise(((n,r)=>s=e[t]=[n,r]));r.push(s[2]=i);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,s[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var s,i,o=r[0],a=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(l)l(n)}for(t&&t(r);c<o.length;c++)i=o[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkikigai_app_new=self.webpackChunkikigai_app_new||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(5043),t=n(4391);class r extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class s extends r{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class i extends r{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class o extends r{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var a,l;(l=a||(a={})).Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2";var c=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};class u{constructor(e){let{headers:t={},customFetch:r,region:s=a.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=s,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return c(this,void 0,void 0,(function*(){try{const{headers:r,method:a,body:l}=t;let c,u={},{region:d}=t;d||(d=this.region),d&&"any"!==d&&(u["x-region"]=d),l&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",c=l):"string"===typeof l?(u["Content-Type"]="text/plain",c=l):"undefined"!==typeof FormData&&l instanceof FormData?c=l:(u["Content-Type"]="application/json",c=JSON.stringify(l)));const h=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),r),body:c}).catch((e=>{throw new s(e)})),p=h.headers.get("x-relay-error");if(p&&"true"===p)throw new i(h);if(!h.ok)throw new o(h);let f,m=(null!==(n=h.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return f="application/json"===m?yield h.json():"application/octet-stream"===m?yield h.blob():"text/event-stream"===m?h:"multipart/form-data"===m?yield h.formData():yield h.text(),{data:f,error:null}}catch(r){return{data:null,error:r}}}))}}var d=n(7980);const{PostgrestClient:h,PostgrestQueryBuilder:p,PostgrestFilterBuilder:f,PostgrestTransformBuilder:m,PostgrestBuilder:g,PostgrestError:v}=d,y={"X-Client-Info":"realtime-js/2.11.2"};var b,x,w,E,S,_,k,j,C,N;(x=b||(b={}))[x.connecting=0]="connecting",x[x.open=1]="open",x[x.closing=2]="closing",x[x.closed=3]="closed",function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(w||(w={})),(S=E||(E={})).close="phx_close",S.error="phx_error",S.join="phx_join",S.reply="phx_reply",S.leave="phx_leave",S.access_token="access_token",(_||(_={})).websocket="websocket",(j=k||(k={})).Connecting="connecting",j.Open="open",j.Closing="closing",j.Closed="closed";class T{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),s=t.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(e.slice(i,i+r));i+=r;const a=n.decode(e.slice(i,i+s));i+=s;return{ref:null,topic:o,event:a,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}class A{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}(N=C||(C={})).abstime="abstime",N.bool="bool",N.date="date",N.daterange="daterange",N.float4="float4",N.float8="float8",N.int2="int2",N.int4="int4",N.int4range="int4range",N.int8="int8",N.int8range="int8range",N.json="json",N.jsonb="jsonb",N.money="money",N.numeric="numeric",N.oid="oid",N.reltime="reltime",N.text="text",N.time="time",N.timestamp="timestamp",N.timestamptz="timestamptz",N.timetz="timetz",N.tsrange="tsrange",N.tstzrange="tstzrange";const P=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce(((n,s)=>(n[s]=O(s,e,t,r),n)),{})},O=(e,t,n,r)=>{const s=t.find((t=>t.name===e)),i=null===s||void 0===s?void 0:s.type,o=n[e];return i&&!r.includes(i)?R(i,o):I(o)},R=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return $(t,n)}switch(e){case C.bool:return M(t);case C.float4:case C.float8:case C.int2:case C.int4:case C.int8:case C.numeric:case C.oid:return D(t);case C.json:case C.jsonb:return L(t);case C.timestamp:return U(t);case C.abstime:case C.date:case C.daterange:case C.int4range:case C.int8range:case C.money:case C.reltime:case C.text:case C.time:case C.timestamptz:case C.timetz:case C.tsrange:case C.tstzrange:default:return I(t)}},I=e=>e,M=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},D=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},L=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(s){r=i?i.split(","):[]}return r.map((e=>R(t,e)))}return e},U=e=>"string"===typeof e?e.replace(" ","T"):e,z=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class B{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter((e=>e.status===t)).forEach((e=>e.callback(n)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var F,V,q,G,W,H,J,K;(V=F||(F={})).SYNC="sync",V.JOIN="join",V.LEAVE="leave";class Y{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Y.syncState(this.state,e,t,n),this.pendingDiffs.forEach((e=>{this.state=Y.syncDiff(this.state,e,t,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Y.syncDiff(this.state,e,t,n),r())})),this.onJoin(((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave(((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,n,r){const s=this.cloneDeep(e),i=this.transformState(t),o={},a={};return this.map(s,((e,t)=>{i[e]||(a[e]=t)})),this.map(i,((e,t)=>{const n=s[e];if(n){const r=t.map((e=>e.presence_ref)),s=n.map((e=>e.presence_ref)),i=t.filter((e=>s.indexOf(e.presence_ref)<0)),l=n.filter((e=>r.indexOf(e.presence_ref)<0));i.length>0&&(o[e]=i),l.length>0&&(a[e]=l)}else o[e]=t})),this.syncDiff(s,{joins:o,leaves:a},n,r)}static syncDiff(e,t,n,r){const{joins:s,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(s,((t,r)=>{var s;const i=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map((e=>e.presence_ref)),r=i.filter((e=>n.indexOf(e.presence_ref)<0));e[t].unshift(...r)}n(t,i,r)})),this.map(i,((t,n)=>{let s=e[t];if(!s)return;const i=n.map((e=>e.presence_ref));s=s.filter((e=>i.indexOf(e.presence_ref)<0)),e[t]=s,r(t,s,n),0===s.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((n=>t(n,e[n])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):r,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(G=q||(q={})).ALL="*",G.INSERT="INSERT",G.UPDATE="UPDATE",G.DELETE="DELETE",(H=W||(W={})).BROADCAST="broadcast",H.PRESENCE="presence",H.POSTGRES_CHANGES="postgres_changes",H.SYSTEM="system",(K=J||(J={})).SUBSCRIBED="SUBSCRIBED",K.TIMED_OUT="TIMED_OUT",K.CLOSED="CLOSED",K.CHANNEL_ERROR="CHANNEL_ERROR";class Q{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=w.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new B(this,E.join,this.params,this.timeout),this.rejoinTimer=new A((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=w.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=w.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=w.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=w.errored,this.rejoinTimer.scheduleTimeout())})),this._on(E.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new Y(this),this.broadcastEndpointURL=z(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:i,private:o}}=this.params;this._onError((t=>null===e||void 0===e?void 0:e(J.CHANNEL_ERROR,t))),this._onClose((()=>null===e||void 0===e?void 0:e(J.CLOSED)));const a={},l={broadcast:s,presence:i,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((e=>e.filter)))&&void 0!==r?r:[],private:o};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,s=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,i=[];for(let r=0;r<s;r++){const s=t[r],{filter:{event:o,schema:a,table:l,filter:c}}=s,u=n&&n[r];if(!u||u.event!==o||u.schema!==a||u.table!==l||u.filter!==c)return this.unsubscribe(),void(null===e||void 0===e||e(J.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},s),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e(J.SUBSCRIBED))}null===e||void 0===e||e(J.SUBSCRIBED)})).receive("error",(t=>{null===e||void 0===e||e(J.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null===e||void 0===e||e(J.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise((n=>{var r,s,i;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(s=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===s?void 0:s.broadcast)||void 0===i?void 0:i.ack)||n("ok"),o.receive("ok",(()=>n("ok"))),o.receive("error",(()=>n("error"))),o.receive("timeout",(()=>n("timed out")))}));{const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(s){return"AbortError"===s.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=w.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(E.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((n=>{const r=new B(this,E.leave,{},e);r.receive("ok",(()=>{t(),n("ok")})).receive("timeout",(()=>{t(),n("timed out")})).receive("error",(()=>{n("error")})),r.send(),this._canPush()||r.trigger("ok",{})}))}async _fetchWithTimeout(e,t,n){const r=new AbortController,s=setTimeout((()=>r.abort()),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(s),i}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new B(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,s;const i=e.toLocaleLowerCase(),{close:o,error:a,leave:l,join:c}=E;if(n&&[o,a,l,c].indexOf(i)>=0&&n!==this._joinRef())return;let u=this._onMessage(i,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i})).map((e=>e.callback(u,n))):null===(s=this.bindings[i])||void 0===s||s.filter((e=>{var n,r,s,o,a,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,o=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===o||(null===o||void 0===o?void 0:o.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const n=null===(a=null===(o=null===e||void 0===e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i})).map((e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:s,errors:i}=e,o={schema:t,table:n,commit_timestamp:r,eventType:s,new:{},old:{},errors:i};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)}))}_isClosed(){return this.state===w.closed}_isJoined(){return this.state===w.joined}_isJoining(){return this.state===w.joining}_isLeaving(){return this.state===w.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&Q.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(E.close,{},e)}_onError(e){this._on(E.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=w.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=P(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=P(e.columns,e.old_record)),t}}const X=()=>{},Z="undefined"!==typeof WebSocket;class ee{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=y,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=X,this.conn=null,this.sendBuffer=[],this.serializer=new T,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},this.endPoint=`${e}/${_.websocket}`,this.httpEndpoint=z(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new A((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(Z)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new te(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),n.e(198).then(n.t.bind(n,1198,23)).then((e=>{let{default:t}=e;this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case b.connecting:return k.Connecting;case b.open:return k.Open;case b.closing:return k.Closing;default:return k.Closed}}isConnected(){return this.connectionState()===k.Open}channel(e){const t=new Q(`realtime:${e}`,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},this);return this.channels.push(t),t}push(e){const{topic:t,event:n,payload:r,ref:s}=e,i=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${n} (${s})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let n=null;try{n=JSON.parse(atob(e.split(".")[1]))}catch(t){}if(n&&n.exp){if(!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`)}this.accessTokenValue=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(E.access_token,{access_token:e})}))}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:n,payload:r,ref:s}=e;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${s&&"("+s+")"||""}`,r),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(n,r,s))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(E.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class te{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=b.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class ne extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function re(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class se extends ne{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ie extends ne{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var oe=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};const ae=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},le=e=>{if(Array.isArray(e))return e.map((e=>le(e)));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((e=>{let[n,r]=e;const s=n.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[s]=le(r)})),t};var ce=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};const ue=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),de=(e,t,r)=>ce(void 0,void 0,void 0,(function*(){const s=yield oe(void 0,void 0,void 0,(function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,4630))).Response:Response}));e instanceof s&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then((n=>{t(new se(ue(n),e.status||500))})).catch((e=>{t(new ie(ue(e),e))})):t(new ie(ue(e),e))}));function he(e,t,n,r,s,i){return ce(this,void 0,void 0,(function*(){return new Promise(((o,a)=>{e(n,((e,t,n,r)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))})(t,r,s,i)).then((e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()})).then((e=>o(e))).catch((e=>de(e,a,r)))}))}))}function pe(e,t,n,r){return ce(this,void 0,void 0,(function*(){return he(e,"GET",t,n,r)}))}function fe(e,t,n,r,s){return ce(this,void 0,void 0,(function*(){return he(e,"POST",t,r,s,n)}))}function me(e,t,n,r,s){return ce(this,void 0,void 0,(function*(){return he(e,"DELETE",t,r,s,n)}))}var ge=n(6382).Buffer,ve=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};const ye={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},be={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=ae(r)}uploadOrUpdate(e,t,n,r){return ve(this,void 0,void 0,(function*(){try{let s;const i=Object.assign(Object.assign({},be),r);let o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const a=i.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),a&&s.append("metadata",this.encodeMetadata(a)),s.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),a&&s.append("metadata",this.encodeMetadata(a))):(s=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,a&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),(null===r||void 0===r?void 0:r.headers)&&(o=Object.assign(Object.assign({},o),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:s,headers:o},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(s){if(re(s))return{data:null,error:s};throw s}}))}upload(e,t,n){return ve(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}uploadToSignedUrl(e,t,n,r){return ve(this,void 0,void 0,(function*(){const s=this._removeEmptyFolders(e),i=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:be.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);const a=yield this.fetch(o.toString(),{method:"PUT",body:e,headers:i}),l=yield a.json();if(a.ok)return{data:{path:s,fullPath:l.Key},error:null};return{data:null,error:l}}catch(a){if(re(a))return{data:null,error:a};throw a}}))}createSignedUploadUrl(e,t){return ve(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const s=yield fe(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),i=new URL(this.url+s.url),o=i.searchParams.get("token");if(!o)throw new ne("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}))}update(e,t,n){return ve(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}move(e,t,n){return ve(this,void 0,void 0,(function*(){try{return{data:yield fe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}))}copy(e,t,n){return ve(this,void 0,void 0,(function*(){try{return{data:{path:(yield fe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}))}createSignedUrl(e,t,n){return ve(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e),s=yield fe(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}))}createSignedUrls(e,t,n){return ve(this,void 0,void 0,(function*(){try{const r=yield fe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${s}`):null}))),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}))}download(e,t){return ve(this,void 0,void 0,(function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),s=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield pe(this.fetch,`${this.url}/${n}/${t}${s}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}}))}info(e){return ve(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield pe(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:le(e),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}))}exists(e){return ve(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return ce(this,void 0,void 0,(function*(){return he(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)}))}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(re(n)&&n instanceof ie){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}}))}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=(null===t||void 0===t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==s&&r.push(s);const i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==o&&r.push(o);let a=r.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}remove(e){return ve(this,void 0,void 0,(function*(){try{return{data:yield me(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}}))}list(e,t,n){return ve(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},ye),t),{prefix:e||""});return{data:yield fe(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof ge?ge.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const we={"X-Client-Info":"storage-js/2.7.1"};var Ee=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};class Se{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},we),t),this.fetch=ae(n)}listBuckets(){return Ee(this,void 0,void 0,(function*(){try{return{data:yield pe(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}}))}getBucket(e){return Ee(this,void 0,void 0,(function*(){try{return{data:yield pe(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}}))}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Ee(this,void 0,void 0,(function*(){try{return{data:yield fe(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}))}updateBucket(e,t){return Ee(this,void 0,void 0,(function*(){try{const n=yield function(e,t,n,r,s){return ce(this,void 0,void 0,(function*(){return he(e,"PUT",t,r,s,n)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}))}emptyBucket(e){return Ee(this,void 0,void 0,(function*(){try{return{data:yield fe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return Ee(this,void 0,void 0,(function*(){try{return{data:yield me(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}}))}}class _e extends Se{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new xe(this.url,this.headers,e,this.fetch)}}let ke="";ke="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const je={headers:{"X-Client-Info":`supabase-js-${ke}/2.49.4`}},Ce={schema:"public"},Ne={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Te={};var Ae=n(4630),Pe=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};const Oe=e=>{let t;return t=e||("undefined"===typeof fetch?Ae.default:fetch),function(){return t(...arguments)}},Re=(e,t,n)=>{const r=Oe(n),s="undefined"===typeof Headers?Ae.Headers:Headers;return(n,i)=>Pe(void 0,void 0,void 0,(function*(){var o;const a=null!==(o=yield t())&&void 0!==o?o:e;let l=new s(null===i||void 0===i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${a}`),r(n,Object.assign(Object.assign({},i),{headers:l}))}))};var Ie=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};const Me="2.69.1",De=3e4,Le=9e4,$e={"X-Client-Info":`gotrue-js/${Me}`},Ue="X-Supabase-Api-Version",ze={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Be=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Fe extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Ve(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class qe extends Fe{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Ge extends Fe{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class We extends Fe{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class He extends We{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Je extends We{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ke extends We{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ye extends We{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qe extends We{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xe extends We{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Ze(e){return Ve(e)&&"AuthRetryableFetchError"===e.name}class et extends We{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class tt extends We{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const nt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rt=" \t\n\r=".split(""),st=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<rt.length;t+=1)e[rt[t].charCodeAt(0)]=-2;for(let t=0;t<nt.length;t+=1)e[nt[t].charCodeAt(0)]=t;return e})();function it(e,t,n){const r=st[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function ot(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let o=0;o<e.length;o+=1)it(e.charCodeAt(o),s,i);return t.join("")}function at(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function lt(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}at(r,t)}}function ct(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let s=0;s<e.length;s+=1)it(e.charCodeAt(s),n,r);return new Uint8Array(t)}const ut=()=>"undefined"!==typeof window&&"undefined"!==typeof document,dt={tested:!1,writable:!1},ht=()=>{if(!ut())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(dt.tested)return dt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),dt.tested=!0,dt.writable=!0}catch(t){dt.tested=!0,dt.writable=!1}return dt.writable};const pt=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},ft=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},mt=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},gt=async(e,t)=>{await e.removeItem(t)};class vt{constructor(){this.promise=new vt.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function yt(e){const t=e.split(".");if(3!==t.length)throw new tt("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Be.test(t[n]))throw new tt("JWT not in base64url format");return{header:JSON.parse(ot(t[0])),payload:JSON.parse(ot(t[1])),signature:ct(t[2]),raw:{header:t[0],payload:t[1]}}}function bt(e){return("0"+e.toString(16)).substr(-2)}async function xt(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,bt).join("")}();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ft(e,`${t}-code-verifier`,s);const i=await xt(r);return[i,r===i?"plain":"s256"]}vt.promiseConstructor=Promise;const Et=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;var St=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const _t=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kt=[502,503,504];async function jt(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new Xe(_t(e),0);if(kt.includes(e.status))throw new Xe(_t(e),e.status);let r,s;try{r=await e.json()}catch(o){throw new Ge(_t(o),o)}const i=function(e){const t=e.headers.get(Ue);if(!t)return null;if(!t.match(Et))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(o){return null}}(e);if(i&&i.getTime()>=ze.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?s=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(s=r.error_code),s){if("weak_password"===s)throw new et(_t(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===s)throw new He}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0))throw new et(_t(r),e.status,r.weak_password.reasons);throw new qe(_t(r),e.status||500,s)}async function Ct(e,t,n,r){var s;const i=Object.assign({},null===r||void 0===r?void 0:r.headers);i[Ue]||(i[Ue]=ze.name),(null===r||void 0===r?void 0:r.jwt)&&(i.Authorization=`Bearer ${r.jwt}`);const o=null!==(s=null===r||void 0===r?void 0:r.query)&&void 0!==s?s:{};(null===r||void 0===r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,n,r,s,i){const o=((e,t,n,r)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))})(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Xe(_t(l),0)}a.ok||await jt(a);if(null===r||void 0===r?void 0:r.noResolveJson)return a;try{return await a.json()}catch(l){await jt(l)}}(e,t,n+a,{headers:i,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function Nt(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Tt(e){const t=Nt(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function At(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Pt(e){return{data:e,error:null}}function Ot(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=St(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},user:Object.assign({},o)},error:null}}function Rt(e){return e}var It=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};class Mt{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=pt(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";try{return await Ct(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:At})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=It(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await Ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Ot,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(Ve(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ct(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:At})}catch(t){if(Ve(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,s,i,o,a;try{const l={nextPage:null,lastPage:0,total:0},c=await Ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:Rt});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(a=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==a?a:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t})),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Ve(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await Ct(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:At})}catch(t){if(Ve(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Ct(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:At})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:At})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await Ct(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(Ve(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Ve(t))return{data:null,error:t};throw t}}}const Dt={getItem:e=>ht()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ht()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ht()&&globalThis.localStorage.removeItem(e)}};function Lt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const $t=!!(globalThis&&ht()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Ut extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zt extends Ut{}async function Bt(e,t,n){$t&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout((()=>{r.abort(),$t&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},(async r=>{if(!r){if(0===t)throw $t&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zt(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($t)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}$t&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{$t&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const Ft={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$e,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vt(e,t,n){return await n()}class qt{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qt.nextInstanceID,qt.nextInstanceID+=1,this.instanceID>0&&ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Ft),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Mt({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=pt(r.fetch),this.lock=r.lock||Vt,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:ut()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Bt:this.lock=Vt,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:ht()?this.storage=Dt:(this.memoryStorage={},this.storage=Lt(this.memoryStorage)):(this.memoryStorage={},this.storage=Lt(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(`GoTrueClient@${this.instanceID} (${Me}) ${(new Date).toISOString()}`,...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((e,n)=>{t[n]=e}))}catch(r){}return n.searchParams.forEach(((e,n)=>{t[n]=e})),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),ut()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),function(e){return Ve(e)&&"AuthImplicitGrantRedirectError"===e.name}(s)){const t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout((async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Ve(t)?{error:t}:{error:new Ge("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const s=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:Nt}),{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const a=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(s){if(Ve(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,n,r;try{let s;if("email"in e){const{email:n,password:r,options:i}=e;let o=null,a=null;"pkce"===this.flowType&&([o,a]=await wt(this.storage,this.storageKey)),s=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:o,code_challenge_method:a},xform:Nt})}else{if(!("phone"in e))throw new Ke("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:o}=e;s=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null===o||void 0===o?void 0:o.data)&&void 0!==n?n:{},channel:null!==(r=null===o||void 0===o?void 0:o.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:Nt})}}const{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const a=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(s){if(Ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:s}=e;t=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:Tt})}else{if(!("phone"in e))throw new Ke("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:s}=e;t=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:Tt})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new Je}}catch(t){if(Ve(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await mt(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:s}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Nt});if(await gt(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:s}):{data:{user:null,session:null,redirectType:null},error:new Je}}catch(s){if(Ve(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:s,nonce:i}=e,o=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Nt}),{data:a,error:l}=o;return l?{data:{user:null,session:null},error:l}:a&&a.session&&a.user?(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:l}):{data:{user:null,session:null},error:new Je}}catch(t){if(Ve(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,s,i;try{if("email"in e){const{email:r,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await wt(this.storage,this.storageKey));const{error:a}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(n=null===s||void 0===s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:t,options:n}=e,{data:o,error:a}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(s=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(i=null===n||void 0===n?void 0:n.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:a}}throw new Ke("You must provide either an email or phone number.")}catch(o){if(Ve(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let r,s;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:o}=await Ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:Nt});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const a=i.session,l=i.user;return(null===a||void 0===a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(r){if(Ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let s=null,i=null;return"pkce"===this.flowType&&([s,i]=await wt(this.storage,this.storageKey)),await Ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:Pt})}catch(s){if(Ve(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new He;const{error:r}=await Ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}))}catch(e){if(Ve(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:s}=e,{error:i}=await Ct(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:n,type:r,options:s}=e,{data:i,error:o}=await Ct(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new Ke("You must provide either an email or phone number and a type")}catch(t){if(Ve(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await mt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Le;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:At}):await this._useSession((async e=>{var t,n,r;const{data:s,error:i}=e;if(i)throw i;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:At}):{data:{user:null},error:new He}}))}catch(t){if(Ve(t))return function(e){return Ve(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession((async n=>{const{data:r,error:s}=n;if(s)throw s;if(!r.session)throw new He;const i=r.session;let o=null,a=null;"pkce"===this.flowType&&null!=e.email&&([o,a]=await wt(this.storage,this.storageKey));const{data:l,error:c}=await Ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:a}),jwt:i.access_token,xform:At});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}))}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new He;const t=Date.now()/1e3;let n=t,r=!0,s=null;const{payload:i}=yt(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;s={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(Ve(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var n;if(!e){const{data:r,error:s}=t;if(s)throw s;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new He;const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(Ve(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ut())throw new Ye("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ye(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Qe("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Ye("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Qe("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:s,refresh_token:i,expires_in:o,expires_at:a,token_type:l}=e;if(!s||!o||!i||!l)throw new Ye("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(o);let d=c+u;a&&(d=parseInt(a));const h=d-c;1e3*h<=De&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${u}s`);const p=d-u;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,c);const{data:f,error:m}=await this._getUser(s);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:s,expires_in:u,expires_at:d,refresh_token:i,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(Ve(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await mt(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession((async t=>{var n;const{data:r,error:s}=t;if(s)return{error:s};const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return Ve(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession((async t=>{var n,r;try{const{data:{session:r},error:s}=t;if(s)throw s;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(s){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await wt(this.storage,this.storageKey,!0));try{return await Ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(Ve(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Ve(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession((async t=>{var n,r,s,i,o;const{data:a,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await Ct(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(i=a.session)||void 0===i?void 0:i.access_token)&&void 0!==o?o:void 0})}));if(r)throw r;return ut()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(Ve(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var n,r;const{data:s,error:i}=t;if(i)throw i;return await Ct(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})}))}catch(t){if(Ve(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Nt})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Ze(t)&&Date.now()+n-s<De},new Promise(((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{const t=await n(i);if(!r(i,null,t))return void e(t)}catch(s){if(!r(i,s))return void t(s)}})()})))}catch(s){if(this._debug(t,"error",s),Ve(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),ut()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await mt(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=1e3*(null!==(e=n.expires_at)&&void 0!==e?e:1/0)-Date.now()<Le;if(this._debug(t,`session has${r?"":" not"} expired with margin of 90000s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),Ze(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return this._debug(t,"error",n),void console.error(n)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new He;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new vt;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new He;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(s){if(this._debug(r,"error",s),Ve(s)){const e={session:null,error:s};return Ze(s)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],s=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(e,t)}catch(s){r.push(s)}}));if(await Promise.all(s),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ft(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await gt(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ut()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),De);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/De);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof Ut))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null===n||void 0===n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await wt(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await Ct(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(Ve(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var n,r;const{data:s,error:i}=t;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:l}=await Ct(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:null===(n=null===s||void 0===s?void 0:s.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===a||void 0===a?void 0:a.totp)||void 0===r?void 0:r.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})}))}catch(t){if(Ve(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;if(s)return{data:null,error:s};const{data:i,error:o}=await Ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})}))}catch(t){if(Ve(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await Ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(Ve(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),s=n.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:n,totp:r,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,n;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=yt(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==n?n:[]).length>0&&(a="aal2");return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:i.amr||[]},error:null}}))))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find((t=>t.kid===e));if(t)return t;if(t=this.jwks.keys.find((t=>t.kid===e)),t&&this.jwks_cached_at+6e5>Date.now())return t;const{data:n,error:r}=await Ct(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;if(!n.keys||0===n.keys.length)throw new tt("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),t=n.keys.find((t=>t.kid===e)),!t)throw new tt("No matching signing key found in JWKS");return t}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:s,signature:i,raw:{header:o,payload:a}}=yt(n);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(s.exp),!r.kid||"HS256"===r.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:s,header:r,signature:i},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),c=await this.fetchJwk(r.kid,t),u=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!await crypto.subtle.verify(l,u,i,function(e){const t=[];return lt(e,(e=>t.push(e))),new Uint8Array(t)}(`${o}.${a}`)))throw new tt("Invalid JWT signature");return{data:{claims:s,header:r,signature:i},error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}}qt.nextInstanceID=0;const Gt=qt;class Wt extends Gt{constructor(e){super(e)}}var Ht=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};class Jt{constructor(e,t,n){var r,s,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=e.replace(/\/$/,"");this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l=function(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>Ie(this,void 0,void 0,(function*(){return""}))};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}(null!==n&&void 0!==n?n:{},{db:Ce,realtime:Te,auth:Object.assign(Object.assign({},Ne),{storageKey:a}),global:je});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(s=l.global.headers)&&void 0!==s?s:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(i=l.auth)&&void 0!==i?i:{},this.headers,l.global.fetch),this.fetch=Re(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new h(`${o}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new u(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new _e(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Ht(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:s,detectSessionInUrl:i,storage:o,storageKey:a,flowType:l,lock:c,debug:u}=e;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wt({url:this.authUrl,headers:Object.assign(Object.assign({},d),t),storageKey:a,autoRefreshToken:r,persistSession:s,detectSessionInUrl:i,storage:o,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ee(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)}))}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const{supabaseUrl:Kt,supabaseAnonKey:Yt}=(()=>{const e="https://mgegwthaogszzgflwery.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1nZWd3dGhhb2dzenpnZmx3ZXJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQxMjUyMjIsImV4cCI6MjA1OTcwMTIyMn0.ojqRmmC1O4sFTJDydtdSQ15J5ywMyCNBAkMYAkqYQxM";return{supabaseUrl:e,supabaseAnonKey:t}})(),Qt=new Jt(Kt,Yt,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{headers:{}}});const Xt=e=>{if(console.error("Traitement d'erreur Supabase:","object"===typeof e?JSON.stringify(e):e),!e)return"Une erreur s'est produite. Veuillez r\xe9essayer.";if("object"===typeof e&&(0===Object.keys(e).length||"{}"===JSON.stringify(e)||"[object Object]"===e.toString()))return console.warn("Objet d'erreur vide d\xe9tect\xe9",e),"Le service d'authentification est temporairement indisponible. Veuillez r\xe9essayer plus tard.";if(e.code)switch(e.code){case"auth/invalid-email":return"Format d'email invalide.";case"auth/user-not-found":case"auth/wrong-password":return"Identifiants incorrects.";case"auth/email-already-in-use":return"Cette adresse email est d\xe9j\xe0 utilis\xe9e.";case"auth/weak-password":return"Le mot de passe doit contenir au moins 6 caract\xe8res.";case"auth/invalid-login-credentials":return"Identifiants incorrects. V\xe9rifiez votre email et mot de passe.";case"23505":return"Cet utilisateur existe d\xe9j\xe0.";default:return e.message||`Erreur (${e.code}): Veuillez r\xe9essayer.`}return e.message?e.message:"string"===typeof e?e:"Une erreur s'est produite. Veuillez r\xe9essayer."};const Zt=class{static async getCurrentUser(){try{const{data:{user:e},error:t}=await Qt.auth.getUser();if(t)throw t;return e}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration de l'utilisateur:",e),null}}static async signUp(e,t){try{const{data:n,error:r}=await Qt.auth.signUp({email:e,password:t});if(r)throw r;if(!n||!n.user)throw new Error("Erreur lors de l'inscription. Veuillez r\xe9essayer.");return{user:n.user,success:!0,message:"Inscription r\xe9ussie! V\xe9rifiez votre email pour confirmer votre compte."}}catch(n){console.error("Erreur lors de l'inscription:",n);return{user:null,success:!1,message:Xt(n)||"Erreur lors de l'inscription. Veuillez r\xe9essayer."}}}static async signIn(e,t){try{const{data:n,error:r}=await Qt.auth.signInWithPassword({email:e,password:t});if(r)throw r;if(!n||!n.user)throw new Error("Erreur lors de la connexion. Veuillez v\xe9rifier vos identifiants.");return{user:n.user,success:!0,message:"Connexion r\xe9ussie!"}}catch(n){console.error("Erreur lors de la connexion:",n);return{user:null,success:!1,message:Xt(n)||"Identifiants incorrects. Veuillez r\xe9essayer."}}}static async signInWithGoogle(){try{const e=window.location.origin;console.log("URL de redirection OAuth configur\xe9e:",e);const t=Date.now().toString();"true"!==localStorage.getItem("onboardingCompleted")?(console.log("Connexion Google - Statut onboarding non confirm\xe9, configuration pour redirection"),localStorage.setItem("onboardingCompleted","false"),localStorage.setItem("authSessionId",t)):console.log("Connexion Google - Statut onboarding d\xe9j\xe0 confirm\xe9 comme compl\xe9t\xe9");const n={redirectTo:e,persistSession:!0},{error:r}=await Qt.auth.signInWithOAuth({provider:"google",options:n});if(r)throw r;return{success:!0,message:"Redirection vers Google..."}}catch(e){console.error("Erreur lors de la connexion avec Google:",e);return{success:!1,message:Xt(e)||"Erreur lors de la connexion avec Google. Veuillez r\xe9essayer."}}}static async signOut(){try{const{error:e}=await Qt.auth.signOut();if(e)throw e;return{success:!0,message:"D\xe9connexion r\xe9ussie!"}}catch(e){console.error("Erreur lors de la d\xe9connexion:",e);return{success:!1,message:Xt(e)}}}static async isAuthenticated(){try{return!!await this.getCurrentUser()}catch(e){return!1}}static async resetPassword(e){try{const{error:t}=await Qt.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});if(t)throw t;return{success:!0,message:"Email de r\xe9initialisation envoy\xe9 avec succ\xe8s!"}}catch(t){console.error("Erreur lors de la r\xe9initialisation du mot de passe:",t);return{success:!1,message:Xt(t)||"Erreur lors de l'envoi de l'email de r\xe9initialisation. Veuillez r\xe9essayer."}}}};class en{constructor(e){this.userId=e,this.totalPoints=0,this.streak=0,this.wellnessScore=65,this.completedModules={},this.completedChallenges=[],this.badges=[],this.moduleResponses={},this.islandProgress={mindfulness:{progress:0,completedModules:0},productivity:{progress:0,completedModules:0},stress:{progress:0,completedModules:0},balance:{progress:0,completedModules:0}}}addPoints(e){return this.totalPoints+=e,this.totalPoints}completeModule(e,t){if(this.completedModules[e]=!0,this.totalPoints+=100,t&&this.islandProgress[t]){const e=4,n=Object.keys(this.completedModules).filter((e=>e.startsWith(t))).length;this.islandProgress[t].completedModules=n,this.islandProgress[t].progress=Math.min(100,Math.round(n/e*100)),this.updateBadges(t)}return this}completeChallenge(e){return this.completedChallenges.includes(e)||(this.completedChallenges.push(e),this.totalPoints+=50,this.streak+=1,this.wellnessScore=Math.min(100,this.wellnessScore+2)),this}saveModuleResponses(e,t){return this.moduleResponses[e]={responses:t,completedAt:(new Date).toISOString()},this}updateBadges(e){const t=this.islandProgress[e].progress;return t>=100?this.addBadgeIfNotExists(`${e}_advanced`,{id:`${e}_advanced`,name:`Ma\xeetre de ${e}`,description:`Tous les modules de l'\xeele ${e} compl\xe9t\xe9s`,icon:"\ud83c\udfc6"}):t>=50?this.addBadgeIfNotExists(`${e}_intermediate`,{id:`${e}_intermediate`,name:`Explorateur de ${e}`,description:`50% des modules de l'\xeele ${e} compl\xe9t\xe9s`,icon:"\ud83c\udf1f"}):t>=25&&this.addBadgeIfNotExists(`${e}_beginner`,{id:`${e}_beginner`,name:`D\xe9couvreur de ${e}`,description:`Premier module de l'\xeele ${e} compl\xe9t\xe9`,icon:"\ud83c\udf31"}),this}addBadgeIfNotExists(e,t){return this.badges.some((t=>t.id===e))||this.badges.push(t),this}toJSON(){return{userId:this.userId,totalPoints:this.totalPoints,streak:this.streak,wellnessScore:this.wellnessScore,completedModules:this.completedModules,completedChallenges:this.completedChallenges,badges:this.badges,moduleResponses:this.moduleResponses,islandProgress:this.islandProgress}}static fromJSON(e){const t=new en(e.userId);return t.totalPoints=e.totalPoints||0,t.streak=e.streak||0,t.wellnessScore=e.wellnessScore||65,t.completedModules=e.completedModules||{},t.completedChallenges=e.completedChallenges||[],t.badges=e.badges||[],t.moduleResponses=e.moduleResponses||{},t.islandProgress=e.islandProgress||{mindfulness:{progress:0,completedModules:0},productivity:{progress:0,completedModules:0},stress:{progress:0,completedModules:0},balance:{progress:0,completedModules:0}},t}}class tn{static getInitialProgress(){return new en(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null).toJSON()}static async getProgress(){try{const{data:{user:e}}=await Qt.auth.getUser();if(e){const{data:t,error:n}=await Qt.from("user_progress").select("*").eq("user_id",e.id).single();if(n)throw n;if(t)return JSON.parse(t.progress_data)}return this.getProgressSync()}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es:",e),this.getProgressSync()}}static async getUserSettings(){const e={notifications:!0,sounds:!0,darkMode:!1,dataPrivacy:"standard",language:"fr",dailyReminders:!1,meditationSounds:!1};try{const{data:{user:n}}=await Qt.auth.getUser();if(!n)return console.log("Utilisateur non connect\xe9, utilisation des param\xe8tres par d\xe9faut."),e;const{data:r,error:s}=await Qt.from("user_settings").select("settings").eq("user_id",n.id).single();if(s)return"PGRST116"===s.code?(console.log("Aucun param\xe8tre trouv\xe9 pour cet utilisateur, utilisation des param\xe8tres par d\xe9faut."),e):(console.error("Erreur lors de la r\xe9cup\xe9ration des param\xe8tres utilisateur:",s),e);if(!r||!r.settings)return e;if("string"!==typeof r.settings)return"object"===typeof r.settings?{...e,...r.settings}:(console.warn("Format des param\xe8tres inattendu:",r.settings),e);try{const t=JSON.parse(r.settings);return{...e,...t}}catch(t){return console.error("Erreur lors du parsing des param\xe8tres JSON:",t),e}}catch(n){return console.error("Erreur g\xe9n\xe9rale lors de la r\xe9cup\xe9ration des param\xe8tres utilisateur:",n),e}}static getProgressSync(){const e=localStorage.getItem(this.LOCAL_STORAGE_KEY);if(e)try{return JSON.parse(e)}catch(t){return console.error("Erreur lors du parsing des donn\xe9es locales:",t),this.getInitialProgress()}return this.getInitialProgress()}static async saveProgress(e){try{localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(e));const{data:{user:t}}=await Qt.auth.getUser();if(t){const{error:n}=await Qt.from("user_progress").upsert({user_id:t.id,progress_data:JSON.stringify(e),updated_at:new Date});if(n)throw n}return e}catch(t){return console.error("Erreur lors de la sauvegarde des donn\xe9es:",t),e}}static async completeModule(e,t){try{const n=await this.getProgress(),r=en.fromJSON(n);r.completeModule(e,t);const s=r.toJSON();return await this.saveProgress(s)}catch(n){return console.error("Erreur lors de la compl\xe9tion du module:",n),this.completeModuleSync(e,t)}}static completeModuleSync(e,t){const n=this.getProgressSync(),r=en.fromJSON(n);r.completeModule(e,t);const s=r.toJSON();return localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(s)),s}static async completeChallenge(e){try{const t=await this.getProgress(),n=en.fromJSON(t);n.completeChallenge(e);const r=n.toJSON();return await this.saveProgress(r)}catch(t){return console.error("Erreur lors de la compl\xe9tion du d\xe9fi:",t),this.completeChallengeSync(e)}}static completeChallengeSync(e){const t=this.getProgressSync(),n=en.fromJSON(t);n.completeChallenge(e);const r=n.toJSON();return localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(r)),r}static async saveOnboardingResponses(e){try{console.log("StorageService: Sauvegarde des r\xe9ponses d'onboarding:",e);let n={...e};Object.keys(n).forEach((e=>{if(e.endsWith("_custom")){const t=e.replace("_custom","");console.log(`StorageService: Fusion des donn\xe9es personnalis\xe9es pour ${t}`),n.customValues=n.customValues||{},n.customValues[t]=n[e],delete n[e]}})),n.completedAt||(n.completedAt=(new Date).toISOString());const r=await this.getProgress(),s=en.fromJSON(r);s.saveModuleResponses("onboarding",n),localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(s.toJSON()));const{data:{user:i}}=await Qt.auth.getUser();if(i){console.log("StorageService: Utilisateur connect\xe9, sauvegarde dans Supabase pour:",i.id);try{console.log("StorageService: Tentative de sauvegarde dans user_responses");const{error:e}=await Qt.from("user_responses").upsert({user_id:i.id,module_id:"onboarding",responses:n,created_at:new Date},{onConflict:"user_id,module_id"});if(e){console.warn("StorageService: Erreur avec user_responses:",e.message),console.log("StorageService: Tentative avec table d\xe9di\xe9e onboarding_responses");const{error:t}=await Qt.from("onboarding_responses").upsert({user_id:i.id,responses:n,updated_at:new Date},{onConflict:"user_id"});if(t)throw console.warn("StorageService: Fallback \xe9galement \xe9chou\xe9:",t.message),t;console.log("StorageService: Sauvegarde dans onboarding_responses r\xe9ussie")}else console.log("StorageService: Sauvegarde dans user_responses r\xe9ussie")}catch(t){console.error("StorageService: \xc9chec de toutes les strat\xe9gies:",t),localStorage.setItem("onboarding_responses_backup",JSON.stringify({user_id:i.id,responses:n,timestamp:(new Date).toISOString(),error:t.message}))}const e=s.toJSON();await this.saveProgress(e)}else console.log("StorageService: Aucun utilisateur connect\xe9, sauvegarde locale uniquement");return s.toJSON()}catch(n){return console.error("Erreur lors de la sauvegarde des r\xe9ponses d'onboarding:",n),this.saveOnboardingResponsesSync(e)}}static saveOnboardingResponsesSync(e){let t={...e};Object.keys(t).forEach((e=>{if(e.endsWith("_custom")){const n=e.replace("_custom","");t.customValues=t.customValues||{},t.customValues[n]=t[e],delete t[e]}})),t.completedAt||(t.completedAt=(new Date).toISOString());const n=this.getProgressSync(),r=en.fromJSON(n);r.saveModuleResponses("onboarding",t);const s=r.toJSON();return localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(s)),s}static async saveModuleResponses(e,t){if("onboarding"===e)return await this.saveOnboardingResponses(t);try{const n=await this.getProgress(),r=en.fromJSON(n);r.saveModuleResponses(e,t);const s=r.toJSON();return await this.saveProgress(s)}catch(n){return console.error("Erreur lors de la sauvegarde des r\xe9ponses:",n),this.saveModuleResponsesSync(e,t)}}static saveModuleResponsesSync(e,t){if("onboarding"===e)return this.saveOnboardingResponsesSync(t);const n=this.getProgressSync(),r=en.fromJSON(n);r.saveModuleResponses(e,t);const s=r.toJSON();return localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(s)),s}static resetAllData(){return localStorage.removeItem(this.LOCAL_STORAGE_KEY),this.getInitialProgress()}}tn.LOCAL_STORAGE_KEY="ikigai_progress";const nn=tn;class rn{constructor(e,t,n,r,s,i,o,a){this.id=e,this.name=t,this.description=n,this.color=r,this.icon=s,this.mascot=i,this.modules=o||4,this.badges=a||{}}static fromJSON(e){return new rn(e.id,e.name,e.description,e.color,e.icon,e.mascot,e.modules,e.badges)}}const sn=[new rn("mindfulness","\xcele de la Pleine Conscience","Apprenez \xe0 vivre dans le moment pr\xe9sent et \xe0 d\xe9velopper votre attention consciente","#4EAAF0","\ud83e\uddd8","\ud83e\udd89",4,{beginner:{id:"mindfulness_beginner",name:"Apprenti M\xe9ditant",description:"Premier pas vers la pleine conscience",icon:"\ud83e\uddd8"},intermediate:{id:"mindfulness_intermediate",name:"M\xe9ditant R\xe9gulier",description:"Pratique r\xe9guli\xe8re de la pleine conscience",icon:"\ud83e\udde0"},advanced:{id:"mindfulness_advanced",name:"Ma\xeetre Zen",description:"Expert en pleine conscience",icon:"\u2728"}}),new rn("productivity","\xcele de la Productivit\xe9","D\xe9couvrez des techniques pour am\xe9liorer votre concentration et votre efficacit\xe9","#41D185","\u23f0\ufe0f","\ud83e\udd8a",4,{beginner:{id:"productivity_beginner",name:"Organisateur D\xe9butant",description:"Premiers pas vers une meilleure organisation",icon:"\ud83d\udcdd"},intermediate:{id:"productivity_intermediate",name:"Gestionnaire du Temps",description:"Ma\xeetrise de la gestion du temps",icon:"\u23f0\ufe0f"},advanced:{id:"productivity_advanced",name:"Ma\xeetre de la Productivit\xe9",description:"Expert en productivit\xe9 et organisation",icon:"\ud83d\ude80"}}),new rn("stress","\xcele Anti-Stress","Apprenez \xe0 g\xe9rer votre stress et \xe0 retrouver votre calme int\xe9rieur","#FF8747","\ud83c\udf0a","\ud83d\udc22",4,{beginner:{id:"stress_beginner",name:"Apprenti Zen",description:"Premiers pas vers la gestion du stress",icon:"\ud83d\ude0c"},intermediate:{id:"stress_intermediate",name:"Ma\xeetre du Calme",description:"Capacit\xe9 \xe0 maintenir son calme sous pression",icon:"\ud83e\uddd8"},advanced:{id:"stress_advanced",name:"Guru Anti-Stress",description:"Expert en gestion du stress",icon:"\ud83c\udf08"}}),new rn("balance","\xcele de l'\xc9quilibre","Trouvez l'harmonie entre vie professionnelle et personnelle","#B069F8","\u2696\ufe0f","\ud83e\udd8b",4,{beginner:{id:"balance_beginner",name:"Chercheur d'\xc9quilibre",description:"Premiers pas vers l'\xe9quilibre vie pro/perso",icon:"\ud83c\udf31"},intermediate:{id:"balance_intermediate",name:"\xc9quilibriste",description:"Maintien d'un bon \xe9quilibre au quotidien",icon:"\u2696\ufe0f"},advanced:{id:"balance_advanced",name:"Ma\xeetre de l'Harmonie",description:"Expert en \xe9quilibre de vie",icon:"\ud83c\udf1f"}})],on=[{id:"mindfulness_intro",title:"Introduction \xe0 la pleine conscience",description:"D\xe9couvrez les principes fondamentaux de la pleine conscience et ses bienfaits",icon:"\ud83e\uddd8",duration:"15 min",points:100,islandId:"mindfulness",content:'\n      <div class="mb-4">\n        <h3 class="text-xl font-bold mb-2">Qu\'est-ce que la pleine conscience ?</h3>\n        <p>La pleine conscience est la pratique qui consiste \xe0 porter son attention sur le moment pr\xe9sent, d\xe9lib\xe9r\xe9ment et sans jugement. C\'est une fa\xe7on d\'\xeatre pleinement pr\xe9sent \xe0 ce que vous faites, o\xf9 vous \xeates et avec qui vous \xeates.</p>\n      </div>\n      \n      <div class="mb-4">\n        <h3 class="text-xl font-bold mb-2">Bienfaits au travail</h3>\n        <ul class="list-disc pl-5 space-y-2">\n          <li>R\xe9duction du stress et de l\'anxi\xe9t\xe9</li>\n          <li>Am\xe9lioration de la concentration et de la productivit\xe9</li>\n          <li>Meilleure gestion des \xe9motions</li>\n          <li>Relations professionnelles plus harmonieuses</li>\n        </ul>\n      </div>\n    ',questions:[{id:"mindfulness_understanding",question:"Selon vous, qu'est-ce que la pleine conscience ?",type:"multiple_choice",required:!0,options:[{id:"a",label:"Une technique pour ne penser qu'au futur"},{id:"b",label:"La capacit\xe9 \xe0 faire plusieurs choses en m\xeame temps"},{id:"c",label:"Porter son attention sur le moment pr\xe9sent, sans jugement"},{id:"d",label:"Une m\xe9thode pour \xe9viter les pens\xe9es n\xe9gatives uniquement"}]},{id:"mindfulness_benefits",question:"Quels bienfaits de la pleine conscience vous int\xe9ressent le plus ?",type:"checkbox",required:!0,maxSelect:2,options:[{id:"a",label:"R\xe9duction du stress"},{id:"b",label:"Meilleure concentration"},{id:"c",label:"Am\xe9lioration du sommeil"},{id:"d",label:"Gestion des \xe9motions"},{id:"e",label:"Relations plus harmonieuses"}]}]},{id:"mindfulness_breathing",title:"Techniques de respiration",description:"Apprenez des exercices de respiration pour vous recentrer rapidement",icon:"\ud83e\udec1",duration:"10 min",points:100,islandId:"mindfulness",content:'\n      <div class="mb-4">\n        <h3 class="text-xl font-bold mb-2">La respiration consciente</h3>\n        <p>La respiration est une ancre puissante pour nous ramener au moment pr\xe9sent. Ces techniques simples peuvent \xeatre pratiqu\xe9es n\'importe o\xf9, m\xeame au bureau.</p>\n      </div>\n      \n      <div class="mb-4">\n        <h3 class="text-xl font-bold mb-2">Technique 4-7-8</h3>\n        <ol class="list-decimal pl-5 space-y-2">\n          <li>Inspirez par le nez pendant 4 secondes</li>\n          <li>Retenez votre souffle pendant 7 secondes</li>\n          <li>Expirez lentement par la bouche pendant 8 secondes</li>\n          <li>R\xe9p\xe9tez 3 \xe0 5 fois</li>\n        </ol>\n      </div>\n    ',questions:[{id:"breathing_frequency",question:"\xc0 quelle fr\xe9quence pratiquez-vous des exercices de respiration ?",type:"multiple_choice",required:!0,options:[{id:"a",label:"Jamais"},{id:"b",label:"Rarement"},{id:"c",label:"Occasionnellement"},{id:"d",label:"R\xe9guli\xe8rement"}]},{id:"breathing_benefits",question:"Sur une \xe9chelle de 1 \xe0 5, \xe0 quel point vous sentez-vous d\xe9tendu apr\xe8s avoir pratiqu\xe9 l'exercice 4-7-8 ?",type:"scale",required:!0,max:5,labels:["Pas du tout","Extr\xeamement"]}]},{id:"productivity_focus",title:"Techniques de concentration",description:"D\xe9couvrez des m\xe9thodes pour am\xe9liorer votre focus et \xe9viter les distractions",icon:"\ud83c\udfaf",duration:"12 min",points:100,islandId:"productivity",content:'\n      <div class="mb-4">\n        <h3 class="text-xl font-bold mb-2">La m\xe9thode Pomodoro</h3>\n        <p>Cette technique consiste \xe0 travailler en intervalles de 25 minutes, suivis de courtes pauses de 5 minutes. Apr\xe8s 4 cycles, prenez une pause plus longue de 15-30 minutes.</p>\n      </div>\n      \n      <div class="mb-4">\n        <h3 class="text-xl font-bold mb-2">\xc9liminer les distractions</h3>\n        <ul class="list-disc pl-5 space-y-2">\n          <li>D\xe9sactivez les notifications</li>\n          <li>Utilisez des applications de blocage</li>\n          <li>Communiquez vos plages de concentration \xe0 vos coll\xe8gues</li>\n        </ul>\n      </div>\n    ',questions:[{id:"focus_challenges",question:"Quelles sont vos principales sources de distraction au travail ?",type:"checkbox",required:!0,options:[{id:"a",label:"Notifications (email, messagerie)"},{id:"b",label:"Coll\xe8gues qui interrompent"},{id:"c",label:"R\xe9seaux sociaux"},{id:"d",label:"Pens\xe9es vagabondes"},{id:"e",label:"Bruit ambiant"}]},{id:"pomodoro_interest",question:"Pensez-vous que la m\xe9thode Pomodoro pourrait vous aider ?",type:"multiple_choice",required:!0,options:[{id:"a",label:"Oui, certainement"},{id:"b",label:"Peut-\xeatre"},{id:"c",label:"Je ne suis pas s\xfbr"},{id:"d",label:"Non, cela ne me conviendrait pas"}]}]},{id:"stress_management",title:"Gestion du stress",description:"Apprenez \xe0 identifier et g\xe9rer efficacement votre stress au travail",icon:"\ud83c\udf0a",duration:"15 min",points:100,islandId:"stress",content:'\n      <div class="mb-4">\n        <h3 class="text-xl font-bold mb-2">Reconna\xeetre les signes du stress</h3>\n        <p>Le stress se manifeste diff\xe9remment selon les personnes : irritabilit\xe9, fatigue, troubles du sommeil, difficult\xe9s de concentration, tensions musculaires...</p>\n      </div>\n      \n      <div class="mb-4">\n        <h3 class="text-xl font-bold mb-2">Techniques rapides d\'apaisement</h3>\n        <ul class="list-disc pl-5 space-y-2">\n          <li>Respiration profonde pendant 2 minutes</li>\n          <li>\xc9tirements au bureau</li>\n          <li>Visualisation positive</li>\n          <li>Courte marche \xe0 l\'ext\xe9rieur</li>\n        </ul>\n      </div>\n    ',questions:[{id:"stress_level",question:"Comment \xe9valuez-vous votre niveau de stress actuel ?",type:"scale",required:!0,max:5,labels:["Tr\xe8s \xe9lev\xe9","Tr\xe8s bas"]},{id:"stress_symptoms",question:"Quels sympt\xf4mes de stress ressentez-vous le plus souvent ?",type:"checkbox",required:!0,options:[{id:"a",label:"Fatigue"},{id:"b",label:"Irritabilit\xe9"},{id:"c",label:"Troubles du sommeil"},{id:"d",label:"Difficult\xe9s de concentration"},{id:"e",label:"Tensions musculaires"}]}]},{id:"work_life_balance",title:"\xc9quilibre vie pro/perso",description:"D\xe9couvrez des strat\xe9gies pour mieux concilier vie professionnelle et personnelle",icon:"\u2696\ufe0f",duration:"12 min",points:100,islandId:"balance",content:'\n      <div class="mb-4">\n        <h3 class="text-xl font-bold mb-2">D\xe9finir ses limites</h3>\n        <p>\xc9tablir des fronti\xe8res claires entre travail et vie personnelle est essentiel pour pr\xe9server son \xe9quilibre et son bien-\xeatre.</p>\n      </div>\n      \n      <div class="mb-4">\n        <h3 class="text-xl font-bold mb-2">Strat\xe9gies pratiques</h3>\n        <ul class="list-disc pl-5 space-y-2">\n          <li>D\xe9finir des horaires de travail fixes</li>\n          <li>Cr\xe9er des rituels de transition</li>\n          <li>D\xe9sactiver les notifications professionnelles en dehors des heures de travail</li>\n          <li>Planifier des activit\xe9s personnelles importantes</li>\n        </ul>\n      </div>\n    ',questions:[{id:"balance_satisfaction",question:"\xcates-vous satisfait de votre \xe9quilibre actuel entre vie professionnelle et personnelle ?",type:"scale",required:!0,max:5,labels:["Pas du tout","Totalement"]},{id:"balance_challenges",question:"Quels sont vos plus grands d\xe9fis pour maintenir cet \xe9quilibre ?",type:"text",required:!0,placeholder:"Partagez vos d\xe9fis..."}]}];class an{constructor(e,t,n,r,s,i,o,a,l){this.id=e,this.islandId=t,this.title=n,this.description=r,this.duration=s||"5 min",this.points=i||100,this.icon=o,this.content=a||"",this.questions=l||[]}static fromJSON(e){return new an(e.id,e.islandId,e.title,e.description,e.duration,e.points,e.icon,e.content,e.questions)}}const ln=on.map((e=>an.fromJSON(e)));class cn{constructor(e,t,n,r,s,i,o,a){this.id=e,this.title=t,this.description=n,this.points=r||50,this.icon=s,this.color=i||"#4EAAF0",this.category=o,this.duration=a||"5 min"}static fromJSON(e){return new cn(e.id,e.title,e.description,e.points,e.icon,e.color,e.category,e.duration)}}const un=[new cn("mindful_breathing","Respirez en pleine conscience","Prendre 5 minutes aujourd'hui pour respirer profond\xe9ment et vous reconnecter \xe0 l'instant pr\xe9sent",50,"\ud83e\uddc1","#4EAAF0","mindfulness","5 min"),new cn("digital_detox","D\xe9tox num\xe9rique","Prenez une pause de 30 minutes sans t\xe9l\xe9phone ni \xe9cran pour vous reconnecter \xe0 votre environnement",50,"\ud83d\udcf5","#41D185","balance","30 min"),new cn("gratitude_practice","Pratique de gratitude","Notez 3 choses pour lesquelles vous \xeates reconnaissant aujourd'hui",50,"\ud83d\ude4f","#B069F8","positivity","5 min"),new cn("mindful_break","Pause consciente","Faites une pause de 10 minutes en pleine conscience entre deux r\xe9unions",50,"\u23ef\ufe0f","#FF8747","stress","10 min")];class dn{constructor(e,t,n,r,s,i,o){this.id=e,this.title=t,this.description=n,this.icon=r,this.color=s||"#4EAAF0",this.duration=i||"5 min",this.category=o}static fromJSON(e){return new dn(e.id,e.title,e.description,e.icon,e.color,e.duration,e.category)}}const hn=[new dn("breathing_exercise","Respiration","Exercice de respiration profonde pour se recentrer","\ud83e\uddd8","#4EAAF0","3 min","mindfulness"),new dn("mindfulness_exercise","Pleine conscience","Pratique rapide de pleine conscience","\ud83e\udde0","#FF8747","5 min","mindfulness"),new dn("gratitude_exercise","Gratitude","Exercice express de gratitude","\ud83c\udf31","#41D185","2 min","positivity"),new dn("focus_exercise","Focus","Technique rapide pour am\xe9liorer la concentration","\ud83c\udfaf","#B069F8","10 min","productivity")];const pn=class{static getAllIslands(){return sn}static getIslandById(e){return sn.find((t=>t.id===e))}static getAllModules(){return ln}static getModulesByIslandId(e){return ln.filter((t=>t.islandId===e))}static getModuleById(e){return ln.find((t=>t.id===e))}static getAllChallenges(){return un}static getChallengesByCategory(e){return un.filter((t=>t.category===e))}static getChallengeById(e){return un.find((t=>t.id===e))}static getAllExercises(){return hn}static getExercisesByCategory(e){return hn.filter((t=>t.category===e))}static getExerciseById(e){return hn.find((t=>t.id===e))}static getRecommendedContent(e){const t=Object.entries(e.islandProgress||{});if(0===t.length)return{modules:[],challenges:[]};t.sort(((e,t)=>t[1].progress-e[1].progress));const[n]=t[0];return{modules:this.getModulesByIslandId(n).filter((t=>!e.completedModules||!e.completedModules[t.id])).slice(0,2),challenges:un.filter((t=>!e.completedChallenges||!e.completedChallenges.includes(t.id))).slice(0,2)}}};var fn=n(3271);class mn{static async analyzeUserResponses(e){try{if(!e){const{data:{user:t}}=await Qt.auth.getUser();if(!t)return{success:!1,error:"Utilisateur non connect\xe9"};e=t.id}const{data:t,error:n}=await Qt.from("user_responses").select("*").eq("user_id",e);if(n)return console.error("Erreur lors de la r\xe9cup\xe9ration des r\xe9ponses:",n),{success:!1,error:Xt(n)};const{data:r,error:s}=await Qt.from("user_progress").select("*").eq("user_id",e).single();if(s&&"PGRST116"!==s.code)return console.error("Erreur lors de la r\xe9cup\xe9ration de la progression:",s),{success:!1,error:Xt(s)};const{data:i}=await Qt.from("users").select("metadata").eq("id",e).maybeSingle(),o=await this.generateEnhancedRecommendations(t,r,null===i||void 0===i?void 0:i.metadata);return await this.saveRecommendations(e,o),{success:!0,recommendations:o,analysisVersion:fn.WF.version}}catch(t){return console.error("Erreur lors de l'analyse des r\xe9ponses:",t),{success:!1,error:Xt(t)}}}static async generateEnhancedRecommendations(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const r=Object.values(this.RECOMMENDATION_CATEGORIES).reduce(((e,t)=>(e[t]=0,e)),{}),s=this.extractTextualResponses(e),i=await this.performNLPAnalysis(s);if(this.integrateNLPAnalysisToScores(i,r),this.analyzeClassicResponses(e,r),t&&t.progress_data){const e="string"===typeof t.progress_data?JSON.parse(t.progress_data):t.progress_data;this.analyzeProgressData(e,r)}return n&&this.analyzeUserMetadata(n,r),this.normalizeScores(r),this.createEnhancedRecommendationsFromScores(r,i)}catch(r){return console.error("Erreur lors de la g\xe9n\xe9ration des recommandations am\xe9lior\xe9es:",r),this.generateRecommendations(e,t)}}static extractTextualResponses(e){const t=[];return e&&e.length>0&&e.forEach((e=>{const n=e.responses;n&&"object"===typeof n&&Object.entries(n).forEach((n=>{let[r,s]=n;s&&"string"===typeof s&&s.length>3&&t.push({text:s,moduleId:e.module_id,questionId:r})}))})),t}static async performNLPAnalysis(e){try{return{keyTopics:this.simulateTopicExtraction(e),sentiments:this.simulateSentimentAnalysis(e),intentions:this.simulateIntentionAnalysis(e)}}catch(t){return console.error("Erreur lors de l'analyse NLP:",t),{keyTopics:[],sentiments:{},intentions:[]}}}static simulateTopicExtraction(e){const t={stress:0,"m\xe9ditation":0,travail:0,sommeil:0,exercice:0,alimentation:0,relations:0,"productivit\xe9":0,"cr\xe9ativit\xe9":0,concentration:0},n={stress:["stress","anxi\xe9t\xe9","pression","inqui\xe9tude","tension"],"m\xe9ditation":["m\xe9ditation","pleine conscience","mindfulness","calme","respiration"],travail:["travail","emploi","carri\xe8re","bureau","professionnel"],sommeil:["sommeil","dormir","fatigue","repos","nuit"],exercice:["exercice","sport","activit\xe9 physique","entra\xeenement","bouger"],alimentation:["alimentation","nourriture","repas","manger","di\xe8te"],relations:["relations","famille","amis","social","communication"],"productivit\xe9":["productivit\xe9","efficacit\xe9","organisation","rendement","t\xe2ches"],"cr\xe9ativit\xe9":["cr\xe9ativit\xe9","imagination","innovation","id\xe9es","artistique"],concentration:["concentration","focus","attention","mental","clart\xe9"]};return e.forEach((e=>{const r=e.text.toLowerCase();Object.entries(n).forEach((e=>{let[n,s]=e;s.forEach((e=>{r.includes(e)&&(t[n]+=1)}))}))})),Object.entries(t).filter((e=>{let[t,n]=e;return n>0})).sort(((e,t)=>t[1]-e[1])).map((e=>{let[t,n]=e;return{topic:t,count:n}}))}static simulateSentimentAnalysis(e){const t=["bon","bien","heureux","content","satisfait","positif","aime","appr\xe9cier","espoir","motiv\xe9","\xe9nergique","serein","confiant"],n=["mauvais","difficile","stress\xe9","anxieux","inquiet","n\xe9gatif","peur","fatigu\xe9","\xe9puis\xe9","d\xe9prim\xe9","frustr\xe9","p\xe9nible","triste"],r={},s={positive:0,negative:0,neutral:0};return e.forEach((e=>{const i=e.text.toLowerCase(),o=e.moduleId;let a,l=0,c=0;t.forEach((e=>{i.includes(e)&&l++})),n.forEach((e=>{i.includes(e)&&c++})),l>c?(a=this.SENTIMENT_MAP.POSITIVE,s.positive++):c>l?(a=this.SENTIMENT_MAP.NEGATIVE,s.negative++):(a=this.SENTIMENT_MAP.NEUTRAL,s.neutral++),r[o]||(r[o]={positive:0,negative:0,neutral:0}),r[o][a]++})),{byModule:r,overall:s}}static simulateIntentionAnalysis(e){const t=[],n=[{name:"am\xe9liorer_stress",patterns:["r\xe9duire stress","g\xe9rer stress","moins stress\xe9","mieux g\xe9rer","calmer"]},{name:"am\xe9liorer_sommeil",patterns:["mieux dormir","am\xe9liorer sommeil","probl\xe8me sommeil","insomnie"]},{name:"augmenter_productivit\xe9",patterns:["plus productif","mieux organis\xe9","am\xe9liorer concentration","plus efficace"]},{name:"\xe9quilibre_vie",patterns:["\xe9quilibre","harmonie","vie personnelle","temps famille","moins travailler"]}];return e.forEach((e=>{const r=e.text.toLowerCase();n.forEach((n=>{n.patterns.forEach((s=>{r.includes(s)&&t.push({intention:n.name,text:e.text,moduleId:e.moduleId})}))}))})),t}static integrateNLPAnalysisToScores(e,t){e.keyTopics.forEach((e=>{const{topic:n,count:r}=e,s={stress:this.RECOMMENDATION_CATEGORIES.STRESS,"m\xe9ditation":this.RECOMMENDATION_CATEGORIES.MINDFULNESS,travail:this.RECOMMENDATION_CATEGORIES.PRODUCTIVITY,sommeil:this.RECOMMENDATION_CATEGORIES.BALANCE,exercice:this.RECOMMENDATION_CATEGORIES.WELLBEING,alimentation:this.RECOMMENDATION_CATEGORIES.WELLBEING,relations:this.RECOMMENDATION_CATEGORIES.SOCIAL,"productivit\xe9":this.RECOMMENDATION_CATEGORIES.PRODUCTIVITY,"cr\xe9ativit\xe9":this.RECOMMENDATION_CATEGORIES.GROWTH,concentration:this.RECOMMENDATION_CATEGORIES.PRODUCTIVITY}[n];s&&(t[s]+=2*r)}));const{overall:n}=e.sentiments;n.negative>n.positive&&(t[this.RECOMMENDATION_CATEGORIES.STRESS]+=2*n.negative,t[this.RECOMMENDATION_CATEGORIES.BALANCE]+=n.negative),n.positive>n.negative&&(t[this.RECOMMENDATION_CATEGORIES.GROWTH]+=n.positive),e.intentions.forEach((e=>{switch(e.intention){case"am\xe9liorer_stress":t[this.RECOMMENDATION_CATEGORIES.STRESS]+=3,t[this.RECOMMENDATION_CATEGORIES.MINDFULNESS]+=2;break;case"am\xe9liorer_sommeil":t[this.RECOMMENDATION_CATEGORIES.BALANCE]+=3,t[this.RECOMMENDATION_CATEGORIES.WELLBEING]+=2;break;case"augmenter_productivit\xe9":t[this.RECOMMENDATION_CATEGORIES.PRODUCTIVITY]+=3,t[this.RECOMMENDATION_CATEGORIES.GROWTH]+=1;break;case"\xe9quilibre_vie":t[this.RECOMMENDATION_CATEGORIES.BALANCE]+=3,t[this.RECOMMENDATION_CATEGORIES.SOCIAL]+=2;break;default:t[this.RECOMMENDATION_CATEGORIES.GENERAL]+=1}}))}static analyzeClassicResponses(e,t){e&&e.length>0&&e.forEach((e=>{e.module_id&&(e.module_id.startsWith("mindfulness")?this.analyzeModuleResponses(e,t,this.RECOMMENDATION_CATEGORIES.MINDFULNESS):e.module_id.startsWith("productivity")?this.analyzeModuleResponses(e,t,this.RECOMMENDATION_CATEGORIES.PRODUCTIVITY):e.module_id.startsWith("stress")?this.analyzeModuleResponses(e,t,this.RECOMMENDATION_CATEGORIES.STRESS):e.module_id.startsWith("balance")?this.analyzeModuleResponses(e,t,this.RECOMMENDATION_CATEGORIES.BALANCE):"onboarding"===e.module_id&&this.analyzeOnboardingResponses(e,t))}))}static analyzeUserMetadata(e,t){try{if(e.interests&&Array.isArray(e.interests)&&e.interests.forEach((e=>{(e.includes("m\xe9ditation")||e.includes("yoga"))&&(t[this.RECOMMENDATION_CATEGORIES.MINDFULNESS]+=3),(e.includes("productivit\xe9")||e.includes("efficacit\xe9"))&&(t[this.RECOMMENDATION_CATEGORIES.PRODUCTIVITY]+=3),(e.includes("stress")||e.includes("relaxation"))&&(t[this.RECOMMENDATION_CATEGORIES.STRESS]+=3),(e.includes("\xe9quilibre")||e.includes("bien-\xeatre"))&&(t[this.RECOMMENDATION_CATEGORIES.BALANCE]+=3),(e.includes("alimentation")||e.includes("fitness"))&&(t[this.RECOMMENDATION_CATEGORIES.WELLBEING]+=3),(e.includes("social")||e.includes("communication"))&&(t[this.RECOMMENDATION_CATEGORIES.SOCIAL]+=3),(e.includes("apprendre")||e.includes("d\xe9veloppement"))&&(t[this.RECOMMENDATION_CATEGORIES.GROWTH]+=3)})),e.age){const n=parseInt(e.age);n>45?t[this.RECOMMENDATION_CATEGORIES.BALANCE]+=2:n<30&&(t[this.RECOMMENDATION_CATEGORIES.PRODUCTIVITY]+=2,t[this.RECOMMENDATION_CATEGORIES.GROWTH]+=2)}if(e.industry){const n=e.industry.toLowerCase();n.includes("tech")||n.includes("informatique")?(t[this.RECOMMENDATION_CATEGORIES.STRESS]+=2,t[this.RECOMMENDATION_CATEGORIES.BALANCE]+=2):n.includes("sant\xe9")||n.includes("m\xe9dical")?(t[this.RECOMMENDATION_CATEGORIES.STRESS]+=3,t[this.RECOMMENDATION_CATEGORIES.WELLBEING]+=2):(n.includes("finance")||n.includes("banque"))&&(t[this.RECOMMENDATION_CATEGORIES.STRESS]+=3,t[this.RECOMMENDATION_CATEGORIES.MINDFULNESS]+=2)}}catch(n){console.error("Erreur lors de l'analyse des m\xe9tadonn\xe9es utilisateur:",n)}}static createEnhancedRecommendationsFromScores(e,t){const n=[],r=pn.getAllModules(),s=Object.entries(e).sort(((e,t)=>t[1]-e[1]));for(let i=0;i<Math.min(3,s.length);i++){const[e,o]=s[i];if(o>=5){const s=r.filter((t=>{var n;return t.islandId===e||(null===(n=t.tags)||void 0===n?void 0:n.includes(e))}));if(s.length>0){s.slice(0,2).forEach((r=>{n.push({type:"module",id:r.id,title:r.title,category:e,reason:this.getEnhancedRecommendationReason(e,o,t),score:o,tags:r.tags||[]})}))}}}if(t.keyTopics.length>0){const e=t.keyTopics[0].topic;n.push({type:"general",title:`Explorez "${e}" pour am\xe9liorer votre bien-\xeatre`,description:`Nos analyses montrent que le th\xe8me "${e}" est important pour vous. D\xe9couvrez nos modules pour approfondir ce sujet.`,category:this.RECOMMENDATION_CATEGORIES.GENERAL,reason:`Bas\xe9 sur vos r\xe9ponses mentionnant "${e}"`,score:8})}return 0===n.length&&n.push({type:"general",title:"Explorez de nouveaux horizons",description:"D\xe9couvrez diff\xe9rentes approches pour am\xe9liorer votre bien-\xeatre au travail",category:this.RECOMMENDATION_CATEGORIES.GENERAL,reason:"Bas\xe9 sur votre profil global",score:7}),n}static getEnhancedRecommendationReason(e,t,n){const r={[this.RECOMMENDATION_CATEGORIES.MINDFULNESS]:["Vous semblez int\xe9ress\xe9 par les pratiques de pleine conscience","Ces exercices pourraient vous aider \xe0 d\xe9velopper votre attention au moment pr\xe9sent","Bas\xe9 sur vos r\xe9ponses concernant la m\xe9ditation et la concentration"],[this.RECOMMENDATION_CATEGORIES.PRODUCTIVITY]:["Pour am\xe9liorer votre organisation et votre efficacit\xe9","Ces techniques pourraient vous aider \xe0 mieux g\xe9rer votre temps","Bas\xe9 sur vos objectifs de productivit\xe9"],[this.RECOMMENDATION_CATEGORIES.STRESS]:["Pour vous aider \xe0 mieux g\xe9rer le stress au quotidien","Ces pratiques pourraient r\xe9duire votre niveau d'anxi\xe9t\xe9","Bas\xe9 sur vos r\xe9ponses concernant la gestion du stress"],[this.RECOMMENDATION_CATEGORIES.BALANCE]:["Pour vous aider \xe0 trouver un meilleur \xe9quilibre vie pro/perso","Ces modules favorisent l'harmonie entre les diff\xe9rentes sph\xe8res de votre vie","Bas\xe9 sur votre recherche d'\xe9quilibre"],[this.RECOMMENDATION_CATEGORIES.WELLBEING]:["Pour am\xe9liorer votre bien-\xeatre g\xe9n\xe9ral","Ces modules vous aideront \xe0 prendre soin de vous","Pour renforcer votre vitalit\xe9 au quotidien"],[this.RECOMMENDATION_CATEGORIES.SOCIAL]:["Pour d\xe9velopper vos comp\xe9tences relationnelles","Ces modules vous aideront \xe0 mieux communiquer avec les autres","Pour favoriser des relations harmonieuses"],[this.RECOMMENDATION_CATEGORIES.GROWTH]:["Pour stimuler votre d\xe9veloppement personnel","Ces modules vous aideront \xe0 atteindre votre plein potentiel","Pour nourrir votre croissance personnelle"],[this.RECOMMENDATION_CATEGORIES.GENERAL]:["Recommandation personnalis\xe9e bas\xe9e sur votre profil","Pour explorer de nouvelles approches de bien-\xeatre","Pour diversifier vos pratiques"]};if(n.sentiments.overall.negative>n.sentiments.overall.positive&&(e===this.RECOMMENDATION_CATEGORIES.STRESS||e===this.RECOMMENDATION_CATEGORIES.BALANCE))return"Nos analyses montrent que vous pourriez b\xe9n\xe9ficier de techniques pour r\xe9duire le stress et retrouver plus de s\xe9r\xe9nit\xe9";if(n.keyTopics.length>0){const t=n.keyTopics[0].topic;if("stress"===t&&e===this.RECOMMENDATION_CATEGORIES.STRESS||"m\xe9ditation"===t&&e===this.RECOMMENDATION_CATEGORIES.MINDFULNESS||"productivit\xe9"===t&&e===this.RECOMMENDATION_CATEGORIES.PRODUCTIVITY||"sommeil"===t&&e===this.RECOMMENDATION_CATEGORIES.BALANCE)return`Recommand\xe9 pour vous car vous avez mentionn\xe9 "${t}" dans vos r\xe9ponses`}const s=r[e]||r[this.RECOMMENDATION_CATEGORIES.GENERAL];return s[Math.floor(Math.random()*s.length)]}static analyzeModuleResponses(e,t,n){try{const r=e.responses;if(!r)return;"object"===typeof r&&(Object.entries(r).forEach((e=>{let[r,s]=e;s&&"string"===typeof s?((s.includes("stress")||s.includes("anxi\xe9t\xe9"))&&(t[this.RECOMMENDATION_CATEGORIES.STRESS]+=2),(s.includes("concentration")||s.includes("focus"))&&(t[this.RECOMMENDATION_CATEGORIES.PRODUCTIVITY]+=2),(s.includes("m\xe9ditation")||s.includes("respiration"))&&(t[this.RECOMMENDATION_CATEGORIES.MINDFULNESS]+=2),(s.includes("\xe9quilibre")||s.includes("harmonie"))&&(t[this.RECOMMENDATION_CATEGORIES.BALANCE]+=2),(s.includes("\xe9nergie")||s.includes("sant\xe9"))&&(t[this.RECOMMENDATION_CATEGORIES.WELLBEING]+=2),(s.includes("relations")||s.includes("communication"))&&(t[this.RECOMMENDATION_CATEGORIES.SOCIAL]+=2),(s.includes("apprendre")||s.includes("d\xe9veloppement"))&&(t[this.RECOMMENDATION_CATEGORIES.GROWTH]+=2)):"number"===typeof s?s<3&&(t[n]+=2*(3-s)):Array.isArray(s)&&s.forEach((e=>{"a"!==e&&"b"!==e||(t[this.RECOMMENDATION_CATEGORIES.STRESS]+=1),"c"!==e&&"d"!==e||(t[this.RECOMMENDATION_CATEGORIES.PRODUCTIVITY]+=1)}))})),t[n]+=3)}catch(r){console.error("Erreur lors de l'analyse des r\xe9ponses du module:",r)}}static analyzeOnboardingResponses(e,t){try{const n=e.responses;if(!n)return;if(n.goals)if(Array.isArray(n.goals))n.goals.forEach((e=>{(e.includes("stress")||e.includes("anxi\xe9t\xe9"))&&(t[this.RECOMMENDATION_CATEGORIES.STRESS]+=3),(e.includes("productivit\xe9")||e.includes("concentration"))&&(t[this.RECOMMENDATION_CATEGORIES.PRODUCTIVITY]+=3),(e.includes("m\xe9ditation")||e.includes("pleine conscience"))&&(t[this.RECOMMENDATION_CATEGORIES.MINDFULNESS]+=3),(e.includes("\xe9quilibre")||e.includes("bien-\xeatre"))&&(t[this.RECOMMENDATION_CATEGORIES.BALANCE]+=3),(e.includes("sant\xe9")||e.includes("\xe9nergie"))&&(t[this.RECOMMENDATION_CATEGORIES.WELLBEING]+=3),(e.includes("social")||e.includes("relations"))&&(t[this.RECOMMENDATION_CATEGORIES.SOCIAL]+=3),(e.includes("apprendre")||e.includes("d\xe9veloppement"))&&(t[this.RECOMMENDATION_CATEGORIES.GROWTH]+=3)}));else if("string"===typeof n.goals){const e=n.goals.toLowerCase();(e.includes("stress")||e.includes("anxi\xe9t\xe9"))&&(t[this.RECOMMENDATION_CATEGORIES.STRESS]+=3),(e.includes("productivit\xe9")||e.includes("concentration"))&&(t[this.RECOMMENDATION_CATEGORIES.PRODUCTIVITY]+=3),(e.includes("m\xe9ditation")||e.includes("pleine conscience"))&&(t[this.RECOMMENDATION_CATEGORIES.MINDFULNESS]+=3),(e.includes("\xe9quilibre")||e.includes("bien-\xeatre"))&&(t[this.RECOMMENDATION_CATEGORIES.BALANCE]+=3),(e.includes("sant\xe9")||e.includes("\xe9nergie"))&&(t[this.RECOMMENDATION_CATEGORIES.WELLBEING]+=3),(e.includes("social")||e.includes("relations"))&&(t[this.RECOMMENDATION_CATEGORIES.SOCIAL]+=3),(e.includes("apprendre")||e.includes("d\xe9veloppement"))&&(t[this.RECOMMENDATION_CATEGORIES.GROWTH]+=3)}n.stress_level&&"number"===typeof n.stress_level&&(t[this.RECOMMENDATION_CATEGORIES.STRESS]+=2*n.stress_level),n.preferred_activities&&Array.isArray(n.preferred_activities)&&n.preferred_activities.forEach((e=>{(e.includes("m\xe9ditation")||e.includes("yoga"))&&(t[this.RECOMMENDATION_CATEGORIES.MINDFULNESS]+=2),(e.includes("organisation")||e.includes("planification"))&&(t[this.RECOMMENDATION_CATEGORIES.PRODUCTIVITY]+=2),(e.includes("relaxation")||e.includes("d\xe9tente"))&&(t[this.RECOMMENDATION_CATEGORIES.STRESS]+=2),(e.includes("\xe9quilibre")||e.includes("harmonie"))&&(t[this.RECOMMENDATION_CATEGORIES.BALANCE]+=2),(e.includes("sant\xe9")||e.includes("fitness"))&&(t[this.RECOMMENDATION_CATEGORIES.WELLBEING]+=2),(e.includes("social")||e.includes("communication"))&&(t[this.RECOMMENDATION_CATEGORIES.SOCIAL]+=2),(e.includes("apprendre")||e.includes("d\xe9veloppement"))&&(t[this.RECOMMENDATION_CATEGORIES.GROWTH]+=2)}))}catch(n){console.error("Erreur lors de l'analyse des r\xe9ponses d'onboarding:",n)}}static analyzeProgressData(e,t){try{if(e.completedModules){const n=Object.keys(e.completedModules);n.forEach((e=>{e.startsWith("mindfulness")?t[this.RECOMMENDATION_CATEGORIES.MINDFULNESS]+=1:e.startsWith("productivity")?t[this.RECOMMENDATION_CATEGORIES.PRODUCTIVITY]+=1:e.startsWith("stress")?t[this.RECOMMENDATION_CATEGORIES.STRESS]+=1:e.startsWith("balance")?t[this.RECOMMENDATION_CATEGORIES.BALANCE]+=1:e.startsWith("wellbeing")?t[this.RECOMMENDATION_CATEGORIES.WELLBEING]+=1:e.startsWith("social")?t[this.RECOMMENDATION_CATEGORIES.SOCIAL]+=1:e.startsWith("growth")&&(t[this.RECOMMENDATION_CATEGORIES.GROWTH]+=1)}));Object.values(this.RECOMMENDATION_CATEGORIES).filter((e=>"general"!==e)).forEach((e=>{0===n.filter((t=>t.startsWith(e))).length&&(t[e]+=5)}))}e.wellnessScore&&e.wellnessScore<50&&(t[this.RECOMMENDATION_CATEGORIES.STRESS]+=4,t[this.RECOMMENDATION_CATEGORIES.BALANCE]+=3,t[this.RECOMMENDATION_CATEGORIES.WELLBEING]+=3)}catch(n){console.error("Erreur lors de l'analyse des donn\xe9es de progression:",n)}}static normalizeScores(e){const t=Math.max(...Object.values(e));t>0&&Object.keys(e).forEach((n=>{e[n]=Math.round(e[n]/t*10)}))}static generateRecommendations(e,t){const n={[this.RECOMMENDATION_CATEGORIES.MINDFULNESS]:0,[this.RECOMMENDATION_CATEGORIES.PRODUCTIVITY]:0,[this.RECOMMENDATION_CATEGORIES.STRESS]:0,[this.RECOMMENDATION_CATEGORIES.BALANCE]:0,[this.RECOMMENDATION_CATEGORIES.GENERAL]:0};if(e&&e.length>0&&e.forEach((e=>{e.module_id&&(e.module_id.startsWith("mindfulness")?this.analyzeModuleResponses(e,n,this.RECOMMENDATION_CATEGORIES.MINDFULNESS):e.module_id.startsWith("productivity")?this.analyzeModuleResponses(e,n,this.RECOMMENDATION_CATEGORIES.PRODUCTIVITY):e.module_id.startsWith("stress")?this.analyzeModuleResponses(e,n,this.RECOMMENDATION_CATEGORIES.STRESS):e.module_id.startsWith("balance")?this.analyzeModuleResponses(e,n,this.RECOMMENDATION_CATEGORIES.BALANCE):"onboarding"===e.module_id&&this.analyzeOnboardingResponses(e,n))})),t&&t.progress_data){const e="string"===typeof t.progress_data?JSON.parse(t.progress_data):t.progress_data;this.analyzeProgressData(e,n)}return this.normalizeScores(n),this.createRecommendationsFromScores(n)}static createRecommendationsFromScores(e){const t=[],n=pn.getAllModules(),r=Object.entries(e).filter((e=>{let[t]=e;return t!==this.RECOMMENDATION_CATEGORIES.GENERAL})).sort(((e,t)=>t[1]-e[1]));for(let s=0;s<Math.min(2,r.length);s++){const[e,i]=r[s];if(i>=5){const r=n.filter((t=>t.islandId===e));if(r.length>0){r.slice(0,2).forEach((n=>{t.push({type:"module",id:n.id,title:n.title,category:e,reason:this.getRecommendationReason(e,i),score:i})}))}}}return t.length<3&&e[this.RECOMMENDATION_CATEGORIES.GENERAL]>0&&t.push({type:"general",title:"Explorez de nouveaux horizons",description:"D\xe9couvrez diff\xe9rentes approches pour am\xe9liorer votre bien-\xeatre au travail",category:this.RECOMMENDATION_CATEGORIES.GENERAL,reason:"Bas\xe9 sur votre profil global",score:e[this.RECOMMENDATION_CATEGORIES.GENERAL]}),t}static getRecommendationReason(e,t){const n={[this.RECOMMENDATION_CATEGORIES.MINDFULNESS]:["Vous semblez int\xe9ress\xe9 par les pratiques de pleine conscience","Ces exercices pourraient vous aider \xe0 d\xe9velopper votre attention au moment pr\xe9sent","Bas\xe9 sur vos r\xe9ponses concernant la m\xe9ditation et la concentration"],[this.RECOMMENDATION_CATEGORIES.PRODUCTIVITY]:["Pour am\xe9liorer votre organisation et votre efficacit\xe9","Ces techniques pourraient vous aider \xe0 mieux g\xe9rer votre temps","Bas\xe9 sur vos objectifs de productivit\xe9"],[this.RECOMMENDATION_CATEGORIES.STRESS]:["Pour vous aider \xe0 mieux g\xe9rer le stress au quotidien","Ces pratiques pourraient r\xe9duire votre niveau d'anxi\xe9t\xe9","Bas\xe9 sur vos r\xe9ponses concernant la gestion du stress"],[this.RECOMMENDATION_CATEGORIES.BALANCE]:["Pour vous aider \xe0 trouver un meilleur \xe9quilibre vie pro/perso","Ces modules favorisent l'harmonie entre les diff\xe9rentes sph\xe8res de votre vie","Bas\xe9 sur votre recherche d'\xe9quilibre"],[this.RECOMMENDATION_CATEGORIES.GENERAL]:["Recommandation personnalis\xe9e bas\xe9e sur votre profil","Pour explorer de nouvelles approches de bien-\xeatre","Pour diversifier vos pratiques"]},r=n[e]||n[this.RECOMMENDATION_CATEGORIES.GENERAL];return r[Math.floor(Math.random()*r.length)]}static async saveRecommendations(e,t){try{const{error:n}=await Qt.from("user_recommendations").select("id").limit(1);if(n&&("PGRST116"===n.code||n.message.includes("does not exist"))){const{data:n,error:r}=await Qt.from("user_progress").select("*").eq("user_id",e).single();if(!r){let r="string"===typeof n.progress_data?JSON.parse(n.progress_data):n.progress_data;r.recommendations={items:t,generatedAt:(new Date).toISOString(),analysisVersion:fn.WF.version},await Qt.from("user_progress").update({progress_data:JSON.stringify(r),updated_at:new Date}).eq("user_id",e)}}else await Qt.from("user_recommendations").upsert({user_id:e,recommendations:t,generated_at:new Date,updated_at:new Date,analysis_version:fn.WF.version,analysis_metadata:{modelVersion:"v1.2",categories:Object.values(this.RECOMMENDATION_CATEGORIES),timestamp:(new Date).toISOString()}},{onConflict:"user_id"});return{success:!0}}catch(n){return console.error("Erreur lors de la sauvegarde des recommandations:",n),{success:!1,error:Xt(n)}}}static async getUserRecommendations(e){try{if(!e){const{data:{user:t}}=await Qt.auth.getUser();if(!t)return{success:!1,error:"Utilisateur non connect\xe9"};e=t.id}const{data:t,error:n}=await Qt.from("user_recommendations").select("*").eq("user_id",e).single();if(!n&&t)return{success:!0,recommendations:t.recommendations,generatedAt:t.generated_at,analysisVersion:t.analysis_version||fn.WF.version};const{data:r,error:s}=await Qt.from("user_progress").select("*").eq("user_id",e).single();if(!s&&r){const e="string"===typeof r.progress_data?JSON.parse(r.progress_data):r.progress_data;if(e.recommendations)return{success:!0,recommendations:e.recommendations.items,generatedAt:e.recommendations.generatedAt,analysisVersion:e.recommendations.analysisVersion||fn.WF.version}}return await this.analyzeUserResponses(e)}catch(t){return console.error("Erreur lors de la r\xe9cup\xe9ration des recommandations:",t),{success:!1,error:Xt(t)}}}}mn.RECOMMENDATION_CATEGORIES=fn.WF.categories.reduce(((e,t)=>(e[t.toUpperCase()]=t,e)),{}),mn.SENTIMENT_MAP={POSITIVE:"positive",NEUTRAL:"neutral",NEGATIVE:"negative"};const gn=mn,vn={auth:{getCurrentUser:async()=>await Zt.getCurrentUser(),signUp:async(e,t)=>await Zt.signUp(e,t),signIn:async(e,t)=>await Zt.signIn(e,t),signInWithGoogle:async()=>await Zt.signInWithGoogle(),signOut:async()=>await Zt.signOut(),isAuthenticated:async()=>await Zt.isAuthenticated(),resetPassword:async e=>await Zt.resetPassword(e)},progress:{getProgress:async()=>await nn.getProgress(),saveProgress:async e=>await nn.saveProgress(e),completeModule:async(e,t)=>await nn.completeModule(e,t),completeChallenge:async e=>await nn.completeChallenge(e),saveModuleResponses:async(e,t)=>await nn.saveModuleResponses(e,t),resetAllData:()=>nn.resetAllData(),getUserSettings:async()=>await nn.getUserSettings()},content:{getAllIslands:()=>pn.getAllIslands(),getIslandById:e=>pn.getIslandById(e),getAllModules:()=>pn.getAllModules(),getModulesByIslandId:e=>pn.getModulesByIslandId(e),getModuleById:e=>pn.getModuleById(e),getAllChallenges:()=>pn.getAllChallenges(),getAllExercises:()=>pn.getAllExercises(),getRecommendedContent:e=>pn.getRecommendedContent(e)},ai:{analyzeUserResponses:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return await gn.analyzeUserResponses(e)},getUserRecommendations:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return await gn.getUserRecommendations(e)},sendRecommendationFeedback:async function(){return{success:!0}},logRecommendationInteraction:async function(e,t){return{success:!0}},getRecommendationsHistory:async function(){return{success:!0,history:[]}}}};var yn=n(579);const bn=e=>{let{children:t,onClick:n,disabled:r=!1,size:s="md",className:i="",color:o="#41D185",variant:a="primary",icon:l=null}=e;const c={primary:"hover:bg-opacity-90 text-white border-b-4 active:border-b-0 active:mt-1 "+(r?"opacity-50 cursor-not-allowed":""),secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 border-b-4 border-gray-300 active:border-b-0 active:mt-1 "+(r?"opacity-50 cursor-not-allowed":"")},u="primary"===a?{backgroundColor:o,borderBottomColor:o}:{};return(0,yn.jsxs)("button",{className:`font-bold rounded-xl transition-all transform active:scale-95 shadow-md flex items-center justify-center ${{sm:"px-3 py-1 text-sm",md:"px-5 py-3 text-base",lg:"px-8 py-4 text-xl"}[s]} ${c[a]} ${i}`,onClick:n,disabled:r,style:u,children:[l&&(0,yn.jsx)("span",{className:"mr-2",children:l}),t]})};var xn=n(3605);const wn=e=>{let{character:t="\ud83e\uddd8",emotion:n="neutral",className:r="",size:s="text-4xl"}=e;const i={neutral:{y:[0,-5,0],transition:{repeat:1/0,duration:2}},happy:{y:[0,-10,0],rotate:[0,5,0,-5,0],transition:{repeat:1/0,duration:1.5}},excited:{y:[0,-15,0],scale:[1,1.1,1],transition:{repeat:1/0,duration:.8}}};return(0,yn.jsx)(xn.P.div,{className:`${s} ${r}`,animate:i[n],children:t})},En=e=>{let{onStart:t,onSignIn:n}=e;return(0,yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,yn.jsxs)("div",{className:"bg-white rounded-3xl w-full max-w-lg p-6",children:[(0,yn.jsx)("div",{className:"flex justify-center mb-4",children:(0,yn.jsx)(wn,{character:"\ud83e\uddd8",emotion:"happy",size:"text-6xl"})}),(0,yn.jsx)("h2",{className:"text-2xl font-bold text-center mb-3",children:"Bienvenue sur IKIGAI"}),(0,yn.jsx)("p",{className:"text-gray-600 text-center mb-6",children:"Votre assistant personnel pour am\xe9liorer votre bien-\xeatre au travail et trouver votre \xe9quilibre."}),(0,yn.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 mb-6",children:[(0,yn.jsxs)("h3",{className:"font-bold text-blue-800 mb-2 flex items-center text-center",children:[(0,yn.jsx)("span",{className:"text-xl mr-2",children:"\u2728"}),"Comment \xe7a fonctionne"]}),(0,yn.jsxs)("ul",{className:"text-blue-700 space-y-3",children:[(0,yn.jsxs)("li",{className:"flex items-start",children:[(0,yn.jsx)("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold mr-2 shrink-0",children:"1"}),(0,yn.jsx)("span",{children:"Explorez les \xeeles th\xe9matiques selon vos besoins"})]}),(0,yn.jsxs)("li",{className:"flex items-start",children:[(0,yn.jsx)("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold mr-2 shrink-0",children:"2"}),(0,yn.jsx)("span",{children:"Compl\xe9tez des modules pour progresser"})]}),(0,yn.jsxs)("li",{className:"flex items-start",children:[(0,yn.jsx)("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold mr-2 shrink-0",children:"3"}),(0,yn.jsx)("span",{children:"Relevez des d\xe9fis quotidiens"})]}),(0,yn.jsxs)("li",{className:"flex items-start",children:[(0,yn.jsx)("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold mr-2 shrink-0",children:"4"}),(0,yn.jsx)("span",{children:"Collectez des badges et progressez en niveau"})]})]}),(0,yn.jsx)("p",{className:"text-blue-700 mt-4 text-xs text-center",children:"Vos r\xe9ponses sont analys\xe9es par un mod\xe8le d'Intelligence Artificielle soigneusement s\xe9lectionn\xe9 et adapt\xe9 \xe0 vos besoins."}),(0,yn.jsx)("p",{className:"text-blue-700 mt-2 text-xs text-center",children:"La confidentialit\xe9 de vos donn\xe9es est assur\xe9e et conforme aux normes RGPD."})]}),(0,yn.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,yn.jsx)(bn,{color:"#4EAAF0",onClick:t,size:"lg",children:"Commencer votre parcours"}),(0,yn.jsx)("button",{className:"text-sm text-blue-600 hover:underline text-center",onClick:n,children:"D\xe9j\xe0 inscrit(e) ? Se connecter"})]})]})})},Sn=()=>(0,yn.jsxs)("div",{className:"flex items-center",children:[(0,yn.jsx)("div",{className:"flex items-center justify-center bg-gradient-to-br from-green-400 to-blue-500 rounded-full w-9 h-9 text-white",children:(0,yn.jsx)("span",{className:"text-xl",children:"\ud83e\udde0"})}),(0,yn.jsx)("span",{className:"ml-2 text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-green-500 to-blue-500",children:"IKIGAI"})]}),_n=e=>{let{value:t,color:n="#41D185",height:r="h-2.5"}=e;return(0,yn.jsx)("div",{className:`w-full bg-gray-200 rounded-full ${r}`,children:(0,yn.jsx)("div",{className:`${r} rounded-full transition-all duration-500`,style:{width:`${t}%`,backgroundColor:n}})})},kn=e=>{let t,n,{score:r}=e;return r>=80?(t="#41D185",n="\ud83d\ude0a"):r>=60?(t="#4EAAF0",n="\ud83d\ude42"):r>=40?(t="#FF8747",n="\ud83d\ude10"):(t="#FF5252",n="\ud83d\ude1f"),(0,yn.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-3",children:[(0,yn.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,yn.jsx)("span",{className:"text-xs text-gray-500",children:"Score de bien-\xeatre"}),(0,yn.jsx)("span",{className:"text-xl",children:n})]}),(0,yn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,yn.jsx)("div",{className:"w-full mr-3",children:(0,yn.jsx)(_n,{value:r,color:t,height:"h-4"})}),(0,yn.jsxs)("div",{className:"font-bold text-lg",style:{color:t},children:[r,"%"]})]})]})},jn=e=>{let{streak:t}=e;return(0,yn.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-3 flex items-center",children:[(0,yn.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-gradient-to-br from-orange-400 to-red-500 text-white mr-3",children:(0,yn.jsx)("span",{className:"text-2xl",children:"\ud83d\udd25"})}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("div",{className:"text-xs text-gray-500",children:"S\xe9rie de bien-\xeatre"}),(0,yn.jsxs)("div",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-orange-500 to-red-500",children:[t," jour",t>1?"s":""]})]})]})},Cn=e=>{let{points:t,level:n}=e;const r=t%500,s=r/500*100;return(0,yn.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-3",children:[(0,yn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,yn.jsxs)("div",{className:"flex items-center",children:[(0,yn.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-bold text-sm mr-2",children:n}),(0,yn.jsx)("div",{className:"text-xs text-gray-500",children:"Niveau"})]}),(0,yn.jsxs)("div",{className:"text-xs font-medium bg-blue-100 text-blue-800 rounded-full px-2 py-1",children:[r,"/500 XP"]})]}),(0,yn.jsx)(_n,{value:s,color:"#4EAAF0",height:"h-4"})]})},Nn=e=>{let{island:t,progress:n=0,completedModules:r=0,isUnlocked:s,onClick:i}=e;return(0,yn.jsx)(xn.P.div,{whileHover:s?{scale:1.02}:{},className:"bg-white rounded-xl shadow-md overflow-hidden relative "+(s?"cursor-pointer":"opacity-80"),onClick:()=>s&&i(),children:(0,yn.jsx)("div",{className:"p-5",children:(0,yn.jsxs)("div",{className:"flex items-start",children:[(0,yn.jsxs)("div",{className:"relative mr-4",children:[(0,yn.jsx)("div",{className:"w-14 h-14 rounded-full flex items-center justify-center text-2xl text-white shadow-sm",style:{backgroundColor:t.color},children:(0,yn.jsx)("span",{children:t.icon})}),(0,yn.jsx)("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 rounded-full bg-white shadow-sm flex items-center justify-center",children:(0,yn.jsx)("span",{className:"text-xl",children:t.mascot})})]}),(0,yn.jsxs)("div",{className:"flex-1",children:[(0,yn.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,yn.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:t.name}),!s&&(0,yn.jsx)("div",{className:"text-xl",children:"\ud83d\udd12"})]}),(0,yn.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.description}),(0,yn.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,yn.jsxs)("span",{className:"text-gray-500",children:[r,"/",t.modules," modules"]}),(0,yn.jsxs)("span",{className:"font-bold",style:{color:t.color},children:[n,"%"]})]}),(0,yn.jsx)(_n,{value:n,color:t.color,height:"h-2"})]})]})})})},Tn=e=>{let{challenge:t,onComplete:n,isCompleted:r}=e;return(0,yn.jsx)(xn.P.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-sm overflow-hidden",children:(0,yn.jsxs)("div",{className:"p-4",children:[(0,yn.jsxs)("div",{className:"flex items-center mb-3",children:[(0,yn.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white mr-3",style:{backgroundColor:t.color},children:(0,yn.jsx)("span",{className:"text-xl",children:t.icon})}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h3",{className:"font-bold text-gray-800",children:t.title}),(0,yn.jsxs)("div",{className:"flex text-xs text-gray-500",children:[(0,yn.jsxs)("span",{className:"flex items-center mr-3",children:[(0,yn.jsx)("span",{className:"mr-1",children:"\u23f0\ufe0f"}),t.duration]}),(0,yn.jsxs)("span",{className:"flex items-center",children:[(0,yn.jsx)("span",{className:"mr-1",children:"\u2728"}),t.points," points"]})]})]})]}),(0,yn.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:t.description}),(0,yn.jsx)("div",{className:"flex justify-end",children:(0,yn.jsx)(bn,{color:t.color,onClick:()=>n(t.id),disabled:r,size:"sm",variant:r?"secondary":"primary",icon:r?"\u2713":"",children:r?"Compl\xe9t\xe9":"Commencer"})})]})})},An=e=>{let{exercise:t,onStart:n}=e;return(0,yn.jsxs)(xn.P.div,{whileHover:{scale:1.05},className:"bg-white p-4 rounded-xl shadow-sm text-center hover:shadow-md transition-shadow cursor-pointer",onClick:n,children:[(0,yn.jsx)("div",{className:"w-12 h-12 mx-auto rounded-full flex items-center justify-center text-2xl mb-2",style:{backgroundColor:`${t.color}20`,color:t.color},children:t.icon}),(0,yn.jsx)("div",{className:"font-medium",children:t.title}),(0,yn.jsx)("div",{className:"text-xs text-gray-500",children:t.duration})]})},Pn=e=>{let{recommendation:t,onSelect:n}=e;const{type:r,title:s,category:i,reason:o,score:a,description:l,tags:c=[]}=t,u=(e=>{switch(e){case"mindfulness":return{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200",icon:"\ud83e\uddd8",badge:"bg-blue-100 text-blue-800"};case"productivity":return{bg:"bg-green-50",text:"text-green-700",border:"border-green-200",icon:"\u26a1",badge:"bg-green-100 text-green-800"};case"stress":return{bg:"bg-purple-50",text:"text-purple-700",border:"border-purple-200",icon:"\ud83c\udf3f",badge:"bg-purple-100 text-purple-800"};case"balance":return{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200",icon:"\u2696\ufe0f",badge:"bg-amber-100 text-amber-800"};case"wellbeing":return{bg:"bg-pink-50",text:"text-pink-700",border:"border-pink-200",icon:"\ud83d\udc9d",badge:"bg-pink-100 text-pink-800"};case"social":return{bg:"bg-indigo-50",text:"text-indigo-700",border:"border-indigo-200",icon:"\ud83d\udc65",badge:"bg-indigo-100 text-indigo-800"};case"growth":return{bg:"bg-orange-50",text:"text-orange-700",border:"border-orange-200",icon:"\ud83c\udf31",badge:"bg-orange-100 text-orange-800"};default:return{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200",icon:"\u2728",badge:"bg-gray-100 text-gray-800"}}})(t.category);return(0,yn.jsx)("div",{className:`p-4 rounded-xl ${u.bg} border ${u.border} cursor-pointer transition-transform hover:scale-102 hover:shadow-md`,onClick:()=>n&&n(t),children:(0,yn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,yn.jsxs)("div",{className:"flex items-start",children:[(0,yn.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${u.text} mr-3 text-xl`,children:u.icon}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h3",{className:`font-bold ${u.text} mb-1`,children:s}),(0,yn.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:o}),l&&(0,yn.jsx)("p",{className:"text-gray-500 text-xs mt-1 mb-2",children:l}),(0,yn.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[(0,yn.jsxs)("span",{className:`text-xs px-2 py-1 rounded-full ${u.badge}`,children:[u.icon," ",i]}),"module"===r&&(0,yn.jsx)("span",{className:"text-xs bg-white px-2 py-1 rounded-full text-gray-500",children:"Module recommand\xe9"}),a>=8&&(0,yn.jsx)("span",{className:"text-xs bg-red-50 text-red-600 px-2 py-1 rounded-full",children:"Priorit\xe9 \xe9lev\xe9e"})]})]})]}),(0,yn.jsxs)("div",{className:"flex flex-col items-end ml-2",children:[c&&c.length>0&&(0,yn.jsx)("div",{className:"flex flex-wrap gap-1 justify-end mb-2",children:c.slice(0,2).map(((e,t)=>(0,yn.jsxs)("span",{className:"text-xs bg-white/80 text-gray-600 px-2 py-0.5 rounded-full",children:["#",e]},t)))}),(0,yn.jsx)("div",{className:"mt-auto",children:(0,yn.jsx)("button",{className:`text-sm ${u.text} font-medium hover:underline mt-2`,children:"module"===r?"D\xe9marrer \u2192":"En savoir plus \u2192"})})]})]})})},On=t=>{let{onSelectModule:n}=t;const[r,s]=(0,e.useState)([]),[i,o]=(0,e.useState)(!0),[a,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(null),[d,h]=(0,e.useState)("v1"),[p,f]=(0,e.useState)(!1);(0,e.useEffect)((()=>{m()}),[]);const m=async()=>{try{o(!0),l(null);const e=await vn.ai.getUserRecommendations();e.success?(s(e.recommendations||[]),u(e.generatedAt?new Date(e.generatedAt):new Date),h(e.analysisVersion||"v1"),f(!1)):(l(e.error||"Impossible de charger les recommandations"),s([]))}catch(e){console.error("Erreur lors du chargement des recommandations:",e),l("Une erreur est survenue lors du chargement des recommandations"),s([])}finally{o(!1)}},g=async()=>{try{o(!0),l(null);const e=await vn.ai.analyzeUserResponses();e.success?(s(e.recommendations||[]),u(new Date),h(e.analysisVersion||"enhanced-v1"),f(!1)):l(e.error||"Impossible de g\xe9n\xe9rer de nouvelles recommandations")}catch(e){console.error("Erreur lors de la g\xe9n\xe9ration des recommandations:",e),l("Une erreur est survenue lors de la g\xe9n\xe9ration des recommandations")}finally{o(!1)}},v=e=>{if("module"===e.type&&e.id){const t=vn.content.getModuleById(e.id);t&&n&&(y(e.id,"clicked"),n(t))}else y(e.title,"viewed"),alert(`Recommandation: ${e.title}\n\n${e.description||e.reason}`)},y=async(e,t)=>{try{console.log(`Interaction avec recommandation ${e}: ${t}`)}catch(a){console.error("Erreur lors de l'enregistrement de l'interaction:",a)}},b=async e=>{try{console.log("Feedback sur recommandations: "+(e?"utile":"pas utile")),f(!0)}catch(a){console.error("Erreur lors de l'envoi du feedback:",a)}};return(0,yn.jsxs)("div",{className:"mb-8",children:[(0,yn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,yn.jsxs)("h2",{className:"text-xl font-bold flex items-center",children:[(0,yn.jsx)("span",{className:"mr-2",children:"\u2728"}),"Recommandations personnalis\xe9es",d.includes("enhanced")&&(0,yn.jsx)("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"IA am\xe9lior\xe9e"})]}),(0,yn.jsx)("button",{onClick:g,disabled:i,className:"text-sm px-3 py-1 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 transition-colors flex items-center",children:i?(0,yn.jsx)("span",{children:"Chargement..."}):(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)("span",{className:"mr-1",children:"\ud83d\udd04"}),(0,yn.jsx)("span",{children:"Actualiser"})]})})]}),a&&(0,yn.jsx)("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-4",children:a}),r.length>0?(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)("div",{className:"space-y-3 mb-3",children:r.map(((e,t)=>(0,yn.jsx)(Pn,{recommendation:e,onSelect:v},`${e.id||e.title}-${t}`)))}),!p&&(0,yn.jsxs)("div",{className:"flex justify-center items-center mb-3 bg-gray-50 p-2 rounded-lg",children:[(0,yn.jsx)("span",{className:"text-sm text-gray-600 mr-2",children:"Ces recommandations vous sont-elles utiles ?"}),(0,yn.jsxs)("div",{className:"flex space-x-2",children:[(0,yn.jsx)("button",{onClick:()=>b(!0),className:"text-sm px-3 py-1 bg-green-50 text-green-600 rounded-full hover:bg-green-100 transition-colors",children:"\ud83d\udc4d Oui"}),(0,yn.jsx)("button",{onClick:()=>b(!1),className:"text-sm px-3 py-1 bg-gray-100 text-gray-600 rounded-full hover:bg-gray-200 transition-colors",children:"\ud83d\udc4e Non"})]})]}),(0,yn.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[(0,yn.jsx)("div",{children:d.includes("enhanced")?"Analyse avanc\xe9e avec traitement de langage naturel":"Analyse bas\xe9e sur vos r\xe9ponses"}),c&&(0,yn.jsxs)("div",{children:["Mis \xe0 jour ",(()=>{if(!c)return"";const e=new Date;return c.getDate()===e.getDate()&&c.getMonth()===e.getMonth()&&c.getFullYear()===e.getFullYear()?`aujourd'hui \xe0 ${c.getHours()}:${String(c.getMinutes()).padStart(2,"0")}`:`le ${c.getDate()}/${c.getMonth()+1}/${c.getFullYear()}`})()]})]})]}):i?(0,yn.jsx)("div",{className:"bg-gray-50 rounded-xl p-8 flex justify-center items-center",children:(0,yn.jsx)("div",{className:"text-gray-500",children:"Chargement des recommandations..."})}):(0,yn.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 text-center",children:[(0,yn.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udd0d"}),(0,yn.jsx)("h3",{className:"font-medium text-gray-700 mb-1",children:"Aucune recommandation disponible"}),(0,yn.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"Compl\xe9tez plus de modules pour obtenir des recommandations personnalis\xe9es"}),(0,yn.jsx)("button",{onClick:g,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"G\xe9n\xe9rer des recommandations"})]})]})},Rn=e=>{let{icon:t,name:n,description:r,color:s="#FFF3E0",iconBgColor:i="#41D185"}=e;return(0,yn.jsxs)(xn.P.div,{className:"flex items-center p-3 rounded-xl bg-white border-2 border-gray-100 shadow-sm",whileHover:{scale:1.05},children:[(0,yn.jsx)("div",{className:"rounded-full w-12 h-12 flex items-center justify-center text-xl mr-3 text-white",style:{backgroundColor:i},children:(0,yn.jsx)("span",{children:t})}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("div",{className:"font-bold text-sm",children:n}),r&&(0,yn.jsx)("div",{className:"text-xs text-gray-500",style:{maxWidth:"160px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:r,children:r})]})]})},In=t=>{var n,r;let{progress:s,onLogout:i,userSettings:o,onUpdateSettings:a}=t;const[l,c]=(0,e.useState)(""),u=Math.floor(((null===s||void 0===s?void 0:s.totalPoints)||0)/500)+1;(0,e.useEffect)((()=>{(async()=>{try{const{data:{user:e}}=await Qt.auth.getUser();e&&e.user_metadata&&e.user_metadata.first_name&&c(e.user_metadata.first_name)}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es utilisateur:",e)}})()}),[]);const d=(e,t)=>{const n={...o,[e]:t};a(n)};return(0,yn.jsxs)("div",{children:[(0,yn.jsx)("div",{className:"bg-white rounded-xl p-5 shadow-sm mb-6",children:(0,yn.jsxs)("div",{className:"flex items-start",children:[(0,yn.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white text-3xl mr-4",children:"\ud83e\uddd8"}),(0,yn.jsxs)("div",{children:[(0,yn.jsxs)("h2",{className:"text-xl font-bold mb-1",children:["Votre Profil",l?`: ${l}`:""]}),(0,yn.jsx)("p",{className:"text-gray-600 mb-2",children:"Suivez votre progr\xe8s et parcours bien-\xeatre"}),(0,yn.jsxs)("div",{className:"flex items-center",children:[(0,yn.jsxs)("div",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full text-xs font-medium flex items-center mr-2",children:[(0,yn.jsx)("span",{className:"mr-1",children:"\u2b50"})," Niveau ",u]}),(0,yn.jsxs)("div",{className:"bg-orange-100 text-orange-800 px-2 py-0.5 rounded-full text-xs font-medium flex items-center",children:[(0,yn.jsx)("span",{className:"mr-1",children:"\ud83d\udd25"})," S\xe9rie de ",(null===s||void 0===s?void 0:s.streak)||0," jours"]})]})]})]})}),(0,yn.jsxs)("div",{className:"mb-6",children:[(0,yn.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[(0,yn.jsx)("span",{className:"mr-2",children:"\ud83d\udcca"})," Vos statistiques"]}),(0,yn.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:(0,yn.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,yn.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,yn.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Total points"}),(0,yn.jsx)("div",{className:"text-xl font-bold text-blue-600",children:(null===s||void 0===s?void 0:s.totalPoints)||0})]}),(0,yn.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,yn.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Modules compl\xe9t\xe9s"}),(0,yn.jsx)("div",{className:"text-xl font-bold text-green-600",children:Object.keys((null===s||void 0===s?void 0:s.completedModules)||{}).length})]}),(0,yn.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg",children:[(0,yn.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Badges obtenus"}),(0,yn.jsx)("div",{className:"text-xl font-bold text-purple-600",children:(null===s||void 0===s||null===(n=s.badges)||void 0===n?void 0:n.length)||0})]}),(0,yn.jsxs)("div",{className:"bg-orange-50 p-3 rounded-lg",children:[(0,yn.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"D\xe9fis compl\xe9t\xe9s"}),(0,yn.jsx)("div",{className:"text-xl font-bold text-orange-600",children:(null===s||void 0===s||null===(r=s.completedChallenges)||void 0===r?void 0:r.length)||0})]})]})})]}),null!==s&&void 0!==s&&s.badges&&s.badges.length>0?(0,yn.jsxs)("div",{className:"mb-6",children:[(0,yn.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[(0,yn.jsx)("span",{className:"mr-2",children:"\ud83c\udfc6"})," Vos badges"]}),(0,yn.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:(0,yn.jsx)("div",{className:"grid grid-cols-2 gap-3",children:s.badges.map((e=>(0,yn.jsx)(Rn,{icon:e.icon,name:e.name,description:e.description,iconBgColor:"#FFC107"},e.id)))})})]}):(0,yn.jsx)("div",{className:"mb-6 bg-blue-50 p-4 rounded-xl",children:(0,yn.jsxs)("p",{className:"text-blue-800 flex items-center",children:[(0,yn.jsx)("span",{className:"text-xl mr-2",children:"\ud83c\udfc6"}),"Compl\xe9tez des modules pour gagner vos premiers badges !"]})}),(0,yn.jsxs)("div",{children:[(0,yn.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[(0,yn.jsx)("span",{className:"mr-2",children:"\u2699\ufe0f"})," Param\xe8tres"]}),(0,yn.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm space-y-6",children:[" ",(0,yn.jsxs)("div",{children:[" ",(0,yn.jsxs)("h3",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[(0,yn.jsx)("span",{className:"mr-2 text-yellow-500",children:"\ud83d\udd14"})," Notifications"]}),(0,yn.jsxs)("div",{className:"space-y-3 pl-6",children:[" ",(0,yn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,yn.jsx)("span",{className:"text-gray-600",children:"Notifications push"}),(0,yn.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,yn.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:o.notifications,onChange:()=>d("notifications",!o.notifications)}),(0,yn.jsx)("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),(0,yn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,yn.jsx)("span",{className:"text-gray-600",children:"Rappels quotidiens"}),(0,yn.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,yn.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:o.dailyReminders,onChange:()=>d("dailyReminders",!o.dailyReminders)}),(0,yn.jsx)("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),(0,yn.jsxs)("div",{children:[" ",(0,yn.jsxs)("h3",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[(0,yn.jsx)("span",{className:"mr-2 text-purple-500",children:"\ud83d\udd0a"})," Sons"]}),(0,yn.jsxs)("div",{className:"space-y-3 pl-6",children:[" ",(0,yn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,yn.jsx)("span",{className:"text-gray-600",children:"Sons de l'application"}),(0,yn.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,yn.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:o.sounds,onChange:()=>d("sounds",!o.sounds)}),(0,yn.jsx)("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),(0,yn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,yn.jsx)("span",{className:"text-gray-600",children:"Sons de m\xe9ditation"}),(0,yn.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,yn.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:o.meditationSounds,onChange:()=>d("meditationSounds",!o.meditationSounds)}),(0,yn.jsx)("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),(0,yn.jsxs)("div",{children:[" ",(0,yn.jsxs)("h3",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[(0,yn.jsx)("span",{className:"mr-2 text-pink-500",children:"\ud83c\udfa8"})," Apparence"]}),(0,yn.jsxs)("div",{className:"space-y-3 pl-6",children:[" ",(0,yn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,yn.jsx)("span",{className:"text-gray-600",children:"Mode sombre"}),(0,yn.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,yn.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:o.darkMode,onChange:()=>d("darkMode",!o.darkMode)}),(0,yn.jsx)("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),(0,yn.jsxs)("div",{children:[" ",(0,yn.jsxs)("h3",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[(0,yn.jsx)("span",{className:"mr-2 text-yellow-600",children:"\ud83d\udd12"})," S\xe9curit\xe9 et confidentialit\xe9"]}),(0,yn.jsxs)("div",{className:"space-y-3 pl-6",children:[" ",(0,yn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,yn.jsx)("span",{className:"text-gray-600",children:"Protection des donn\xe9es"}),(0,yn.jsxs)("select",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:o.dataPrivacy,onChange:e=>d("dataPrivacy",e.target.value),children:[(0,yn.jsx)("option",{value:"minimal",children:"Minimale"}),(0,yn.jsx)("option",{value:"standard",children:"Standard"}),(0,yn.jsx)("option",{value:"maximum",children:"Maximum"})]})]})]})]}),(0,yn.jsxs)("div",{children:[" ",(0,yn.jsxs)("h3",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[(0,yn.jsx)("span",{className:"mr-2 text-blue-500",children:"\ud83c\udf10"})," Langue"]}),(0,yn.jsxs)("div",{className:"space-y-3 pl-6",children:[" ",(0,yn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,yn.jsx)("span",{className:"text-gray-600",children:"Langue de l'application"}),(0,yn.jsxs)("select",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:o.language,onChange:e=>d("language",e.target.value),children:[(0,yn.jsx)("option",{value:"fr",children:"Fran\xe7ais"}),(0,yn.jsx)("option",{value:"en",children:"English"})]})]})]})]}),(0,yn.jsxs)("div",{className:"pt-4 space-y-3",children:[" ",(0,yn.jsxs)("button",{className:"w-full py-3 text-left px-4 bg-green-100 text-green-800 rounded-lg flex justify-between items-center hover:bg-green-200 transition-colors font-medium",onClick:async()=>{try{if(!o||"object"!==typeof o)throw new Error("Param\xe8tres utilisateur invalides");const{data:{user:e}}=await Qt.auth.getUser();if(!e)return void alert("Utilisateur non trouv\xe9. Veuillez vous reconnecter.");const t={notifications:!!o.notifications,sounds:!!o.sounds,darkMode:!!o.darkMode,dataPrivacy:o.dataPrivacy||"standard",language:o.language||"fr",dailyReminders:!!o.dailyReminders,meditationSounds:!!o.meditationSounds},{error:n}=await Qt.from("user_settings").upsert({user_id:e.id,settings:JSON.stringify(t),updated_at:new Date},{onConflict:"user_id"});if(n)throw n;a(t),alert("Param\xe8tres enregistr\xe9s avec succ\xe8s!")}catch(e){console.error("Erreur lors de la sauvegarde des param\xe8tres:",e),alert("Erreur lors de la sauvegarde des param\xe8tres: "+e.message)}},children:[(0,yn.jsx)("span",{children:"Enregistrer les param\xe8tres"}),(0,yn.jsx)("span",{className:"text-xl",children:"\ud83d\udcbe"})]}),(0,yn.jsxs)("button",{className:"w-full py-3 text-left px-4 bg-blue-100 text-blue-800 rounded-lg flex justify-between items-center hover:bg-blue-200 transition-colors font-medium",onClick:i,children:[(0,yn.jsx)("span",{children:"Se d\xe9connecter"}),(0,yn.jsx)("span",{className:"text-xl",children:"\ud83d\udeaa"})]})]})]})]})]})};var Mn=n(3546);const Dn=t=>{let{onSubmit:n,userId:r}=t;const[s,i]=(0,e.useState)(!1),[o,a]=(0,e.useState)(null),l=["\ud83d\ude04","\ud83d\ude42","\ud83d\ude0a","\ud83d\ude10","\ud83d\ude15","\ud83d\ude41","\ud83d\ude1f","\ud83d\ude22","\ud83d\ude2b","\ud83d\ude2d"],c=["#22c55e","#4ade80","#86efac","#bef264","#facc15","#fb923c","#f97316","#ef4444","#dc2626","#b91c1c"];(0,e.useEffect)((()=>{const e=setTimeout((()=>{(async()=>{if(r)try{const e=(new Date).toISOString().split("T")[0],{data:t,error:n}=await Qt.from("user_daily_feelings").select("created_at").eq("user_id",r).gte("created_at",e).order("created_at",{ascending:!1}).limit(1);if(n)throw n;t&&0!==t.length||i(!0)}catch(e){console.error("Erreur lors de la v\xe9rification du sentiment quotidien:",e),i(!0)}})()}),1e3);return()=>clearTimeout(e)}),[r]);const u=e=>9-(e-1);return s?(0,yn.jsx)(Mn.N,{children:s&&(0,yn.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:(0,yn.jsxs)(xn.P.div,{className:"bg-white rounded-xl p-5 shadow-lg max-w-md w-full mx-4",initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},transition:{type:"spring",damping:25,stiffness:300},children:[(0,yn.jsxs)("div",{className:"text-center mb-6",children:[(0,yn.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Comment vous sentez-vous aujourd'hui ?"}),(0,yn.jsx)("p",{className:"text-gray-600 text-sm",children:"Votre bien-\xeatre est important pour nous"})]}),(0,yn.jsxs)("div",{className:"mb-6",children:[(0,yn.jsx)("div",{className:"flex justify-between mb-3",children:[1,2,3,4,5,6,7,8,9,10].map((e=>(0,yn.jsx)("div",{className:"text-center",children:(0,yn.jsxs)(xn.P.div,{className:"cursor-pointer",whileHover:{scale:1.2,y:-5},whileTap:{scale:.9},animate:o===e?{scale:[1,1.3,1.2],y:-5,transition:{repeat:1/0,repeatType:"reverse",duration:1.5}}:{},onClick:()=>a(e),children:[(0,yn.jsx)("div",{className:"text-2xl mb-1",children:l[u(e)]}),(0,yn.jsx)("div",{className:"w-8 h-8 rounded-full mx-auto flex items-center justify-center text-white text-sm font-bold "+(o===e?"ring-2 ring-offset-2":""),style:{backgroundColor:c[u(e)]},children:e})]})},e)))}),o&&(0,yn.jsx)(xn.P.div,{className:"w-full h-2 bg-gray-100 rounded-full mt-4 overflow-hidden",initial:{opacity:0},animate:{opacity:1},children:(0,yn.jsx)(xn.P.div,{className:"h-full rounded-full",style:{background:"linear-gradient(to right, #22c55e, #4ade80, #86efac, #bef264, #facc15, #fb923c, #f97316, #ef4444, #dc2626, #b91c1c)",width:o/10*100+"%"},initial:{width:0},animate:{width:o/10*100+"%"},transition:{duration:.5}})})]}),(0,yn.jsxs)("div",{className:"flex justify-between",children:[(0,yn.jsx)("button",{className:"px-4 py-2 text-gray-600 font-medium rounded-lg hover:bg-gray-100 transition-colors",onClick:()=>i(!1),children:"Plus tard"}),(0,yn.jsx)(xn.P.button,{className:"px-6 py-2 rounded-lg font-bold text-white "+(o?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"),whileHover:o?{scale:1.05}:{},whileTap:o?{scale:.95}:{},onClick:async()=>{if(o&&r)try{const{error:e}=await Qt.from("user_daily_feelings").insert({user_id:r,feeling_value:o,created_at:(new Date).toISOString()});if(e)throw e;n&&n(o),i(!1)}catch(e){console.error("Erreur lors de l'enregistrement du sentiment:",e)}},disabled:!o,children:"Valider"})]})]})})}):null},Ln=e=>{let{exercise:t,onClose:n}=e;return t?(0,yn.jsx)(xn.P.div,{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,yn.jsxs)(xn.P.div,{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1},children:[(0,yn.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 p-5",children:(0,yn.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center",children:[(0,yn.jsx)("span",{className:"mr-2 text-2xl",children:"\u26a1"}),"Exercice Rapide: ",t.title]})}),(0,yn.jsxs)("div",{className:"p-6 space-y-4",children:[(0,yn.jsxs)("p",{className:"text-gray-700",children:["Pr\xe9parez-vous pour un exercice de ",(0,yn.jsx)("span",{className:"font-semibold",children:t.duration})," ax\xe9 sur la ",(0,yn.jsx)("span",{className:"font-semibold",children:t.title.toLowerCase()}),"."]}),(0,yn.jsx)("p",{className:"text-sm text-gray-500",children:"Cette fonctionnalit\xe9 sera pleinement impl\xe9ment\xe9e dans une future version pour vous guider \xe0 travers l'exercice."})]}),(0,yn.jsx)("div",{className:"p-4 bg-gray-50 text-right",children:(0,yn.jsx)("button",{onClick:n,className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition duration-150 ease-in-out",children:"Fermer"})})]})}):null};class $n extends e.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return console.error("ErrorBoundary a captur\xe9 une erreur:",e),{hasError:!0}}componentDidCatch(e,t){console.error("ErrorBoundary - d\xe9tails:",e,t)}render(){return this.state.hasError?this.props.fallback||(0,yn.jsx)("div",{children:"Une erreur est survenue."}):this.props.children}}const Un=e.lazy((()=>n.e(250).then(n.bind(n,7250)))),zn=t=>{let{progress:n,islands:r,exercises:s,challenges:i,onSelectIsland:o,onCompleteChallenge:a,onLogout:l,userSettings:c,onUpdateSettings:u}=t;const[d,h]=(0,e.useState)("discover"),[p,f]=(0,e.useState)(""),[m,g]=(0,e.useState)(null),[v,y]=(0,e.useState)(null),[b,x]=(0,e.useState)(!1);(0,e.useEffect)((()=>{(async()=>{try{const{data:{user:e}}=await Qt.auth.getUser();e&&(e.user_metadata&&e.user_metadata.first_name&&f(e.user_metadata.first_name),g(e.id))}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es utilisateur:",e)}})()}),[]);return(0,yn.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[(0,yn.jsx)(Dn,{userId:m,onSubmit:e=>{console.log(`Sentiment quotidien soumis : ${e}`)}}),(0,yn.jsx)("header",{className:"bg-white shadow-sm sticky top-0 z-20",children:(0,yn.jsxs)("div",{className:"container mx-auto py-3 px-4 flex justify-between items-center",children:[(0,yn.jsx)(Sn,{}),(0,yn.jsxs)("div",{className:"flex items-center",children:[(0,yn.jsxs)("div",{className:"bg-blue-50 px-3 py-1 rounded-full flex items-center mr-2",children:[(0,yn.jsx)("span",{className:"text-blue-600 font-bold mr-1",children:(null===n||void 0===n?void 0:n.totalPoints)||0}),(0,yn.jsx)("span",{className:"text-blue-500 text-xs",children:"pts"})]}),(0,yn.jsxs)("div",{className:"flex items-center bg-orange-50 px-3 py-1 rounded-full",children:[(0,yn.jsx)("span",{className:"text-orange-500 mr-1",children:"\ud83d\udd25"}),(0,yn.jsx)("span",{className:"text-orange-600 font-bold",children:(null===n||void 0===n?void 0:n.streak)||0})]})]})]})}),(0,yn.jsxs)("main",{className:"container mx-auto px-4 py-6 max-w-3xl",children:[(0,yn.jsx)("div",{className:"mb-6",children:(0,yn.jsxs)("div",{className:"bg-white rounded-xl p-5 shadow-sm",children:[(0,yn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h1",{className:"text-2xl font-bold mb-1",children:p?`Bonjour ${p} !`:"Bonjour !"}),(0,yn.jsx)("p",{className:"text-gray-600",children:"Comment vous sentez-vous aujourd'hui ?"})]}),(0,yn.jsx)(wn,{character:"\ud83e\uddd8",emotion:"happy"})]}),(0,yn.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,yn.jsx)(kn,{score:(null===n||void 0===n?void 0:n.wellnessScore)||65}),(0,yn.jsx)(jn,{streak:(null===n||void 0===n?void 0:n.streak)||0}),(0,yn.jsx)(Cn,{points:(null===n||void 0===n?void 0:n.totalPoints)||0,level:Math.floor(((null===n||void 0===n?void 0:n.totalPoints)||0)/500)+1})]})]})}),(0,yn.jsxs)("div",{className:"flex mb-6 bg-white rounded-xl shadow-sm overflow-hidden",children:[(0,yn.jsx)("button",{className:"flex-1 py-3 font-medium text-center transition-colors "+("discover"===d?"bg-blue-50 text-blue-600":"text-gray-500 hover:bg-gray-50"),onClick:()=>h("discover"),children:"D\xe9couvrir"}),(0,yn.jsx)("button",{className:"flex-1 py-3 font-medium text-center transition-colors "+("challenges"===d?"bg-blue-50 text-blue-600":"text-gray-500 hover:bg-gray-50"),onClick:()=>h("challenges"),children:"D\xe9fis"}),(0,yn.jsx)("button",{className:"flex-1 py-3 font-medium text-center transition-colors "+("profile"===d?"bg-blue-50 text-blue-600":"text-gray-500 hover:bg-gray-50"),onClick:()=>h("profile"),children:"Profil"})]}),"discover"===d&&(0,yn.jsxs)("div",{children:[(0,yn.jsx)("div",{className:"mb-8",children:(0,yn.jsx)("div",{className:"relative overflow-hidden rounded-2xl shadow-lg mb-6 flex items-end h-48 p-6",style:{backgroundImage:"linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.7) 100%), url('https://images.unsplash.com/photo-1545205597-3d9d02c29597?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80')",backgroundSize:"cover",backgroundPosition:"center"},children:(0,yn.jsxs)("div",{className:"z-10 text-white",children:[(0,yn.jsx)("h2",{className:"text-xl font-bold mb-1",children:"Parcourez les \xeeles du bien-\xeatre"}),(0,yn.jsx)("p",{className:"text-white text-opacity-80 mb-3",children:"D\xe9couvrez les parcours th\xe9matiques pour am\xe9liorer votre \xe9quilibre"})]})})}),(0,yn.jsx)(On,{onSelectModule:e=>{const t=r.find((t=>t.id===e.islandId));t&&o(t,e.id)}}),(0,yn.jsxs)("div",{className:"mb-8",children:[(0,yn.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[(0,yn.jsx)("span",{className:"mr-2",children:"\ud83c\udfdd\ufe0f"}),"Parcours bien-\xeatre"]}),(0,yn.jsx)("div",{className:"space-y-4",children:r.map(((e,t)=>{var r;const s=(null===n||void 0===n||null===(r=n.islandProgress)||void 0===r?void 0:r[e.id])||{progress:0,completedModules:0};return(0,yn.jsx)(Nn,{island:e,progress:s.progress||0,completedModules:s.completedModules||0,isUnlocked:!0,onClick:()=>o(e)},e.id)}))})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[(0,yn.jsx)("span",{className:"mr-2",children:"\u26a1"}),"Exercices rapides"]}),(0,yn.jsx)("div",{className:"grid grid-cols-2 gap-3",children:s.map((e=>(0,yn.jsx)(An,{exercise:e,onStart:()=>{y(e),x(!0)}},e.id)))})]})]}),b&&v&&(0,yn.jsx)(Ln,{exercise:v,onClose:()=>x(!1)}),"challenges"===d&&(0,yn.jsxs)("div",{children:[(0,yn.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl p-5 text-white mb-6",children:(0,yn.jsxs)("div",{className:"flex items-start",children:[(0,yn.jsx)("div",{className:"w-12 h-12 rounded-full bg-white bg-opacity-20 flex items-center justify-center text-2xl mr-3",children:"\ud83d\udd25"}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h2",{className:"font-bold text-lg mb-1",children:"D\xe9fis quotidiens"}),(0,yn.jsx)("p",{className:"text-blue-100",children:"Compl\xe9tez ces d\xe9fis pour am\xe9liorer votre bien-\xeatre et maintenir votre s\xe9rie"})]})]})}),(0,yn.jsx)("div",{className:"space-y-4 mb-6",children:i.map((e=>{var t;return(0,yn.jsx)(Tn,{challenge:e,onComplete:a,isCompleted:null===n||void 0===n||null===(t=n.completedChallenges)||void 0===t?void 0:t.includes(e.id)},e.id)}))})]}),"profile"===d&&(0,yn.jsx)(In,{progress:n,onLogout:l,userSettings:c,onUpdateSettings:u})]}),(0,yn.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg py-2 px-4",children:(0,yn.jsx)("div",{className:"container mx-auto max-w-3xl",children:(0,yn.jsxs)("div",{className:"flex justify-between",children:[(0,yn.jsxs)("button",{className:"flex flex-col items-center px-4 py-1 "+("discover"===d?"text-blue-600":"text-gray-500"),onClick:()=>h("discover"),children:[(0,yn.jsx)("span",{className:"text-2xl",children:"\ud83e\udded"}),(0,yn.jsx)("span",{className:"text-xs mt-1",children:"D\xe9couvrir"})]}),(0,yn.jsxs)("button",{className:"flex flex-col items-center px-4 py-1 "+("challenges"===d?"text-blue-600":"text-gray-500"),onClick:()=>h("challenges"),children:[(0,yn.jsx)("span",{className:"text-2xl",children:"\ud83d\udd25"}),(0,yn.jsx)("span",{className:"text-xs mt-1",children:"D\xe9fis"})]}),(0,yn.jsxs)("button",{className:"flex flex-col items-center px-4 py-1 "+("profile"===d?"text-blue-600":"text-gray-500"),onClick:()=>h("profile"),children:[(0,yn.jsx)("span",{className:"text-2xl",children:"\ud83d\udc64"}),(0,yn.jsx)("span",{className:"text-xs mt-1",children:"Profil"})]})]})})}),(0,yn.jsx)(e.Suspense,{fallback:(0,yn.jsx)("div",{className:"fixed bottom-20 right-5 w-14 h-14 rounded-full bg-gray-300 animate-pulse"}),children:(0,yn.jsx)($n,{fallback:(0,yn.jsx)("div",{className:"fixed bottom-20 right-5 w-14 h-14 rounded-full bg-blue-500 text-white flex items-center justify-center",children:"\ud83d\udcac"}),children:(0,yn.jsx)(Un,{useLocalMode:!fn.WF.chatbot.enabled})})})]})},Bn=e=>{let{module:t,onStart:n,isUnlocked:r,isCompleted:s,color:i}=e;return(0,yn.jsx)(xn.P.div,{whileHover:r?{scale:1.02}:{},className:"bg-white rounded-xl shadow-sm overflow-hidden "+(r?"cursor-pointer":"opacity-70"),children:(0,yn.jsxs)("div",{className:"p-5",style:{borderLeft:s?`4px solid ${i}`:"4px solid #e2e8f0"},children:[(0,yn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,yn.jsxs)("div",{className:"flex items-center",children:[(0,yn.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white mr-3",style:{backgroundColor:s?i:"#e2e8f0"},children:(0,yn.jsx)("span",{className:"text-xl",children:t.icon})}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h3",{className:"font-bold text-gray-800",children:t.title}),(0,yn.jsxs)("div",{className:"flex text-xs text-gray-500",children:[(0,yn.jsxs)("span",{className:"flex items-center mr-3",children:[(0,yn.jsx)("span",{className:"mr-1",children:"\u23f0\ufe0f"}),t.duration]}),(0,yn.jsxs)("span",{className:"flex items-center",children:[(0,yn.jsx)("span",{className:"mr-1",children:"\u2728"}),t.points," points"]})]})]})]}),s&&(0,yn.jsxs)("div",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full flex items-center",children:[(0,yn.jsx)("span",{className:"mr-1",children:"\u2713"})," Compl\xe9t\xe9"]})]}),(0,yn.jsx)("p",{className:"text-sm text-gray-600 my-3",children:t.description}),(0,yn.jsx)("div",{className:"flex justify-end",children:(0,yn.jsx)(bn,{color:i,onClick:n,disabled:!r,size:"sm",variant:s?"secondary":"primary",children:s?"Revisiter":"Commencer"})})]})})},Fn=e=>{var t;let{question:n,value:r,onChange:s,disabled:i}=e;const o=["\ud83d\ude1f","\ud83d\ude41","\ud83d\ude10","\ud83d\ude42","\ud83d\ude00"],a=(e,t)=>{if(!t)return"bg-white";return["bg-red-500","bg-orange-500","bg-yellow-500","bg-lime-500","bg-green-500"][e-1]||"bg-green-500"};return(0,yn.jsxs)("div",{className:"my-6",children:[(0,yn.jsx)("div",{className:"flex justify-between mb-3 px-2",children:null===(t=n.labels)||void 0===t?void 0:t.map(((e,t)=>(0,yn.jsx)("div",{className:"text-center",children:(0,yn.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:e})},t)))}),(0,yn.jsx)("div",{className:"flex justify-between mb-2 px-2",children:[...Array(n.max||5)].map(((e,t)=>{const n=t+1,s=Math.min(t,o.length-1);return(0,yn.jsx)("div",{className:"text-center",children:(0,yn.jsx)(Mn.N,{mode:"wait",children:(0,yn.jsx)(xn.P.div,{initial:{y:0,scale:1},animate:r===n?{y:[-5,0],scale:[1,1.3,1.2],rotate:[0,5,-5,0]}:{y:0,scale:1},transition:{duration:.5,ease:"easeInOut"},className:"text-2xl mb-1",children:o[s]},r===n?"selected":"unselected")})},`emoji-${n}`)}))}),(0,yn.jsx)("div",{className:"flex justify-between",children:[...Array(n.max||5)].map(((e,t)=>{const n=t+1,o=r===n;return(0,yn.jsx)(xn.P.button,{whileHover:{scale:1.15,y:-5},whileTap:{scale:.85,rotate:[0,-5,5,0]},animate:o?{scale:[1,1.2,1.1],boxShadow:"0px 8px 15px rgba(0, 0, 0, 0.2)"}:{scale:1,boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)"},transition:{duration:.3,type:"spring",stiffness:500,damping:15},className:"w-16 h-16 rounded-full shadow-md focus:outline-none flex items-center justify-center "+(o?`${a(n,!0)} text-white`:"bg-white border-2 border-gray-300 text-gray-700 hover:border-gray-400"),onClick:()=>!i&&s(n),disabled:i,children:(0,yn.jsx)("span",{className:"text-xl font-bold",children:n})},n)}))}),r&&(0,yn.jsx)("div",{className:"mt-6 relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:(0,yn.jsx)(xn.P.div,{className:"absolute top-0 left-0 h-full rounded-full",style:{background:"linear-gradient(to right, #ef4444, #f97316, #facc15, #84cc16, #22c55e)",width:r/(n.max||5)*100+"%"},initial:{width:0},animate:{width:r/(n.max||5)*100+"%"},transition:{duration:.5}})})]})},Vn={lecture:"\ud83d\udcda",musique:"\ud83c\udfb5",sport:"\ud83c\udfc3\u200d\u2642\ufe0f",voyages:"\u2708\ufe0f",art_culture:"\ud83c\udfa8",cuisine:"\ud83c\udf73",autre:"\u2728",communication:"\ud83d\udde3\ufe0f",resolution:"\ud83e\udde9",creativite:"\ud83d\udca1",leadership:"\ud83d\ude80",empathie:"\u2764\ufe0f",organisation:"\ud83d\udccb",ecriture:"\u270d\ufe0f",dessin:"\ud83d\udd8c\ufe0f",parole:"\ud83c\udfa4",environnement:"\ud83c\udf31",justice:"\u2696\ufe0f",sante:"\ud83e\udde0",education:"\ud83c\udf93",inegalites:"\ud83e\udd1d",durabilite:"\u267b\ufe0f",droits:"\u270a",innovation:"\ud83d\udcab",conseil:"\ud83d\udcbc",coaching:"\ud83c\udfc6",cours:"\ud83d\udc68\u200d\ud83c\udfeb",design:"\ud83c\udfad",contenu:"\ud83d\udcf1",freelance:"\ud83d\udeb6",startup:"\ud83d\udcc8",creatif:"\ud83c\udfaa"},qn=t=>{var n;let{question:r,value:s,onChange:i,disabled:o}=t;const[a,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(null);return(0,yn.jsx)("div",{className:"grid grid-cols-1 gap-3",children:null===(n=r.options)||void 0===n?void 0:n.map((e=>{const t=s===e.id,n=c===e.id;return(0,yn.jsxs)(xn.P.div,{initial:!1,animate:{y:t?-5:0,boxShadow:t?"0px 8px 15px rgba(0, 0, 0, 0.1)":"0px 4px 6px rgba(0, 0, 0, 0.05)"},whileHover:{scale:1.03,y:-7,boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.15)"},whileTap:{scale:.97,boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)"},transition:{type:"spring",stiffness:500,damping:15},onHoverStart:()=>l(e.id),onHoverEnd:()=>l(null),onClick:()=>{return t=e.id,void(o||s!==t&&(u(s),i(t)));var t},className:"p-4 border-2 rounded-2xl cursor-pointer transition-all relative overflow-hidden "+(t?"border-green-500 bg-green-50":n?"border-gray-300 bg-gray-50":"border-gray-200 hover:border-gray-300"),children:[t&&(0,yn.jsx)(xn.P.div,{className:"absolute inset-0 bg-gradient-to-r from-green-50 to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:.2},exit:{opacity:0}}),(0,yn.jsxs)("div",{className:"flex items-center",children:[(0,yn.jsx)(xn.P.div,{className:"mr-3 text-xl",initial:{opacity:.7,scale:1},animate:t?{opacity:1,scale:1.2,rotate:[0,10,-10,0]}:a===e.id?{opacity:1,scale:1.2,rotate:[0,5,-5,0]}:{opacity:.7,scale:1},transition:{duration:t?.5:.3,ease:"easeInOut"},children:(r=e.id,Vn[r]||"\u2728")}),(0,yn.jsxs)("div",{className:"relative mr-3",children:[(0,yn.jsx)("div",{className:"w-6 h-6 flex items-center justify-center rounded-full border-2 "+(t?"border-green-500":"border-gray-300")}),(0,yn.jsx)(Mn.N,{children:t&&(0,yn.jsx)(xn.P.div,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-3.5 h-3.5 bg-green-500 rounded-full",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:500,damping:15}})}),(0,yn.jsx)(Mn.N,{children:t&&(0,yn.jsx)(xn.P.div,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-white text-xs",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:500,damping:15,delay:.1},children:"\u2713"})})]}),(0,yn.jsx)(xn.P.span,{className:"font-medium",animate:{fontWeight:t?600:500,scale:t?1.02:1},transition:{duration:.2},children:e.label})]}),(0,yn.jsx)(Mn.N,{children:t&&(0,yn.jsx)(xn.P.div,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rounded-full bg-green-500 pointer-events-none",initial:{width:0,height:0,opacity:.5},animate:{width:200,height:200,opacity:0},exit:{opacity:0},transition:{duration:.8}})})]},e.id);var r}))})},Gn={lecture:"\ud83d\udcda",musique:"\ud83c\udfb5",sport:"\ud83c\udfc3\u200d\u2642\ufe0f",voyages:"\u2708\ufe0f",art_culture:"\ud83c\udfa8",cuisine:"\ud83c\udf73",autre:"\u2728",communication:"\ud83d\udde3\ufe0f",resolution:"\ud83e\udde9",creativite:"\ud83d\udca1",leadership:"\ud83d\ude80",empathie:"\u2764\ufe0f",organisation:"\ud83d\udccb",ecriture:"\u270d\ufe0f",dessin:"\ud83d\udd8c\ufe0f",parole:"\ud83c\udfa4",environnement:"\ud83c\udf31",justice:"\u2696\ufe0f",sante:"\ud83e\udde0",education:"\ud83c\udf93",inegalites:"\ud83e\udd1d",durabilite:"\u267b\ufe0f",droits:"\u270a",innovation:"\ud83d\udcab",conseil:"\ud83d\udcbc",coaching:"\ud83c\udfc6",cours:"\ud83d\udc68\u200d\ud83c\udfeb",design:"\ud83c\udfad",contenu:"\ud83d\udcf1",freelance:"\ud83d\udeb6",startup:"\ud83d\udcc8",creatif:"\ud83c\udfaa"},Wn=t=>{var n;let{question:r,value:s=[],onChange:i,disabled:o,maxSelect:a}=t;const[l,c]=(0,e.useState)({}),[u,d]=(0,e.useState)(null),h=(0,e.useRef)(null),p={selected:{y:-5,boxShadow:"0px 8px 15px rgba(0, 0, 0, 0.1)",transition:{type:"spring",stiffness:400,damping:10}},unselected:{y:0,boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.05)",transition:{type:"spring",stiffness:400,damping:17}},hover:{scale:1.03,y:-7,boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.15)",transition:{type:"spring",stiffness:300,damping:10}},tap:{scale:.97,boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)",transition:{type:"spring",stiffness:500,damping:15}},exit:{opacity:0,scale:.95,transition:{duration:.2}}},f={initial:{opacity:0,y:10,scale:.8},selected:{opacity:1,y:0,scale:1.2,rotate:[0,10,-10,0],transition:{type:"spring",stiffness:500,damping:10}},unselected:{opacity:.7,y:0,scale:1,transition:{type:"spring",stiffness:500,damping:20}},hover:{scale:1.3,rotate:[0,5,-5,0],transition:{duration:.5,ease:"easeInOut"}}},m={unchecked:{scale:0,opacity:0},checked:{scale:1,opacity:1,transition:{type:"spring",stiffness:500,damping:10,delay:.1}}};return(0,yn.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[null===(n=r.options)||void 0===n?void 0:n.map((e=>{const t=s.includes(e.id);return(0,yn.jsxs)(xn.P.div,{initial:"unselected",animate:t?"selected":"unselected",whileHover:"hover",whileTap:"tap",variants:p,onHoverStart:()=>d(e.id),onHoverEnd:()=>d(null),onClick:()=>(e=>{if(o)return;const t=[...s],n=t.indexOf(e);-1===n?(a&&t.length>=a&&t.shift(),t.push(e)):t.splice(n,1),i(t)})(e.id),className:"p-4 border-2 rounded-2xl cursor-pointer relative overflow-hidden "+(t?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"),children:[t&&(0,yn.jsx)(xn.P.div,{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-green-50 to-transparent opacity-40 pointer-events-none",initial:{opacity:0},animate:{opacity:.2},exit:{opacity:0}}),(0,yn.jsxs)("div",{className:"flex items-center",children:[(0,yn.jsx)(xn.P.div,{className:"mr-3 text-xl",variants:f,initial:"initial",animate:t?"selected":u===e.id?"hover":"unselected",children:(n=e.id,Gn[n]||"\u2728")}),(0,yn.jsx)(xn.P.div,{className:"w-6 h-6 flex items-center justify-center rounded-md border-2 mr-3 "+(t?"border-green-500 bg-green-500 text-white":"border-gray-300"),animate:{scale:t?[1,1.2,1]:1,transition:{duration:.3}},children:(0,yn.jsx)(Mn.N,{children:t&&(0,yn.jsx)(xn.P.span,{variants:m,initial:"unchecked",animate:"checked",exit:"unchecked",children:"\u2713"})})}),(0,yn.jsx)("span",{className:"font-medium",children:e.label})]}),(0,yn.jsx)(Mn.N,{children:"autre"===e.id&&s&&s.includes(e.id)&&(0,yn.jsxs)(xn.P.div,{className:"mt-3 w-full relative",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto",transition:{delay:.1}},exit:{opacity:0,height:0},children:[(0,yn.jsx)("input",{ref:"autre"===e.id?h:null,type:"text",className:"w-full border-2 border-green-400 rounded-lg p-2 focus:outline-none focus:border-green-500 text-sm sm:text-base shadow-sm transition-all",placeholder:"Pr\xe9cisez...",onClick:e=>e.stopPropagation(),onChange:t=>((e,t)=>{const n={...l,[e]:t};c(n)})(e.id,t.target.value),onFocus:e=>{e.stopPropagation(),setTimeout((()=>{const t=e.target.value.length;e.target.setSelectionRange(t,t)}),0)},value:l[e.id]||"",autoFocus:!1}),l[e.id]&&(0,yn.jsx)(xn.P.div,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-500",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},children:"\u2713"})]})})]},e.id);var n})),a&&(0,yn.jsxs)("div",{className:"text-xs text-gray-600 mt-1 flex items-center",children:[(0,yn.jsxs)("span",{className:"mr-2",children:["S\xe9lection: ",s.length,"/",a]}),(0,yn.jsx)("div",{className:"flex-grow h-1.5 bg-gray-200 rounded-full overflow-hidden",children:(0,yn.jsx)(xn.P.div,{className:"h-full bg-green-500 rounded-full",initial:{width:0},animate:{width:s.length/a*100+"%"},transition:{duration:.3}})})]})]})},Hn=t=>{let{question:n,value:r="",onChange:s,disabled:i}=t;const o=(0,e.useRef)(null),[a,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(r?r.length:0);(0,e.useEffect)((()=>{u(r?r.length:0)}),[r]),(0,e.useEffect)((()=>{if(o.current&&document.activeElement===o.current){const e=o.current.selectionStart,t=o.current.selectionEnd;setTimeout((()=>{o.current.focus(),o.current.setSelectionRange(e,t)}),0)}}),[r]);const d=()=>{const e=n.maxLength||500,t=Math.min(c/e*100,100);return t>90?{color:"#ef4444",width:`${t}%`}:t>70?{color:"#f97316",width:`${t}%`}:{color:"#22c55e",width:`${t}%`}};return(0,yn.jsxs)("div",{className:"mb-6",children:[(0,yn.jsxs)(xn.P.div,{className:"relative w-full rounded-2xl overflow-hidden transition-all "+(i?"opacity-75":"opacity-100"),animate:{boxShadow:a?"0px 8px 20px rgba(0, 0, 0, 0.1)":"0px 4px 10px rgba(0, 0, 0, 0.05)"},children:[(0,yn.jsx)("textarea",{ref:o,className:`w-full min-h-[150px] border-2 ${i?"border-gray-200":a?"border-green-500 ring-2 ring-green-100":r&&r.length>0?"border-green-300":"border-gray-300"} rounded-2xl p-4 focus:outline-none resize-none text-gray-700 transition-all duration-300`,style:{background:a?"linear-gradient(to bottom, white, #f9fafb)":"white"},rows:5,placeholder:n.placeholder||"Votre r\xe9ponse...",value:r||"",onChange:e=>{s(e.target.value),u(e.target.value.length)},disabled:i,autoFocus:o.current===document.activeElement,onFocus:e=>{l(!0),setTimeout((()=>{e.target.selectionStart=e.target.value.length,e.target.selectionEnd=e.target.value.length}),0)},onBlur:()=>l(!1)}),(0,yn.jsx)(xn.P.div,{className:"absolute bottom-3 right-3 text-lg opacity-70",animate:{scale:a?1.2:1,opacity:a?.9:.6,rotate:a?[0,10,-10,0]:0},transition:{duration:.5},children:(()=>{if(!r)return"\u270f\ufe0f";const e=r.length/(n.maxLength||500)*100;return e>90?"\ud83d\udd25":e>70?"\ud83d\udcdd":e>40?"\u2728":e>10?"\ud83c\udf31":"\u270f\ufe0f"})()})]}),n.maxLength&&(0,yn.jsxs)("div",{className:"mt-2 relative",children:[(0,yn.jsx)("div",{className:"h-1.5 bg-gray-200 rounded-full overflow-hidden mb-1",children:(0,yn.jsx)(xn.P.div,{className:"h-full rounded-full",style:{backgroundColor:d().color,width:d().width},initial:{width:0},animate:{width:d().width},transition:{duration:.3}})}),(0,yn.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,yn.jsx)(Mn.N,{mode:"wait",children:(0,yn.jsx)(xn.P.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:"text-gray-500",children:c>0?(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)("span",{className:"font-medium",children:"R\xe9ponse:"})," ",c," caract\xe8res"]}):"Commencez \xe0 \xe9crire..."},c>0?"typing":"empty")}),(0,yn.jsxs)(xn.P.span,{animate:{color:c>.9*n.maxLength?"#ef4444":"#6b7280",scale:c>.9*n.maxLength?[1,1.1,1]:1},transition:{duration:.3},children:[c,"/",n.maxLength]})]})]}),(0,yn.jsx)(Mn.N,{children:r&&r.length<10&&!a&&(0,yn.jsxs)(xn.P.div,{className:"text-xs text-blue-500 mt-2 bg-blue-50 p-2 rounded-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[(0,yn.jsx)("span",{className:"font-medium",children:"\ud83d\udca1 Conseil:"})," Essayez d'\xeatre aussi d\xe9taill\xe9 que possible dans votre r\xe9ponse."]})})]})},Jn=e=>{let{questions:t,responses:n,onChangeResponse:r,onSubmit:s,onBack:i,currentStep:o,totalSteps:a,color:l,isCompleted:c}=e;const u=t[o],d=o===t.length-1,h=!u||function(e,t){if(!e.required)return!0;switch(e.type){case"scale":case"multiple_choice":return void 0!==t;case"checkbox":return t&&t.length>0;case"text":return t&&""!==t.trim();default:return!1}}(u,n[u.id]);return(0,yn.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[(0,yn.jsx)("div",{className:"flex justify-center space-x-2 mb-6",children:t.map(((e,t)=>(0,yn.jsx)("div",{className:"h-2 rounded-full transition-all "+(t===o?"w-8":"w-2"),style:{backgroundColor:t<=o?l:"#e5e5e5"}},t)))}),(0,yn.jsxs)("h3",{className:"text-xl font-bold mb-6 text-center",children:[u.question,u.required&&(0,yn.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(()=>{const e=n[u.id];switch(u.type){case"scale":return(0,yn.jsx)(Fn,{question:u,value:e,onChange:e=>r(u.id,e),disabled:c});case"multiple_choice":return(0,yn.jsx)(qn,{question:u,value:e,onChange:e=>r(u.id,e),disabled:c});case"checkbox":return(0,yn.jsx)(Wn,{question:u,value:e,onChange:e=>r(u.id,e),disabled:c,maxSelect:u.maxSelect});case"text":return(0,yn.jsx)(Hn,{question:u,value:e,onChange:e=>r(u.id,e),disabled:c});default:return(0,yn.jsx)("p",{children:"Type de question non pris en charge"})}})(),(0,yn.jsxs)("div",{className:"flex justify-between mt-8",children:[o>0?(0,yn.jsx)(bn,{variant:"secondary",onClick:i,size:"md",children:"Pr\xe9c\xe9dent"}):(0,yn.jsx)("div",{}),d?(0,yn.jsx)(bn,{color:l,onClick:s,disabled:!h||c,size:"md",children:c?"D\xe9j\xe0 compl\xe9t\xe9":"Terminer"}):(0,yn.jsx)(bn,{color:l,onClick:()=>s(!1),disabled:!h,size:"md",children:"Suivant"})]})]})},Kn=t=>{var n;let{module:r,onClose:s,onComplete:i,isCompleted:o,islandId:a,islandData:l}=t;const[c,u]=(0,e.useState)(0),[d,h]=(0,e.useState)(!1),[p,f]=(0,e.useState)({}),[m,g]=(0,e.useState)(!1),[v,y]=(0,e.useState)("neutral"),b=(null===l||void 0===l?void 0:l.color)||"#41D185",x=(null===l||void 0===l?void 0:l.mascot)||"\ud83e\uddd8";(0,e.useEffect)((()=>{(async()=>{try{const e=await nn.getProgress();e.moduleResponses&&e.moduleResponses[r.id]&&f(e.moduleResponses[r.id].responses||{})}catch(e){console.error("Erreur lors du chargement des r\xe9ponses:",e);const t=nn.getProgressSync();t.moduleResponses&&t.moduleResponses[r.id]&&f(t.moduleResponses[r.id].responses||{})}})()}),[r.id]);return(0,yn.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-70 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:(0,yn.jsxs)(xn.P.div,{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-auto",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:20},children:[(0,yn.jsx)("div",{className:"p-6 border-b sticky top-0 bg-white z-10",children:(0,yn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,yn.jsx)("h2",{className:"text-xl font-bold",children:r.title}),(0,yn.jsx)("button",{className:"text-gray-400 hover:text-gray-600",onClick:s,children:"\u2715"})]})}),(0,yn.jsxs)("div",{className:"p-6",children:[m&&(0,yn.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(50)].map(((e,t)=>{const n=8*Math.random()+2,r=[b,"#FFD700","#FF6B6B","#4EAAF0","#41D185"];return(0,yn.jsx)(xn.P.div,{className:"absolute rounded-full",style:{left:100*Math.random()+"%",top:`-${20*Math.random()}%`,width:n,height:n,backgroundColor:r[Math.floor(Math.random()*r.length)]},animate:{y:["0%","120%"],rotate:[0,360]},transition:{duration:2*Math.random()+1,ease:"easeOut",delay:.5*Math.random()}},t)}))}),(0,yn.jsx)("div",{className:"flex justify-center my-4",children:(0,yn.jsx)(wn,{character:x,emotion:v,size:"text-5xl"})}),d?o?(0,yn.jsxs)("div",{className:"text-center py-10",children:[(0,yn.jsx)("div",{className:"flex justify-center mb-4",children:(0,yn.jsx)(wn,{character:x,emotion:"excited",size:"text-6xl"})}),(0,yn.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Module compl\xe9t\xe9 avec succ\xe8s !"}),(0,yn.jsxs)("p",{className:"text-gray-600 mb-6",children:["Vous avez gagn\xe9 ",r.points," points et un nouveau badge."]}),(0,yn.jsx)(bn,{color:b,onClick:s,size:"lg",children:"Retour aux modules"})]}):(0,yn.jsx)(Jn,{questions:r.questions||[],responses:p,onChangeResponse:(e,t)=>{f((n=>({...n,[e]:t}))),y("happy"),setTimeout((()=>y("neutral")),1e3)},onSubmit:async function(){if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])try{await nn.saveModuleResponses(r.id,p),i(r.id,a),g(!0),y("excited"),setTimeout((()=>{s()}),3e3)}catch(e){console.error("Erreur lors de la sauvegarde des r\xe9ponses:",e),nn.saveModuleResponsesSync(r.id,p),i(r.id,a),g(!0),y("excited"),setTimeout((()=>{s()}),3e3)}else u((e=>e+1))},onBack:()=>{u((e=>Math.max(0,e-1)))},currentStep:c,totalSteps:(null===(n=r.questions)||void 0===n?void 0:n.length)||0,color:b,isCompleted:o}):(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)("div",{className:"bg-white p-4 rounded-xl mb-6",dangerouslySetInnerHTML:{__html:r.content}}),(0,yn.jsx)("div",{className:"flex justify-center",children:o?(0,yn.jsx)(bn,{variant:"secondary",onClick:s,children:"Fermer"}):(0,yn.jsx)(bn,{color:b,onClick:()=>h(!0),size:"lg",children:"Commencer le questionnaire"})})]})]})]})})},Yn=t=>{var n,r,s,i,o,a;let{island:l,onReturn:c,globalProgress:u,onCompleteModule:d,modules:h}=t;const[p,f]=(0,e.useState)(null),m=h.filter((e=>e.islandId===l.id)),g=(null===u||void 0===u?void 0:u.completedModules)||{},v=(e,t)=>{if(0===t)return!0;const n=m[t-1];return n&&g[n.id]};return(0,yn.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,yn.jsx)("header",{className:"bg-white shadow-sm sticky top-0 z-20",children:(0,yn.jsxs)("div",{className:"container mx-auto py-3 px-4 flex justify-between items-center",children:[(0,yn.jsx)(Sn,{}),(0,yn.jsxs)("button",{className:"px-4 py-2 rounded-xl bg-gray-100 text-gray-700 font-bold hover:bg-gray-200 transition-colors flex items-center",onClick:c,children:[(0,yn.jsx)("span",{className:"mr-2",children:"\u2190"})," Retour"]})]})}),(0,yn.jsxs)("main",{className:"container mx-auto px-4 py-6 max-w-3xl",children:[(0,yn.jsxs)("div",{className:"text-center mb-8",children:[(0,yn.jsx)(wn,{character:l.mascot,emotion:"happy",size:"text-6xl",className:"mb-4"}),(0,yn.jsx)("h1",{className:"text-3xl font-bold mb-2",style:{color:l.color},children:l.name}),(0,yn.jsx)("p",{className:"text-gray-600 max-w-lg mx-auto",children:l.description}),(0,yn.jsxs)("div",{className:"mt-6 bg-white rounded-xl p-4 shadow-sm max-w-md mx-auto",children:[(0,yn.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,yn.jsx)("span",{className:"text-gray-500",children:"Progression"}),(0,yn.jsxs)("span",{className:"font-medium",style:{color:l.color},children:[(null===u||void 0===u||null===(n=u.islandProgress)||void 0===n||null===(r=n[l.id])||void 0===r?void 0:r.progress)||0,"%"]})]}),(0,yn.jsx)(_n,{value:(null===u||void 0===u||null===(s=u.islandProgress)||void 0===s||null===(i=s[l.id])||void 0===i?void 0:i.progress)||0,color:l.color}),(0,yn.jsxs)("div",{className:"mt-2 text-xs text-center text-gray-500",children:[(null===u||void 0===u||null===(o=u.islandProgress)||void 0===o||null===(a=o[l.id])||void 0===a?void 0:a.completedModules)||0,"/",l.modules," modules compl\xe9t\xe9s"]})]})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Modules disponibles"}),(0,yn.jsx)("div",{className:"space-y-4 mb-8",children:m.map(((e,t)=>(0,yn.jsx)(Bn,{module:e,isUnlocked:v(0,t),isCompleted:!!g[e.id],color:l.color,onStart:()=>f(e)},e.id)))})]}),(0,yn.jsxs)("div",{className:"mb-8",children:[(0,yn.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Badges \xe0 d\xe9bloquer"}),(0,yn.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Object.values(l.badges).map((e=>{var t;const n=null===u||void 0===u||null===(t=u.badges)||void 0===t?void 0:t.some((t=>t.id===e.id));return(0,yn.jsx)(Rn,{icon:e.icon,name:e.name,description:e.description,iconBgColor:n?"#FFC107":"#e2e8f0"},e.id)}))})]})]}),p&&(0,yn.jsx)(Kn,{module:p,onClose:()=>f(null),onComplete:d,isCompleted:!!g[p.id],islandId:l.id,islandData:l})]})},Qn=e=>{let{page:t,onClose:n}=e;const r={copyright:{title:"Copyright 2025",content:(0,yn.jsxs)("div",{className:"space-y-4",children:[(0,yn.jsx)("p",{children:"\xa9 2025 IKIGAI. Tous droits r\xe9serv\xe9s."}),(0,yn.jsx)("p",{children:"L'ensemble du contenu de cette application, y compris les textes, images, logos, designs, et code source, est la propri\xe9t\xe9 exclusive d'IKIGAI et est prot\xe9g\xe9 par les lois internationales sur le droit d'auteur."}),(0,yn.jsx)("p",{children:"Toute reproduction, distribution, modification ou utilisation du contenu sans autorisation \xe9crite pr\xe9alable est strictement interdite et constitue une violation des droits d'auteur."})]})},legal:{title:"Mentions L\xe9gales",content:(0,yn.jsxs)("div",{className:"space-y-4",children:[(0,yn.jsx)("h3",{className:"text-lg font-semibold",children:"\xc9diteur de l'application"}),(0,yn.jsxs)("p",{children:["IKIGAI SAS",(0,yn.jsx)("br",{}),"123 Avenue de la S\xe9r\xe9nit\xe9",(0,yn.jsx)("br",{}),"34070 Montpellier, France",(0,yn.jsx)("br",{}),"Email : contact@ikigai-app.com",(0,yn.jsx)("br",{}),"T\xe9l\xe9phone : +33 .........",(0,yn.jsx)("br",{}),"Capital social : x \u20ac",(0,yn.jsx)("br",{}),"RCS Montpellier : ....",(0,yn.jsx)("br",{}),"N\xb0 TVA : FR 12 345 678 901"]}),(0,yn.jsx)("h3",{className:"text-lg font-semibold",children:"H\xe9bergement"}),(0,yn.jsxs)("p",{children:["L'application est h\xe9berg\xe9e par Netlify.",(0,yn.jsx)("br",{}),"Adresse :"]}),(0,yn.jsx)("h3",{className:"text-lg font-semibold",children:"Directeur de la publication"}),(0,yn.jsx)("p",{children:"Jonathan JOYEUX, IKIGAI SAS"})]})},privacy:{title:"Politique de Confidentialit\xe9",content:(0,yn.jsxs)("div",{className:"space-y-4",children:[(0,yn.jsx)("p",{children:"Chez IKIGAI, nous accordons une importance capitale \xe0 la protection de vos donn\xe9es personnelles. Cette politique de confidentialit\xe9 explique comment nous collectons, utilisons et prot\xe9geons vos informations."}),(0,yn.jsx)("h3",{className:"text-lg font-semibold",children:"Donn\xe9es collect\xe9es"}),(0,yn.jsx)("p",{children:"Nous collectons les informations suivantes :"}),(0,yn.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,yn.jsx)("li",{children:"Informations d'identification (nom, pr\xe9nom, email)"}),(0,yn.jsx)("li",{children:"\xc2ge (optionnel)"}),(0,yn.jsx)("li",{children:"Statut professionnel"}),(0,yn.jsx)("li",{children:"R\xe9ponses aux questionnaires IKIGAI"}),(0,yn.jsx)("li",{children:"Donn\xe9es d'utilisation de l'application"})]}),(0,yn.jsx)("h3",{className:"text-lg font-semibold",children:"Utilisation des donn\xe9es"}),(0,yn.jsx)("p",{children:"Vos donn\xe9es sont utilis\xe9es pour :"}),(0,yn.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,yn.jsx)("li",{children:"Personnaliser votre exp\xe9rience IKIGAI"}),(0,yn.jsx)("li",{children:"G\xe9n\xe9rer des recommandations adapt\xe9es \xe0 votre profil"}),(0,yn.jsx)("li",{children:"Am\xe9liorer nos services et algorithmes"}),(0,yn.jsx)("li",{children:"Vous contacter concernant votre compte"})]}),(0,yn.jsx)("h3",{className:"text-lg font-semibold",children:"Protection de vos donn\xe9es"}),(0,yn.jsx)("p",{children:"Nous utilisons Supabase, une plateforme s\xe9curis\xe9e, pour stocker vos donn\xe9es. Nous mettons en \u0153uvre des mesures de s\xe9curit\xe9 techniques et organisationnelles pour prot\xe9ger vos informations contre tout acc\xe8s non autoris\xe9."}),(0,yn.jsx)("h3",{className:"text-lg font-semibold",children:"Vos droits"}),(0,yn.jsx)("p",{children:"Conform\xe9ment au RGPD, vous disposez des droits suivants :"}),(0,yn.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,yn.jsx)("li",{children:"Droit d'acc\xe8s \xe0 vos donn\xe9es"}),(0,yn.jsx)("li",{children:"Droit de rectification"}),(0,yn.jsx)("li",{children:"Droit \xe0 l'effacement (\"droit \xe0 l'oubli\")"}),(0,yn.jsx)("li",{children:"Droit \xe0 la limitation du traitement"}),(0,yn.jsx)("li",{children:"Droit \xe0 la portabilit\xe9 des donn\xe9es"}),(0,yn.jsx)("li",{children:"Droit d'opposition"})]}),(0,yn.jsx)("p",{children:"Pour exercer ces droits, contactez-nous \xe0 privacy@ikigai-app.com."})]})},support:{title:"Support",content:(0,yn.jsxs)("div",{className:"space-y-4",children:[(0,yn.jsx)("h3",{className:"text-lg font-semibold",children:"Comment nous contacter"}),(0,yn.jsx)("p",{children:"Notre \xe9quipe de support est disponible pour vous aider du lundi au vendredi, de 9h \xe0 18h (CET)."}),(0,yn.jsx)("h3",{className:"text-lg font-semibold",children:"Par email"}),(0,yn.jsxs)("p",{children:["Pour toute question ou assistance : support@ikigai-app.com",(0,yn.jsx)("br",{}),"Temps de r\xe9ponse habituel : 24-48 heures ouvr\xe9es"]}),(0,yn.jsx)("h3",{className:"text-lg font-semibold",children:"Par t\xe9l\xe9phone"}),(0,yn.jsxs)("p",{children:["Assistance t\xe9l\xe9phonique : +33 .....",(0,yn.jsx)("br",{}),"Disponible du lundi au vendredi, 9h-18h (CET)"]}),(0,yn.jsx)("h3",{className:"text-lg font-semibold",children:"FAQ"}),(0,yn.jsxs)("p",{children:["Consultez notre ",(0,yn.jsx)("a",{href:"/faq",className:"text-blue-600 hover:underline",children:"base de connaissances"})," pour trouver rapidement des r\xe9ponses aux questions fr\xe9quentes."]}),(0,yn.jsx)("h3",{className:"text-lg font-semibold",children:"Signaler un probl\xe8me"}),(0,yn.jsx)("p",{children:"Si vous rencontrez un bug ou un probl\xe8me technique, merci de nous fournir :"}),(0,yn.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,yn.jsx)("li",{children:"Une description d\xe9taill\xe9e du probl\xe8me"}),(0,yn.jsx)("li",{children:"Les \xe9tapes pour reproduire le probl\xe8me"}),(0,yn.jsx)("li",{children:"Le type d'appareil et de navigateur utilis\xe9s"}),(0,yn.jsx)("li",{children:"Des captures d'\xe9cran si possible"})]})]})}};return r[t]?(0,yn.jsx)(xn.P.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,yn.jsxs)(xn.P.div,{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl overflow-hidden",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1},children:[(0,yn.jsx)("div",{className:"bg-blue-50 p-5",children:(0,yn.jsx)("h2",{className:"text-xl font-bold text-blue-600",children:r[t].title})}),(0,yn.jsx)("div",{className:"p-5 max-h-[70vh] overflow-y-auto",children:r[t].content}),(0,yn.jsx)("div",{className:"p-5 bg-gray-50 text-right",children:(0,yn.jsx)("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Fermer"})})]})}):(0,yn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,yn.jsx)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl overflow-hidden",children:(0,yn.jsxs)("div",{className:"p-5",children:[(0,yn.jsx)("h2",{className:"text-xl font-bold text-red-600",children:"Page non trouv\xe9e"}),(0,yn.jsx)("p",{className:"mt-2",children:"La page demand\xe9e n'existe pas."}),(0,yn.jsx)("div",{className:"mt-4 text-right",children:(0,yn.jsx)("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Fermer"})})]})})})},Xn=t=>{let{onComplete:n,onCancel:r}=t;const[s,i]=(0,e.useState)(!1),[o,a]=(0,e.useState)(!1),[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(!1),[h,p]=(0,e.useState)(!1),[f,m]=(0,e.useState)(null),[g,v]=(0,e.useState)(null);(0,e.useEffect)((()=>{"true"===localStorage.getItem("isReconnecting")&&(i(!0),localStorage.removeItem("isReconnecting"))}),[]);const[y,b]=(0,e.useState)(""),[x,w]=(0,e.useState)(""),[E,S]=(0,e.useState)(""),[_,k]=(0,e.useState)(""),[j,C]=(0,e.useState)(""),[N,T]=(0,e.useState)(""),[A,P]=(0,e.useState)(""),[O,R]=(0,e.useState)(""),[I,M]=(0,e.useState)(!1),[D,L]=(0,e.useState)(null),[$,U]=(0,e.useState)(""),[z,B]=(0,e.useState)({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),F=e=>{if(!e||""===e.trim())return!1;const t=e.split("@");if(2!==t.length)return!1;if(!t[0]||""===t[0].trim())return!1;const n=t[1];if(!n||""===n.trim())return!1;const r=n.split(".");return!(r.length<2)&&(!(!r[0]||""===r[0].trim())&&(!(!r[r.length-1]||r[r.length-1].length<2)&&/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(e)))};return(0,yn.jsxs)(xn.P.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 signup-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,yn.jsxs)(xn.P.div,{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden signup-form-container",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1},children:[(0,yn.jsxs)("div",{className:"bg-blue-50 p-5",children:[(0,yn.jsx)("h2",{className:"text-2xl font-bold text-blue-600",children:s?"Connexion":"Inscription"}),(0,yn.jsx)("p",{className:"text-blue-500",children:s?"Connectez-vous pour acc\xe9der \xe0 votre parcours IKIGAI":"Cr\xe9ez votre compte pour commencer votre parcours IKIGAI"})]}),(0,yn.jsxs)("div",{className:"p-5",children:[(0,yn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),N&&""!==N.trim())if(F(N))if(!O||O.trim().length<6)L("Le mot de passe doit contenir au moins 6 caract\xe8res.");else{M(!0),L(null);try{if(s){console.log("Tentative de connexion pour:",N);const s=await vn.auth.signIn(N,O);if(!s.success)throw new Error(s.message||"Identifiants incorrects. Veuillez r\xe9essayer.");const{data:i}={data:{user:s.user},error:null},{data:o,error:a}=await Qt.from("user_progress").select("progress_data").eq("user_id",i.user.id).single();a&&"PGRST116"!==a.code&&console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es de progression:",a);let l=!1;if(null!==o&&void 0!==o&&o.progress_data)try{var t,r;const e="string"===typeof o.progress_data?JSON.parse(o.progress_data):o.progress_data;l=!(null===e||void 0===e||null===(t=e.moduleResponses)||void 0===t||null===(r=t.onboarding)||void 0===r||!r.completedAt)}catch(e){console.error("Erreur lors du parsing des donn\xe9es de progression:",e)}const{data:c,error:u}=await Qt.from("user_responses").select("*").eq("user_id",i.user.id).eq("module_id","onboarding").single();c&&!u&&(l=!0),console.log("Donn\xe9es onboarding r\xe9cup\xe9r\xe9es:",o),console.log("Donn\xe9es onboarding table user_responses:",c),console.log("\xc9tat onboarding:",l?"Compl\xe9t\xe9":"Non compl\xe9t\xe9"),localStorage.setItem("onboardingCompleted",l?"true":"false"),n()}else{console.log("Tentative d'inscription pour:",N);const e="Autre"===_?j:_,t=await vn.auth.signUp(N,O);if(!t.success)throw new Error(t.message||"L'inscription a \xe9chou\xe9. Veuillez r\xe9essayer.");U("F\xe9licitation votre inscription est r\xe9ussie ! \ud83c\udf89");try{const{error:n}=await Qt.auth.updateUser({data:{first_name:y,last_name:x,age:E,status:e}});if(E){const{error:e}=await Qt.from("profiles").upsert({user_id:t.user.id,age:parseInt(E)||null});e&&console.warn("Erreur lors de l'enregistrement de l'\xe2ge:",e)}n&&console.warn("Erreur lors de la mise \xe0 jour des m\xe9tadonn\xe9es utilisateur:",n)}catch(i){console.warn("Erreur lors de la mise \xe0 jour des m\xe9tadonn\xe9es:",i)}localStorage.setItem("onboardingCompleted","false"),n()}}catch(D){console.error(`Erreur lors de ${s?"la connexion":"l'inscription"}:`,D);const t=Xt(D);if(L(t),"object"===typeof D&&0===Object.keys(D).length)return console.error("Erreur d'authentification - objet vide retourn\xe9"),void L("Le service d'authentification est temporairement indisponible. Veuillez r\xe9essayer plus tard.")}finally{M(!1)}}else if(N.includes("@")){const e=N.split("@");2===e.length?e[1]&&""!==e[1].trim()?e[1].includes(".")?P("Format d'adresse email invalide. Exemple correct: utilisateur@domaine.fr"):P("L'adresse email doit contenir un nom de domaine avec une extension (exemple: .com, .fr)."):P('Veuillez saisir la partie manquante apr\xe8s le symbole "@". L\'adresse "'+N+'" est incompl\xe8te.'):P("Format d'adresse email invalide. Exemple correct: utilisateur@domaine.fr")}else P("Veuillez inclure le symbole @ dans votre adresse email.");else P("Veuillez saisir une adresse email.")},className:"space-y-4",children:[!s&&(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom"}),(0,yn.jsx)("input",{type:"text",id:"lastName",value:x,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pr\xe9nom"}),(0,yn.jsx)("input",{type:"text",id:"firstName",value:y,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,yn.jsxs)("div",{className:"relative",children:[(0,yn.jsx)("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 mb-1",children:"\xc2ge (optionnel)"}),(0,yn.jsxs)("div",{className:"relative",children:[(0,yn.jsx)("input",{type:"number",id:"age",min:"1",max:"120",value:E,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,yn.jsxs)("div",{className:"absolute right-3 top-2 cursor-help group",children:[(0,yn.jsx)("span",{className:"text-gray-400 text-lg",children:"?"}),(0,yn.jsxs)("div",{className:"absolute hidden group-hover:block right-0 w-64 p-2 bg-gray-800 text-white text-xs rounded shadow-lg z-10",children:["Fournir votre \xe2ge garantit que vous obtenez la bonne exp\xe9rience IKIGAI. Pour plus de d\xe9tails, consultez notre ",(0,yn.jsx)("a",{href:"/confidentialite",className:"text-blue-300 hover:underline",children:"Politique de confidentialit\xe9"})]})]})]})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut"}),(0,yn.jsxs)("select",{id:"status",value:_,onChange:e=>k(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,yn.jsx)("option",{value:"",children:"S\xe9lectionnez votre statut"}),(0,yn.jsx)("option",{value:"Cadre",children:"Cadre"}),(0,yn.jsx)("option",{value:"Manager",children:"Manager"}),(0,yn.jsx)("option",{value:"Salari\xe9",children:"Salari\xe9"}),(0,yn.jsx)("option",{value:"Freelance",children:"Freelance"}),(0,yn.jsx)("option",{value:"Autre",children:"Autre"})]})]}),"Autre"===_&&(0,yn.jsxs)("div",{children:[(0,yn.jsx)("label",{htmlFor:"otherStatus",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pr\xe9cisez votre statut"}),(0,yn.jsx)("input",{type:"text",id:"otherStatus",value:j,onChange:e=>C(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse email"}),(0,yn.jsx)("input",{type:"email",id:"email",value:N,onChange:e=>{const t=e.target.value;if(T(t),t&&""!==t.trim())if(F(t))P("");else if(t.includes("@")){const e=t.split("@");2===e.length?e[1]&&""!==e[1].trim()?e[1].includes(".")?P("Format d'adresse email invalide. Exemple correct: utilisateur@domaine.fr"):P("L'adresse email doit contenir un nom de domaine avec une extension (exemple: .com, .fr)."):P('Veuillez saisir la partie manquante apr\xe8s le symbole "@". L\'adresse "'+t+'" est incompl\xe8te.'):P("Format d'adresse email invalide. Exemple correct: utilisateur@domaine.fr")}else P("Veuillez inclure le symbole @ dans votre adresse email.");else P("")},className:`w-full px-3 py-2 border ${A?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0}),A&&(0,yn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:A})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),(0,yn.jsx)("input",{type:"password",id:"password",value:O,onChange:e=>{const t=e.target.value;R(t),B({length:t.length>=8,uppercase:/[A-Z]/.test(t),lowercase:/[a-z]/.test(t),number:/[0-9]/.test(t),special:/[^A-Za-z0-9]/.test(t)})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,minLength:"8"}),!s&&O.length>0&&(0,yn.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 rounded-md border border-gray-200",children:[(0,yn.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Votre mot de passe doit contenir :"}),(0,yn.jsxs)("ul",{className:"space-y-1 text-xs",children:[(0,yn.jsxs)("li",{className:"flex items-center "+(z.length?"text-green-600":"text-gray-500"),children:[(0,yn.jsx)("span",{className:"mr-1",children:z.length?"\u2713":"\u25cb"})," Au moins 8 caract\xe8res"]}),(0,yn.jsxs)("li",{className:"flex items-center "+(z.uppercase?"text-green-600":"text-gray-500"),children:[(0,yn.jsx)("span",{className:"mr-1",children:z.uppercase?"\u2713":"\u25cb"})," Au moins 1 lettre majuscule"]}),(0,yn.jsxs)("li",{className:"flex items-center "+(z.lowercase?"text-green-600":"text-gray-500"),children:[(0,yn.jsx)("span",{className:"mr-1",children:z.lowercase?"\u2713":"\u25cb"})," Au moins 1 lettre minuscule"]}),(0,yn.jsxs)("li",{className:"flex items-center "+(z.number?"text-green-600":"text-gray-500"),children:[(0,yn.jsx)("span",{className:"mr-1",children:z.number?"\u2713":"\u25cb"})," Au moins 1 chiffre"]}),(0,yn.jsxs)("li",{className:"flex items-center "+(z.special?"text-green-600":"text-gray-500"),children:[(0,yn.jsx)("span",{className:"mr-1",children:z.special?"\u2713":"\u25cb"})," Au moins 1 caract\xe8re sp\xe9cial"]})]})]})]}),$&&(0,yn.jsx)("div",{className:"p-3 bg-green-50 text-green-600 rounded-md font-medium",children:$}),D&&(0,yn.jsx)("div",{className:"p-3 bg-red-50 text-red-600 rounded-md",children:"string"===typeof D?D:D instanceof Error?D.message:"object"===typeof D?0===Object.keys(D).length||"{}"===JSON.stringify(D)?"Le service d'authentification est temporairement indisponible. Veuillez r\xe9essayer plus tard.":"Une erreur de connexion s'est produite. Veuillez v\xe9rifier vos identifiants et r\xe9essayer.":"Une erreur s'est produite. Veuillez r\xe9essayer."}),(0,yn.jsx)("button",{type:"submit",className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",disabled:I,children:I?s?"Connexion en cours...":"Inscription en cours...":s?"Se connecter":"S'inscrire"}),s&&(0,yn.jsx)("div",{className:"text-center mt-2",children:(0,yn.jsx)("button",{type:"button",className:"text-blue-600 hover:underline text-sm focus:outline-none",onClick:()=>a(!0),children:"Mot de passe oubli\xe9 ?"})})]}),(0,yn.jsx)("div",{className:"text-center mt-4",children:(0,yn.jsx)("button",{type:"button",className:"text-blue-600 hover:underline focus:outline-none",onClick:()=>i(!s),children:s?"Vous n'avez pas de compte ? Inscrivez-vous":"D\xe9j\xe0 inscrit ? Connectez-vous"})}),(0,yn.jsxs)("div",{className:"my-4 flex items-center",children:[(0,yn.jsx)("div",{className:"flex-grow border-t border-gray-300"}),(0,yn.jsx)("span",{className:"mx-4 text-gray-500 text-sm",children:"ou"}),(0,yn.jsx)("div",{className:"flex-grow border-t border-gray-300"})]}),(0,yn.jsxs)("button",{type:"button",onClick:async()=>{M(!0),L(null);try{s||localStorage.setItem("onboardingCompleted","false");const e=await vn.auth.signInWithGoogle();if(!e.success)throw new Error(e.message||"Erreur lors de la connexion avec Google")}catch(D){console.error("Erreur lors de la connexion avec Google:",D);const t=Xt(D);L(t)}finally{M(!1)}},className:"w-full py-2 px-4 bg-white border border-gray-300 rounded-md text-gray-700 font-medium flex items-center justify-center space-x-2 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",disabled:I,children:[(0,yn.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24px",height:"24px",children:[(0,yn.jsx)("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),(0,yn.jsx)("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),(0,yn.jsx)("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),(0,yn.jsx)("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),(0,yn.jsx)("span",{children:s?"Se connecter avec Google":"S'inscrire avec Google"})]}),(0,yn.jsx)("div",{className:"mt-4 text-center",children:(0,yn.jsx)("button",{type:"button",onClick:r,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Retour"})}),(0,yn.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,yn.jsxs)("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 text-xs text-gray-500",children:[(0,yn.jsx)("span",{children:"\xa9 2025 IKIGAI"}),(0,yn.jsx)("button",{onClick:()=>v("copyright"),className:"hover:text-blue-600 hover:underline",children:"Copyright"}),(0,yn.jsx)("button",{onClick:()=>v("legal"),className:"hover:text-blue-600 hover:underline",children:"Mentions l\xe9gales"}),(0,yn.jsx)("button",{onClick:()=>v("privacy"),className:"hover:text-blue-600 hover:underline",children:"Confidentialit\xe9"}),(0,yn.jsx)("button",{onClick:()=>v("support"),className:"hover:text-blue-600 hover:underline",children:"Support"})]})})]})]}),o&&(0,yn.jsx)(xn.P.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e=>e.target===e.currentTarget&&a(!1),children:(0,yn.jsxs)(xn.P.div,{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1},onClick:e=>e.stopPropagation(),children:[(0,yn.jsxs)("div",{className:"bg-blue-50 p-5",children:[(0,yn.jsx)("h2",{className:"text-xl font-bold text-blue-600",children:"Mot de passe oubli\xe9"}),(0,yn.jsx)("p",{className:"text-blue-500",children:"Saisissez votre adresse email pour recevoir un lien de r\xe9initialisation"})]}),(0,yn.jsxs)("div",{className:"p-5",children:[h?(0,yn.jsxs)("div",{className:"p-3 bg-green-50 text-green-600 rounded-md mb-4",children:["Un email de r\xe9initialisation a \xe9t\xe9 envoy\xe9 \xe0 ",l,". Veuillez v\xe9rifier votre bo\xeete de r\xe9ception."]}):(0,yn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0),m(null),p(!1);try{if(!F(l))throw new Error("Veuillez saisir une adresse email valide.");const e=await vn.auth.resetPassword(l);if(!e.success)throw new Error(e.message||"Erreur lors de l'envoi de l'email de r\xe9initialisation.");p(!0)}catch(D){console.error("Erreur lors de la r\xe9initialisation du mot de passe:",D),m(D.message||"Une erreur s'est produite lors de la r\xe9initialisation du mot de passe.")}finally{d(!1)}},className:"space-y-4",children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("label",{htmlFor:"forgotPasswordEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse email"}),(0,yn.jsx)("input",{type:"email",id:"forgotPasswordEmail",value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),f&&(0,yn.jsx)("div",{className:"p-3 bg-red-50 text-red-600 rounded-md",children:f}),(0,yn.jsx)("button",{type:"submit",className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",disabled:u,children:u?"Envoi en cours...":"Envoyer le lien de r\xe9initialisation"})]}),(0,yn.jsx)("div",{className:"mt-4 text-center",children:(0,yn.jsx)("button",{type:"button",onClick:()=>a(!1),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Retour"})})]})]})}),g&&(0,yn.jsx)(Qn,{page:g,onClose:()=>v(null)})]})},Zn=e=>{let{children:t,color:n="#4F46E5",onClick:r,className:s="",selected:i=!1,icon:o,title:a,subtitle:l}=e;const c=(e=>{const t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,n,r)=>t+t+n+n+r+r)),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:{r:79,g:70,b:229}})(n),u=`${c.r}, ${c.g}, ${c.b}`,d=`rgba(${u}, 0.1)`,h=`rgba(${u}, 0.2)`,p={"--card-color":n,"--card-color-light":d,"--card-color-gradient":`rgba(${u}, 0.15)`,"--r":c.r,"--g":c.g,"--b":c.b};return(0,yn.jsxs)(xn.P.div,{className:`onboarding-card ${s} ${i?"glass-effect":""}`,style:{...p,backgroundColor:i?d:"white",borderColor:i?n:"rgba(229, 231, 235, 0.8)",borderWidth:"2px",borderStyle:"solid",position:"relative",overflow:"hidden",boxShadow:i?`0 10px 20px ${h}, 0 3px 6px rgba(${u}, 0.1)`:"0 4px 10px rgba(0, 0, 0, 0.05)",padding:"1.5rem"},whileHover:{scale:1.01,y:-5,boxShadow:i?`0 15px 25px rgba(${u}, 0.3), 0 5px 10px rgba(${u}, 0.2)`:"0 15px 25px rgba(0, 0, 0, 0.06)"},whileTap:{scale:.98,boxShadow:`0 2px 5px rgba(${u}, 0.1)`},onClick:e=>{if(!r)return;const t=e.currentTarget.getBoundingClientRect(),n=e.clientX-t.left,s=e.clientY-t.top,o=document.createElement("span");o.style.position="absolute",o.style.width="1px",o.style.height="1px",o.style.borderRadius="50%",o.style.backgroundColor=`rgba(${u}, ${i?.4:.2})`,o.style.transform="scale(0)",o.style.left=`${n}px`,o.style.top=`${s}px`,o.style.pointerEvents="none",e.currentTarget.appendChild(o);o.animate([{transform:"scale(0)",opacity:.7},{transform:"scale(150)",opacity:0}],{duration:850,easing:"cubic-bezier(0.25, 1, 0.5, 1)"}).onfinish=()=>o.remove(),r(e)},transition:{type:"spring",stiffness:400,damping:17},initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}},children:[i&&(0,yn.jsx)(xn.P.div,{className:"absolute inset-0 pointer-events-none",animate:{opacity:[.05,.15,.05],background:`radial-gradient(circle at center, rgba(${u}, 0.2) 0%, transparent 70%)`},transition:{duration:4,repeat:1/0,repeatType:"mirror"}}),(0,yn.jsx)("div",{className:"decoration-circle decoration-circle-1",style:{background:`linear-gradient(135deg, rgba(${u}, 0.1), rgba(${u}, 0.05))`}}),(0,yn.jsx)("div",{className:"decoration-circle decoration-circle-2",style:{background:`linear-gradient(135deg, rgba(${u}, 0.1), rgba(${u}, 0.03))`}}),(a||o)&&(0,yn.jsxs)("div",{className:"mb-4",children:[o&&(0,yn.jsx)("div",{className:"mb-3",children:(0,yn.jsx)("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl text-2xl",style:{backgroundColor:`rgba(${u}, 0.1)`,color:n,boxShadow:`0 3px 8px rgba(${u}, 0.15)`},children:o})}),a&&(0,yn.jsx)(xn.P.h3,{className:"text-xl font-bold mb-1",style:{color:n},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1,duration:.3},children:a}),l&&(0,yn.jsx)(xn.P.p,{className:"text-gray-600",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2,duration:.3},children:l})]}),(0,yn.jsx)("div",{className:"relative z-10",children:t})]})},er=e=>{let{emoji:t,animation:n="pulse",size:r="md",className:s="",color:i="#4F46E5"}=e;const o={sm:"text-lg",md:"text-2xl",lg:"text-3xl",xl:"text-4xl"},a=(e=>{const t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,n,r)=>t+t+n+n+r+r)),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:{r:79,g:70,b:229}})(i),l=`0 4px 15px rgba(${a.r}, ${a.g}, ${a.b}, 0.2)`;return(0,yn.jsx)(xn.P.div,{className:`emoji-animated ${{pulse:"emoji-pulse",bounce:"emoji-bounce",rotate:"emoji-rotate",wave:"emoji-wave"}[n]||""} ${s}`,style:{backgroundColor:`rgba(${a.r}, ${a.g}, ${a.b}, 0.1)`,boxShadow:l,borderColor:`rgba(${a.r}, ${a.g}, ${a.b}, 0.3)`},whileHover:{y:-5,boxShadow:`0 8px 20px rgba(${a.r}, ${a.g}, ${a.b}, 0.3)`},initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:400,damping:10},children:(0,yn.jsx)("span",{className:o[r]||o.md,children:t})})},tr=e=>{let{children:t,color:n="#4F46E5",onClick:r,className:s="",icon:i,animation:o="scale",disabled:a=!1}=e;const l={scale:{whileHover:{scale:1.05,boxShadow:`0 6px 15px ${n}50`},whileTap:{scale:.95}},pulse:{whileHover:{scale:[1,1.05,1],boxShadow:[`0 4px 6px ${n}40`,`0 6px 15px ${n}50`,`0 4px 6px ${n}40`],transition:{repeat:1/0,duration:1.5,ease:"easeInOut"}}},bounce:{whileHover:{y:[0,-5,0],boxShadow:[`0 4px 6px ${n}40`,`0 8px 15px ${n}40`,`0 4px 6px ${n}40`],transition:{repeat:1/0,duration:1}}},shake:{whileHover:{x:[0,5,-5,5,0],transition:{repeat:1/0,duration:1}}}},c=l[o]||l.scale;return(0,yn.jsxs)(xn.P.button,{className:`px-5 py-2.5 rounded-full text-white font-medium relative overflow-hidden ${s}`,style:{background:a?"#9CA3AF":`linear-gradient(135deg, ${n}, ${(e=>{if(e.startsWith("#")){const t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16),s=Math.min(255,t+40),i=Math.min(255,n+20),o=Math.min(255,r+30);return`#${s.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}`}return e})(n)})`,boxShadow:a?"0 2px 5px rgba(0,0,0,0.1)":`0 4px 10px ${n}40`,cursor:a?"not-allowed":"pointer",opacity:a?.8:1},whileHover:a?{}:c.whileHover,whileTap:a?{}:c.whileTap||{scale:.95},onClick:a?void 0:r,disabled:a,children:[(0,yn.jsx)(xn.P.div,{className:"absolute inset-0 w-full h-full",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent)",transform:"translateX(-100%)"},animate:a?{}:{x:["100%","-100%"]},transition:{repeat:1/0,repeatDelay:3,duration:1.5,ease:"easeInOut"}}),(0,yn.jsxs)("div",{className:"flex items-center justify-center relative z-10",children:[i&&(0,yn.jsx)(xn.P.span,{className:"mr-2 text-xl",animate:a?{}:{scale:[1,1.2,1],rotate:"shake"===o?[-5,5,-5,0]:0},transition:{repeat:1/0,repeatDelay:2,duration:1},children:i}),t]})]})},nr=e=>{let{label:t,checked:n,onChange:r,color:s="#4F46E5",className:i=""}=e;const o=(e=>{const t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,n,r)=>t+t+n+n+r+r)),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:{r:79,g:70,b:229}})(s),a=`${o.r}, ${o.g}, ${o.b}`;return(0,yn.jsxs)(xn.P.div,{className:`modern-checkbox ${n?"modern-checkbox-checked":""} ${i}`,style:{"--checkbox-color":s,"--r":o.r,"--g":o.g,"--b":o.b},whileHover:{y:-2,boxShadow:n?`0 8px 15px rgba(${a}, 0.2)`:"0 8px 15px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.98},onClick:()=>r(!n),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:400,damping:17},children:[(0,yn.jsxs)(xn.P.div,{className:"w-6 h-6 flex items-center justify-center rounded-lg mr-3 relative overflow-hidden",style:{borderColor:n?s:"#d1d5db",backgroundColor:n?s:"white",borderWidth:"2px",borderStyle:"solid",boxShadow:n?`0 3px 10px rgba(${a}, 0.3)`:"0 2px 5px rgba(0, 0, 0, 0.05)"},animate:{scale:n?[1,1.2,1]:1,rotate:n?[0,10,0]:0,transition:{duration:.4,type:"spring"}},children:[(0,yn.jsx)(Mn.N,{children:n&&(0,yn.jsx)(xn.P.div,{className:"absolute inset-0 bg-white",initial:{opacity:.3,scale:0},animate:{opacity:0,scale:2},exit:{opacity:0},transition:{duration:.5}})}),(0,yn.jsx)(Mn.N,{children:n&&(0,yn.jsx)(xn.P.svg,{initial:{opacity:0,scale:0,rotate:-10},animate:{opacity:1,scale:1,rotate:0},exit:{opacity:0,scale:0,rotate:10},width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.2))"},children:(0,yn.jsx)(xn.P.path,{d:"M5 13L9 17L19 7",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.35,ease:"easeOut"}})})}),n&&(0,yn.jsx)(xn.P.div,{className:"absolute inset-0 rounded-md",animate:{boxShadow:[`0 0 0 0 rgba(${a}, 0.7)`,`0 0 0 8px rgba(${a}, 0)`]},transition:{duration:1.5,repeat:1/0,repeatDelay:.5}})]}),t&&(0,yn.jsx)(xn.P.span,{className:"font-medium",animate:{color:n?`rgba(${a}, 1)`:"#374151"},transition:{duration:.3},children:t})]})},rr=t=>{let{options:n,selectedValues:r,onChange:s,color:i="#4F46E5",multiSelect:o=!0,showOtherOption:a=!1}=t;const[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(!1),h=(e=>{const t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,n,r)=>t+t+n+n+r+r)),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:{r:79,g:70,b:229}})(i),p=`${h.r}, ${h.g}, ${h.b}`,f=a?[...n,{id:"other",label:"Autre",icon:"\u270f\ufe0f"}]:n;return(0,yn.jsxs)("div",{className:"card-selection-container grid grid-cols-2 gap-3 md:grid-cols-3",children:[f.map(((e,t)=>(0,yn.jsxs)(xn.P.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.1*t,type:"spring",stiffness:100},onClick:()=>(e=>{if("other"===e)return r.includes("other")?(d(!1),c(""),void s(r.filter((e=>"other"!==e)))):(d(!0),void(o?r.includes("other")||s([...r,"other"]):s(["other"])));o?r.includes(e)?s(r.filter((t=>t!==e))):s([...r,e]):s([e])})(e.id),className:"card-option p-3 rounded-xl cursor-pointer flex flex-col items-center justify-center text-center "+(r.includes(e.id)?"selected":""),style:{backgroundColor:r.includes(e.id)?`rgba(${p}, 0.1)`:"white",borderColor:r.includes(e.id)?i:"#e5e7eb",borderWidth:"2px",borderStyle:"solid",boxShadow:r.includes(e.id)?`0 4px 12px rgba(${p}, 0.2)`:"0 2px 5px rgba(0, 0, 0, 0.05)",minHeight:"100px"},whileHover:{y:-5,boxShadow:`0 8px 15px rgba(${p}, 0.15)`},whileTap:{scale:.98},children:[e.icon&&(0,yn.jsx)("span",{className:"text-2xl mb-2",children:e.icon}),(0,yn.jsx)("span",{className:"font-medium",children:e.label})]},e.id))),(0,yn.jsx)(Mn.N,{children:u&&(0,yn.jsx)(xn.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"col-span-2 md:col-span-3 mt-3",children:(0,yn.jsx)("input",{type:"text",value:l,onChange:e=>{if(c(e.target.value),o){const t=r.filter((e=>"other"!==e));""!==e.target.value.trim()?s([...t,"other"]):s(t)}else""!==e.target.value.trim()?s(["other"]):s([])},placeholder:"Pr\xe9cisez votre r\xe9ponse...",className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-opacity-50",style:{borderColor:i,boxShadow:`0 2px 5px rgba(${p}, 0.1)`,outline:"none"},autoFocus:!0})})})]})},sr=t=>{let{value:n,onChange:r,placeholder:s,suggestions:i=[],color:o="#4F46E5",maxLength:a=100,multiline:l=!1}=t;const[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(i),p=(e=>{const t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,n,r)=>t+t+n+n+r+r)),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:{r:79,g:70,b:229}})(o),f=`${p.r}, ${p.g}, ${p.b}`,m=e=>{const t=e.target.value;if(r(t),""!==t.trim()){const e=i.filter((e=>e.toLowerCase().includes(t.toLowerCase())));h(e),u(e.length>0)}else h(i),u(!1)},g=()=>{i.length>0&&""===n.trim()&&u(!0)};return(0,yn.jsxs)("div",{className:"text-with-suggestions-container",style:{position:"relative",minHeight:c&&d.length>0?"400px":"auto",marginBottom:"50px"},children:[(0,yn.jsx)("div",{className:"input-container",style:{position:"relative",zIndex:1},children:l?(0,yn.jsx)(xn.P.textarea,{className:"modern-textarea w-full p-3 rounded-lg border-2",style:{borderColor:o,boxShadow:`0 2px 10px rgba(${f}, 0.1)`},placeholder:s,value:n,onChange:m,onFocus:g,onBlur:()=>setTimeout((()=>u(!1)),200),maxLength:a,rows:3,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,type:"spring",stiffness:100},whileFocus:{boxShadow:`0 4px 15px rgba(${f}, 0.2)`,borderColor:o,borderWidth:"2px",y:-3}}):(0,yn.jsx)(xn.P.input,{type:"text",className:"modern-input w-full p-3 rounded-lg border-2",style:{borderColor:o,boxShadow:`0 2px 10px rgba(${f}, 0.1)`},placeholder:s,value:n,onChange:m,onFocus:g,onBlur:()=>setTimeout((()=>u(!1)),200),maxLength:a,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,type:"spring",stiffness:100},whileFocus:{boxShadow:`0 4px 15px rgba(${f}, 0.2)`,borderColor:o,borderWidth:"2px",y:-3}})}),(0,yn.jsx)("div",{className:"suggestions-container",style:{position:"absolute",width:"100%",top:l?"120px":"60px",left:0,zIndex:1e3},children:(0,yn.jsx)(Mn.N,{children:c&&d.length>0&&(0,yn.jsx)(xn.P.div,{className:"suggestions-list w-full bg-white rounded-lg shadow-lg border border-gray-200",style:{width:"100%",maxHeight:"300px",overflowY:"auto",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:d.map(((e,t)=>(0,yn.jsx)(xn.P.div,{className:"suggestion-item p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>(e=>{r(e),u(!1)})(e),whileHover:{backgroundColor:`rgba(${f}, 0.1)`},initial:{opacity:0,x:-5},animate:{opacity:1,x:0},transition:{delay:.05*t},children:e},t)))})})})]})},ir=t=>{let{options:n,selectedValues:r,onChange:s,color:i="#4F46E5",showImportanceSlider:o=!1}=t;const[a,l]=(0,e.useState)({}),c=(e=>{const t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,n,r)=>t+t+n+n+r+r)),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:{r:79,g:70,b:229}})(i),u=`${c.r}, ${c.g}, ${c.b}`;return(0,yn.jsxs)("div",{className:"tag-selection-container",children:[(0,yn.jsx)("div",{className:"tags-list flex flex-wrap gap-2 max-h-60 overflow-y-auto pb-2 pr-1",children:n.map(((e,t)=>(0,yn.jsxs)(xn.P.div,{className:"tag-item px-3 py-2 rounded-full cursor-pointer "+(r.includes(e.id)?"selected":""),style:{backgroundColor:r.includes(e.id)?`rgba(${u}, 0.1)`:"white",borderColor:r.includes(e.id)?i:"#e5e7eb",borderWidth:"2px",borderStyle:"solid",color:r.includes(e.id)?i:"#374151"},onClick:()=>(e=>{if(r.includes(e)){const t=r.filter((t=>t!==e));if(s(t),a[e]){const t={...a};delete t[e],l(t)}}else{const t=[...r,e];s(t),o&&l((t=>({...t,[e]:3})))}})(e.id),whileHover:{y:-2,boxShadow:`0 4px 8px rgba(${u}, 0.15)`},whileTap:{scale:.95},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.05*t},children:[e.icon&&(0,yn.jsx)("span",{className:"mr-1",children:e.icon}),e.label]},e.id)))}),o&&r.length>0&&(0,yn.jsxs)(xn.P.div,{className:"importance-ratings mt-4 space-y-4",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[(0,yn.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Niveau d'importance :"}),r.map((e=>{const t=n.find((t=>t.id===e));return t?(0,yn.jsxs)("div",{className:"rating-container mb-4 bg-white rounded-lg p-4 shadow-sm border border-gray-100",children:[(0,yn.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,yn.jsx)("span",{className:"text-sm font-medium",children:t.label}),(0,yn.jsxs)(xn.P.span,{className:"text-sm font-bold px-2 py-1 rounded-md",style:{backgroundColor:`${i}15`,color:i},animate:{scale:[1,1.05,1],backgroundColor:`${i}${5*(a[e]||3)+10}`},transition:{duration:1,repeat:1/0,repeatType:"mirror"},children:[a[e]||3,"/5"]})]}),(0,yn.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,yn.jsx)("div",{className:"flex justify-center space-x-3",children:[1,2,3,4,5].map((t=>(0,yn.jsx)(xn.P.button,{type:"button",className:"focus:outline-none relative",onClick:()=>((e,t)=>{l((n=>({...n,[e]:t})))})(e,t),whileHover:{scale:1.2,y:-2},whileTap:{scale:.95},animate:{rotate:t===(a[e]||3)?[0,5,-5,0]:0,scale:t<=(a[e]||3)?[1,1.1,1]:1},transition:{duration:.5,repeat:t===(a[e]||3)?1/0:0,repeatType:"mirror",repeatDelay:1},children:(0,yn.jsx)("span",{className:"text-2xl",style:{color:t<=(a[e]||3)?i:"#e5e7eb",filter:t<=(a[e]||3)?`drop-shadow(0 0 2px ${i}40)`:"none"},children:t<=(a[e]||3)?"\u2605":"\u2606"})},t)))}),(0,yn.jsxs)(xn.P.div,{className:"text-sm text-center font-medium rounded-full py-1 mt-1",style:{backgroundColor:`${i}10`,color:i},animate:{backgroundColor:`${i}${3*(a[e]||3)+10}`},children:[1===(a[e]||3)&&"Peu important",2===(a[e]||3)&&"Assez important",3===(a[e]||3)&&"Important",4===(a[e]||3)&&"Tr\xe8s important",5===(a[e]||3)&&"Essentiel"]})]})]},e):null}))]})]})},or=t=>{let{onComplete:n,onCancel:r}=t;const[s,i]=(0,e.useState)(0),[o,a]=(0,e.useState)(0),[l,c]=(0,e.useState)({}),u=e.useMemo((()=>[{id:"passion",title:"Ce que Vous Aimez (Passion)",color:"#FF5252",icon:"\u2764\ufe0f",questions:[{id:"passion_q1",title:"Qu'est-ce qui vous rend vraiment heureux(se) ?",subtitle:"Pensez aux activit\xe9s qui vous font perdre la notion du temps.",type:"card_selection",multiSelect:!0,showOtherOption:!0,options:[{id:"p1_o1",label:"Cr\xe9er",icon:"\ud83c\udfa8"},{id:"p1_o2",label:"Apprendre",icon:"\ud83d\udcda"},{id:"p1_o3",label:"Voyager",icon:"\u2708\ufe0f"},{id:"p1_o4",label:"Socialiser",icon:"\ud83d\udc65"},{id:"p1_o5",label:"Sport",icon:"\ud83c\udfc3"},{id:"p1_o6",label:"Nature",icon:"\ud83c\udf3f"}]},{id:"passion_q2",title:"Quels sont les sujets qui vous passionnent ?",subtitle:"Sur quels sujets pourriez-vous parler pendant des heures ?",type:"text_with_suggestions",placeholder:"Ex: voyage, science, musique...",maxLength:100,suggestions:["Voyage","Science","Musique","Art","Technologie","Cuisine","Litt\xe9rature","Cin\xe9ma","Sport","Psychologie"]},{id:"passion_q3",title:"Quelles activit\xe9s vous donnent de l'\xe9nergie ?",subtitle:"Apr\xe8s lesquelles vous sentez-vous revitalis\xe9(e) ?",type:"tag_selection",showImportanceSlider:!0,options:[{id:"p3_o1",label:"Activit\xe9s cr\xe9atives",icon:"\ud83c\udfad"},{id:"p3_o2",label:"Activit\xe9s sociales",icon:"\ud83d\udde3\ufe0f"},{id:"p3_o3",label:"Activit\xe9s physiques",icon:"\ud83c\udfcb\ufe0f"},{id:"p3_o4",label:"Apprentissage",icon:"\ud83e\udde0"},{id:"p3_o5",label:"M\xe9ditation",icon:"\ud83e\uddd8"},{id:"p3_o6",label:"Temps en nature",icon:"\ud83c\udf33"},{id:"p3_o7",label:"Jeux",icon:"\ud83c\udfae"}]}]},{id:"mission",title:"Ce dont le Monde a Besoin",color:"#4CAF50",icon:"\ud83c\udf0d",questions:[{id:"mission_q1",title:"Quels probl\xe8mes dans le monde vous touchent particuli\xe8rement ?",subtitle:"Quelles causes vous tiennent \xe0 c\u0153ur ?",type:"card_selection",multiSelect:!0,options:[{id:"m1_o1",label:"Environnement",icon:"\ud83c\udf31"},{id:"m1_o2",label:"\xc9ducation",icon:"\ud83d\udcdd"},{id:"m1_o3",label:"Sant\xe9",icon:"\ud83c\udfe5"},{id:"m1_o4",label:"In\xe9galit\xe9s",icon:"\u2696\ufe0f"},{id:"m1_o5",label:"Technologie",icon:"\ud83d\udcbb"},{id:"m1_o6",label:"Bien-\xeatre",icon:"\ud83e\udde0"}]},{id:"mission_q2",title:"Comment aimeriez-vous contribuer au bien commun ?",subtitle:"De quelle mani\xe8re souhaiteriez-vous avoir un impact positif ?",type:"text",placeholder:"Ex: aider les autres, cr\xe9er quelque chose d'utile..."},{id:"mission_q3",title:"Quels changements souhaiteriez-vous voir dans la soci\xe9t\xe9 ?",subtitle:"Qu'est-ce qui vous semble important d'am\xe9liorer ?",type:"tag_selection",options:[{id:"m3_o1",label:"Justice sociale",icon:"\u2696\ufe0f"},{id:"m3_o2",label:"Protection environnementale",icon:"\ud83c\udf0d"},{id:"m3_o3",label:"\xc9ducation pour tous",icon:"\ud83d\udcda"},{id:"m3_o4",label:"Soci\xe9t\xe9 bienveillante",icon:"\u2764\ufe0f"},{id:"m3_o5",label:"Innovation",icon:"\ud83d\udca1"}]}]},{id:"vocation",title:"Ce en Quoi Vous Excellez",color:"#448AFF",icon:"\u2728",questions:[{id:"vocation_q1",title:"Quelles sont vos comp\xe9tences naturelles ?",subtitle:"Dans quels domaines \xeates-vous naturellement dou\xe9(e) ?",type:"card_selection",multiSelect:!0,showOtherOption:!0,options:[{id:"v1_o1",label:"Organisation",icon:"\ud83d\udccb"},{id:"v1_o2",label:"Cr\xe9ativit\xe9",icon:"\ud83c\udfa8"},{id:"v1_o3",label:"Communication",icon:"\ud83d\udde3\ufe0f"},{id:"v1_o4",label:"Analyse",icon:"\ud83d\udd0d"},{id:"v1_o5",label:"Leadership",icon:"\ud83d\udc51"},{id:"v1_o6",label:"Empathie",icon:"\ud83e\udd1d"}]},{id:"vocation_q2",title:"Quels compliments recevez-vous souvent ?",subtitle:"Que remarquent les autres chez vous ?",type:"text_with_suggestions",placeholder:"Ex: patience, intelligence, gentillesse...",maxLength:100,suggestions:["Patient(e)","Intelligent(e)","Cr\xe9atif(ve)","Organis\xe9(e)","Empathique","Fiable","Dynamique","Pers\xe9v\xe9rant(e)"]},{id:"vocation_q3",title:"Dans quels domaines vous sentez-vous confiant(e) ?",subtitle:"O\xf9 vous sentez-vous dans votre \xe9l\xe9ment ?",type:"tag_selection",options:[{id:"v3_o1",label:"Communication",icon:"\ud83d\udcac"},{id:"v3_o2",label:"R\xe9solution de probl\xe8mes",icon:"\ud83e\udde9"},{id:"v3_o3",label:"Expression cr\xe9ative",icon:"\ud83c\udfad"},{id:"v3_o4",label:"Organisation",icon:"\ud83d\udcca"},{id:"v3_o5",label:"Enseignement",icon:"\ud83d\udc68\u200d\ud83c\udfeb"}]}]},{id:"profession",title:"Ce pour Quoi On Peut Vous Payer",color:"#FFC107",icon:"\ud83d\udcb0",questions:[{id:"profession_q1",title:"Quelles comp\xe9tences pourriez-vous mon\xe9tiser ?",subtitle:"Pour lesquelles seriez-vous pr\xeat(e) \xe0 \xeatre r\xe9mun\xe9r\xe9(e) ?",type:"card_selection",multiSelect:!0,options:[{id:"pro1_o1",label:"Expertise technique",icon:"\ud83d\udcbb"},{id:"pro1_o2",label:"Talents artistiques",icon:"\ud83c\udfa8"},{id:"pro1_o3",label:"Gestion de projet",icon:"\ud83d\udcca"},{id:"pro1_o4",label:"Communication",icon:"\ud83d\udde3\ufe0f"},{id:"pro1_o5",label:"Enseignement",icon:"\ud83d\udc68\u200d\ud83c\udfeb"},{id:"pro1_o6",label:"Conseil",icon:"\ud83d\udcbc"}]},{id:"profession_q2",title:"Quels services pourriez-vous offrir qui ont de la valeur ?",subtitle:"Comment pourriez-vous cr\xe9er de la valeur pour les autres ?",type:"text_with_suggestions",placeholder:"Ex: conseil, formation, cr\xe9ation...",maxLength:100,suggestions:["Conseil","Formation","Cr\xe9ation","D\xe9veloppement","Coaching","Analyse","Gestion","Marketing"]},{id:"profession_q3",title:"Dans quels domaines professionnels vous verriez-vous ?",subtitle:"O\xf9 pourriez-vous apporter votre contribution ?",type:"tag_selection",showImportanceSlider:!0,options:[{id:"pro3_o1",label:"Sant\xe9 et bien-\xeatre",icon:"\ud83e\uddd8"},{id:"pro3_o2",label:"\xc9ducation et formation",icon:"\ud83c\udf93"},{id:"pro3_o3",label:"Technologie et innovation",icon:"\ud83d\udcbb"},{id:"pro3_o4",label:"Art et culture",icon:"\ud83c\udfad"},{id:"pro3_o5",label:"Commerce et marketing",icon:"\ud83d\udcc8"}]}]}]),[]),d=(0,e.useRef)(null),[h,p]=(0,e.useState)(!1),[f,m]=(0,e.useState)(!1),[g,v]=(0,e.useState)(null),[y,b]=(0,e.useState)(0),[x,w]=(0,e.useState)("next");(0,e.useEffect)((()=>{const e=u.reduce(((e,t)=>e+t.questions.length),0);let t=0;for(let r=0;r<s;r++)t+=u[r].questions.length;t+=o;const n=Math.min(100,t/e*100);b(n)}),[s,o,u]);const E=()=>{var e;return(null===(e=u[s])||void 0===e?void 0:e.questions[o])||null},S=(e,t)=>{c((n=>({...n,[e]:t})))},_=async()=>{const e=E();if(!l[e.id]||Array.isArray(l[e.id])&&0===l[e.id].length||"string"===typeof l[e.id]&&""===l[e.id].trim())return v("Veuillez r\xe9pondre \xe0 la question avant de continuer."),void setTimeout((()=>v(null)),3e3);v(null),w("next"),o<u[s].questions.length-1?a((e=>e+1)):s<u.length-1?(i((e=>e+1)),a(0)):j()},k=()=>{w("prev"),o>0?a((e=>e-1)):s>0&&(i((e=>e-1)),a(u[s-1].questions.length-1))},j=async()=>{p(!0),m(!0);try{const{data:{user:t}}=await Qt.auth.getUser();if(!t)throw new Error("Utilisateur non authentifi\xe9");const r={user_id:t.id,responses:l,updated_at:(new Date).toISOString()};let s=null;try{const{error:e}=await Qt.from("onboarding_responses").upsert([r],{onConflict:"user_id"});s=e}catch(e){console.warn("Erreur avec la table onboarding_responses:",e),s=e}if(s){console.warn("Tentative avec la table user_responses...");const{error:e}=await Qt.from("user_responses").upsert([{user_id:t.id,module_id:"onboarding",responses:l,created_at:(new Date).toISOString()}],{onConflict:"user_id,module_id"});if(e)throw e}await Qt.from("user_progress").upsert([{user_id:t.id,onboarding_completed:!0,onboarding_completed_at:(new Date).toISOString()}],{onConflict:"user_id"}),n&&n(l)}catch(g){console.error("Erreur lors de la soumission des r\xe9ponses:",g),v("Une erreur est survenue lors de la sauvegarde. Veuillez r\xe9essayer."),setTimeout((()=>v(null)),5e3)}finally{p(!1),m(!1)}},C=e=>{switch(e){case"text":return"\u270f\ufe0f";case"checkbox":return"\u2611\ufe0f";case"scale":return"\ud83d\udcca";default:return"\u2753"}},N=e=>{const t=e.replace("#","");return{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16)}},T=(e,t)=>{try{const n=e.replace("#","");let r=parseInt(n.substring(0,2),16),s=parseInt(n.substring(2,4),16),i=parseInt(n.substring(4,6),16);r=Math.min(255,Math.max(0,r+t)),s=Math.min(255,Math.max(0,s+t)),i=Math.min(255,Math.max(0,i+t));return`#${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`}catch(n){return console.warn("Error lightening color:",n),e}};return(0,yn.jsx)("div",{className:"gradient-container min-h-screen flex items-center justify-center p-4 sm:py-8 sm:px-6 md:p-10",children:(0,yn.jsxs)(xn.P.div,{className:"onboarding-journey-container max-w-3xl w-full p-4 sm:p-6 md:p-7 mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,yn.jsx)("div",{className:"decoration-circle decoration-circle-1"}),(0,yn.jsx)("div",{className:"decoration-circle decoration-circle-2"}),(0,yn.jsx)(xn.P.button,{onClick:r,className:"absolute top-6 right-6 bg-white rounded-full p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 transition-all shadow-md z-50",disabled:h||f,whileHover:{scale:1.1,rotate:5},whileTap:{scale:.95},initial:{opacity:0,scale:.5,rotate:-10},animate:{opacity:1,scale:1,rotate:0},transition:{type:"spring",stiffness:500,damping:20},children:(0,yn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(()=>{const e=u[s];return e?(0,yn.jsxs)(xn.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100},className:"session-header bg-white rounded-xl shadow-md overflow-hidden mb-6",style:{"--color-start":e.color,"--color-end":T(e.color,20),"--indicator-color":e.color},children:[(0,yn.jsx)("div",{className:"h-2 w-full",style:{background:`linear-gradient(to right, ${e.color}, ${T(e.color,30)})`}}),(0,yn.jsxs)("div",{className:"p-4",children:[(0,yn.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,yn.jsx)("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-full shadow-sm",style:{backgroundColor:`${e.color}20`,border:`2px solid ${e.color}30`},children:(0,yn.jsx)(er,{emoji:e.icon,size:"lg",animation:"bounce",color:e.color})}),(0,yn.jsxs)("div",{className:"flex-1",children:[(0,yn.jsx)(xn.P.h2,{className:"session-title text-xl font-bold",animate:{color:e.color},transition:{duration:.5},children:e.title}),(0,yn.jsx)("div",{className:"text-sm mt-1",children:(0,yn.jsxs)("span",{className:"font-medium",style:{color:e.color},children:[Math.round(y),"% compl\xe9t\xe9"]})})]})]}),(0,yn.jsx)("div",{className:"session-indicators flex gap-2 mb-4",children:u.map(((e,t)=>(0,yn.jsx)(xn.P.div,{className:"session-indicator rounded-full "+(t===s?"session-indicator-active":""),style:{"--indicator-color":e.color,height:"6px",flex:1,backgroundColor:t<=s?e.color:"#e5e7eb"},animate:{opacity:t===s?1:.6,scale:t===s?[1,1.05,1]:1},transition:{repeat:t===s?1/0:0,repeatType:"mirror",duration:2}},t)))})]})]}):null})(),(()=>{var e,t,n,r;const i=u[s];if(!i)return null;const a=i.color||"#3B82F6";return(0,yn.jsxs)(xn.P.div,{className:"flex flex-col sm:flex-row sm:justify-between items-center bg-white rounded-lg p-3 mb-4 shadow-sm border border-gray-100",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[(0,yn.jsxs)("div",{className:"flex items-center mb-2 sm:mb-0",children:[(0,yn.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:`${a}20`},children:(0,yn.jsx)("span",{className:"text-sm font-bold",style:{color:a},children:o+1})}),(0,yn.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:["Question ",o+1," sur ",null===(e=u[s])||void 0===e?void 0:e.questions.length]})]}),(0,yn.jsx)(xn.P.span,{className:"text-sm font-medium px-3 py-1 rounded-full",style:{color:a,backgroundColor:`${a}15`},animate:{scale:[1,1.05,1],opacity:[.8,1,.8]},transition:{repeat:1/0,duration:2},children:o===(null===(t=u[s])||void 0===t?void 0:t.questions.length)-1?"Derni\xe8re question":`${(null===(n=u[s])||void 0===n?void 0:n.questions.length)-o-1} restante${(null===(r=u[s])||void 0===r?void 0:r.questions.length)-o-1>1?"s":""}`})]})})(),(0,yn.jsx)("div",{ref:d,className:"questions-display-area relative overflow-hidden",style:{minHeight:"350px"},children:(()=>{const e=E();if(!e)return null;const t=u[s],n=(null===t||void 0===t?void 0:t.color)||"#3B82F6";return(0,yn.jsx)(Mn.N,{mode:"wait",initial:!1,children:(0,yn.jsxs)(xn.P.div,{initial:{x:"next"===x?100:-100,opacity:0},animate:{x:0,opacity:1},exit:{x:"next"===x?-100:100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"question-container py-4",children:[(0,yn.jsx)(Zn,{color:n,icon:C(e.type),title:e.title,subtitle:e.subtitle,children:(0,yn.jsxs)("div",{className:"mt-6",children:["text"===e.type&&(0,yn.jsx)("div",{className:"text-input-container",children:(0,yn.jsx)(xn.P.textarea,{className:"modern-textarea",style:{borderColor:n,boxShadow:`0 2px 10px rgba(${N(n).r}, ${N(n).g}, ${N(n).b}, 0.1)`},placeholder:e.placeholder,value:l[e.id]||"",onChange:t=>S(e.id,t.target.value),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,type:"spring",stiffness:100},whileFocus:{boxShadow:`0 4px 15px rgba(${N(n).r}, ${N(n).g}, ${N(n).b}, 0.2)`,borderColor:n,borderWidth:"2px",y:-3}})}),"checkbox"===e.type&&(0,yn.jsx)("div",{className:"checkbox-container",children:e.options.map(((t,r)=>{var s;return(0,yn.jsx)(xn.P.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.1*r,type:"spring",stiffness:100},children:(0,yn.jsx)(nr,{id:t.id,label:t.label,color:n,checked:(null===(s=l[e.id])||void 0===s?void 0:s.includes(t.id))||!1,onChange:n=>{const r=l[e.id]||[];S(e.id,n?[...r,t.id]:r.filter((e=>e!==t.id)))}},t.id)},t.id)}))}),"card_selection"===e.type&&(0,yn.jsx)(rr,{options:e.options,selectedValues:l[e.id]||[],onChange:t=>S(e.id,t),color:n,multiSelect:!1!==e.multiSelect,showOtherOption:!0===e.showOtherOption}),"text_with_suggestions"===e.type&&(0,yn.jsx)(sr,{value:l[e.id]||"",onChange:t=>S(e.id,t),placeholder:e.placeholder,suggestions:e.suggestions||[],color:n,maxLength:e.maxLength||100,multiline:!0===e.multiline}),"tag_selection"===e.type&&(0,yn.jsx)(ir,{options:e.options,selectedValues:l[e.id]||[],onChange:t=>S(e.id,t),color:n,showImportanceSlider:!0===e.showImportanceSlider})]})}),g&&(0,yn.jsx)(xn.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},transition:{type:"spring",stiffness:500,damping:20},className:"bg-red-50 p-3 mt-4 rounded-xl border border-red-200",children:(0,yn.jsx)("p",{className:"text-red-500 text-center font-medium",children:g})})]},`${s}-${o}`)})})()}),(()=>{var e,t;const n=s===u.length-1&&o===(null===(e=u[s])||void 0===e?void 0:e.questions.length)-1,r=(null===(t=u[s])||void 0===t?void 0:t.color)||"#3B82F6",i=T(r,30);return(0,yn.jsxs)(xn.P.div,{className:"navigation-buttons mt-8 flex justify-between",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[(0,yn.jsx)(tr,{color:"#6B7280",animation:"scale",onClick:k,className:"nav-button nav-button-secondary px-4 py-2 sm:px-5 sm:py-2.5 text-sm sm:text-base",disabled:0===s&&0===o||f,icon:"\u2190",children:"Pr\xe9c\xe9dent"}),(0,yn.jsx)(tr,{color:n?"#10B981":r,animation:n?"pulse":"scale",onClick:_,className:"nav-button nav-button-primary px-4 py-2 sm:px-5 sm:py-2.5 text-sm sm:text-base",style:{"--color-start":n?"#10B981":r,"--color-end":n?"#0E9F6E":i},disabled:h||f,loading:h,icon:n?"\u2713":"\u2192",children:n?"Terminer":"Suivant"})]})})(),(0,yn.jsx)("div",{className:"mt-6 text-center text-gray-400 text-xs",children:(0,yn.jsxs)(xn.P.div,{className:"inline-flex items-center space-x-1 opacity-70",whileHover:{opacity:1},children:[(0,yn.jsx)("span",{children:"IKIGAI"}),(0,yn.jsx)("span",{children:"\xb7"}),(0,yn.jsx)("span",{children:"Trouvez votre \xe9quilibre"})]})})]})})},ar=t=>{let{responses:n,onAnalysisComplete:r}=t;const[s,i]=(0,e.useState)(0),[o,a]=(0,e.useState)(0),[l,c]=(0,e.useState)(null),[u,d]=(0,e.useState)(!1),h=[{text:"Traitement des r\xe9ponses...",icon:"\ud83d\udd0d"},{text:"Analyse de vos objectifs et pr\xe9f\xe9rences...",icon:"\ud83c\udfaf"},{text:"Identification de vos forces et points d'int\xe9r\xeat...",icon:"\ud83d\udcaa"},{text:"\xc9laboration de recommandations personnalis\xe9es...",icon:"\ud83c\udf31"},{text:"Finalisation de votre profil...",icon:"\u2728"}];(0,e.useEffect)((()=>{const e=setInterval((()=>{i((t=>{let n=1;t>80&&(n=2),t>90&&(n=3);const r=t+n;return r>=20&&r<40&&1!==o?a(1):r>=40&&r<65&&2!==o?a(2):r>=65&&r<85&&3!==o?(a(3),d(!0)):r>=85&&4!==o&&a(4),r>=100&&(clearInterval(e),console.log("Animation de progression termin\xe9e \xe0 100%")),r>100?100:r}))}),60),t=setTimeout((()=>{i(100),console.log("Timeout de s\xe9curit\xe9: progression forc\xe9e \xe0 100%")}),2e4);return()=>{clearInterval(e),clearTimeout(t)}}),[o]),(0,e.useEffect)((()=>{(async()=>{try{console.log("D\xe9marrage de l'analyse des r\xe9ponses d'onboarding:",n),await vn.progress.saveModuleResponses("onboarding",n);try{const{data:e}=await vn.auth.getCurrentUser();e&&e.user?(console.log("Utilisateur identifi\xe9 pour l'analyse:",e.user.id),await vn.ai.analyzeUserResponses(e.user.id)):console.log("Pas d'utilisateur identifi\xe9 pour l'analyse")}catch(e){console.warn("Erreur lors de la r\xe9cup\xe9ration de l'utilisateur:",e)}let t;const i=()=>(console.log("V\xe9rification de la progression:",s),s>=100&&(console.log("Progression \xe0 100%, finalisation de l'analyse"),t&&clearInterval(t),setTimeout((()=>{console.log("Appel du callback de compl\xe9tion"),r?r(n):console.error("Le callback onAnalysisComplete n'est pas d\xe9fini")}),1200),!0));i()||(t=setInterval(i,500),setTimeout((()=>{t&&(clearInterval(t),console.log("Timeout de s\xe9curit\xe9 atteint, finalisation de l'analyse"),r&&r(n))}),15e3))}catch(t){console.error("Erreur lors de l'analyse des r\xe9ponses:",t),c("Une erreur est survenue lors de l'analyse. Veuillez r\xe9essayer."),setTimeout((()=>{r&&r(n)}),3e3)}})()}),[n]);const p=()=>{const e=Array.from({length:20},((e,t)=>t)),t=["\u2728","\ud83d\udcab","\u2b50","\ud83c\udf08","\ud83d\udd2e","\ud83d\udcad","\ud83c\udf31","\ud83c\udf3a","\ud83c\udf40","\ud83e\udd8b"];return(0,yn.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.map((e=>{const n=100*Math.random(),r=100*Math.random(),s=5+10*Math.random(),i=5*Math.random(),o=t[Math.floor(Math.random()*t.length)],a=.5+Math.random();return(0,yn.jsx)(xn.P.div,{className:"absolute text-xl opacity-50",initial:{x:`${n}%`,y:`${r}%`,opacity:0,scale:0},animate:{x:[`${n}%`,`${n+(20*Math.random()-10)}%`],y:[`${r}%`,r-20+"%"],opacity:[0,.3,0],scale:[0,a,0]},transition:{duration:s,delay:i,repeat:1/0,repeatType:"loop"},children:o},e)}))})};return(0,yn.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center bg-gradient-to-b from-white to-blue-50 z-50",children:[u&&(0,yn.jsx)(p,{}),(0,yn.jsxs)(xn.P.div,{className:"max-w-md w-full p-6 rounded-3xl bg-white shadow-xl relative overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0,boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.1)"},transition:{duration:.5},children:[(0,yn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-green-50 via-blue-50 to-purple-50 opacity-50"}),(0,yn.jsxs)("div",{className:"text-center mb-8 relative z-10",children:[(0,yn.jsx)(xn.P.div,{className:"inline-block",animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:(0,yn.jsxs)(xn.P.div,{className:"flex items-center justify-center bg-gradient-to-br from-purple-500 to-blue-500 rounded-full w-20 h-20 mx-auto mb-6 text-white relative overflow-hidden",animate:{boxShadow:["0px 0px 20px rgba(103, 232, 249, 0.3)","0px 0px 30px rgba(103, 232, 249, 0.6)","0px 0px 20px rgba(103, 232, 249, 0.3)"]},transition:{duration:2,repeat:1/0},children:[(0,yn.jsx)(xn.P.div,{className:"absolute inset-0 opacity-30 bg-white rounded-full",animate:{scale:[1,1.5,1],opacity:[.1,.3,.1]},transition:{duration:3,repeat:1/0,repeatType:"reverse"}}),(0,yn.jsx)(xn.P.span,{className:"text-3xl relative z-10",animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{rotate:{duration:10,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,repeatType:"reverse"}},children:"\ud83e\udde0"})]})}),(0,yn.jsx)(xn.P.h2,{className:"text-2xl font-bold mb-3 bg-clip-text text-transparent bg-gradient-to-r from-purple-500 to-blue-500",animate:{scale:[1,1.03,1],opacity:[.9,1,.9]},transition:{duration:3,repeat:1/0},children:"Analyse en cours"}),(0,yn.jsx)(xn.P.p,{className:"text-gray-600 mb-6 max-w-sm mx-auto",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:"Notre IA analyse vos r\xe9ponses pour cr\xe9er votre exp\xe9rience IKIGAI personnalis\xe9e"}),(0,yn.jsxs)(xn.P.div,{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-5 rounded-2xl mb-6 text-left shadow-sm",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.5},children:[(0,yn.jsxs)("h3",{className:"font-medium text-blue-700 mb-2 flex items-center",children:[(0,yn.jsx)(xn.P.span,{className:"mr-2 text-xl inline-block",animate:{rotate:[0,10,-10,0],scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,repeatType:"loop"},children:"\u2728"}),"Cr\xe9ation de votre parcours personnalis\xe9"]}),(0,yn.jsx)("p",{className:"text-sm text-blue-600",children:"Nous analysons vos r\xe9ponses pour vous proposer des recommandations adapt\xe9es \xe0 vos besoins, objectifs et pr\xe9f\xe9rences. Votre parcours IKIGAI sera enti\xe8rement personnalis\xe9 pour maximiser votre bien-\xeatre et votre d\xe9veloppement personnel."})]}),(0,yn.jsx)("div",{className:"h-8 mb-4 relative",children:(0,yn.jsx)(Mn.N,{mode:"wait",children:(0,yn.jsxs)(xn.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"text-base font-medium flex items-center justify-center text-blue-600 absolute inset-0",children:[(0,yn.jsx)(xn.P.span,{className:"mr-2 text-xl",animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:1,repeat:3},children:h[o].icon}),h[o].text]},o)})}),(0,yn.jsx)("div",{className:"w-full h-3 bg-gray-100 rounded-full mb-4 overflow-hidden shadow-inner",children:(0,yn.jsx)(xn.P.div,{className:"h-full rounded-full relative",style:{background:"linear-gradient(90deg, #6366f1, #8b5cf6, #ec4899)",backgroundSize:"200% 100%",width:`${s}%`},animate:{backgroundPosition:["0% 0%","100% 0%"],width:`${s}%`},transition:{backgroundPosition:{duration:3,repeat:1/0,repeatType:"reverse"},width:{duration:.5,ease:"easeOut"}},children:(0,yn.jsx)(xn.P.div,{className:"absolute top-0 h-full w-5 bg-white",style:{filter:"blur(6px)",opacity:.5,left:"100%"},animate:{x:[-40,0]},transition:{duration:.6,ease:"easeInOut",repeat:1/0,repeatDelay:1}})})}),(0,yn.jsxs)(xn.P.div,{className:"text-base font-medium",style:{background:"linear-gradient(90deg, #6366f1, #8b5cf6, #ec4899)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},animate:{scale:100===s?[1,1.2,1]:1},transition:{duration:.5},children:[s,"% compl\xe9t\xe9"]}),(0,yn.jsx)(Mn.N,{children:l&&(0,yn.jsxs)(xn.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 text-sm font-medium text-red-500 bg-red-50 p-3 rounded-lg",children:[(0,yn.jsx)("span",{className:"mr-2",children:"\u26a0\ufe0f"}),l]})})]}),(0,yn.jsx)("div",{className:"flex justify-center mt-6 mb-4 relative z-10",children:(0,yn.jsx)(xn.P.div,{animate:{rotate:[0,180]},transition:{duration:10,repeat:1/0,ease:"linear"},className:"relative w-12 h-12",children:[...Array(6)].map(((e,t)=>(0,yn.jsx)(xn.P.div,{className:"absolute top-1/2 left-1/2",initial:{x:"-50%",y:"-50%"},animate:{x:"-50%",y:"-50%",rotate:60*t+[0,40,0]},transition:{rotate:{duration:4,repeat:1/0,repeatType:"mirror",delay:.2*t}},children:(0,yn.jsx)(xn.P.div,{className:"w-2 h-2 rounded-full",style:{backgroundColor:`hsl(${60*t%360}, 80%, 60%)`,transformOrigin:"center center",y:"-20px"},animate:{opacity:[.2,1,.2],scale:[.8,1.5,.8]},transition:{duration:2,repeat:1/0,delay:.2*t}})},t)))})})]})]})};const lr=function(){const[t,n]=(0,e.useState)(null),[r,s]=(0,e.useState)([]),[i,o]=(0,e.useState)([]),[a,l]=(0,e.useState)([]),[c,u]=(0,e.useState)([]),[d,h]=(0,e.useState)({notifications:!0,sounds:!0,darkMode:!1,dataPrivacy:"standard",language:"fr",dailyReminders:!1,meditationSounds:!1}),[p,f]=(0,e.useState)(null),[m,g]=(0,e.useState)(!1),[v,y]=(0,e.useState)(!1),[b,x]=(0,e.useState)(!1),[w,E]=(0,e.useState)(!1),[S,_]=(0,e.useState)(null),[k,j]=(0,e.useState)(!0);(0,e.useEffect)((()=>{(async()=>{try{var e;const t=vn.content.getAllIslands(),r=vn.content.getAllChallenges(),i=vn.content.getAllExercises(),a=vn.content.getAllModules();s(t),o(r),l(i),u(a);const c=await vn.auth.isAuthenticated(),p=await vn.progress.getProgress();n(p);const f=await vn.progress.getUserSettings();f?(h(f),f.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")):d.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const m=window.location.hash&&(window.location.hash.includes("access_token")||window.location.hash.includes("error"));let v;if(m&&(console.log("D\xe9tection d'un retour d'authentification OAuth"),window.history.replaceState(null,document.title,window.location.pathname)),null!==localStorage.getItem("onboardingCompleted")?(v="true"===localStorage.getItem("onboardingCompleted"),console.log("Utilisation de la valeur d'onboarding depuis localStorage:",v)):(v=p.moduleResponses&&p.moduleResponses.onboarding&&p.moduleResponses.onboarding.completedAt,console.log("Utilisation de la valeur d'onboarding depuis les donn\xe9es de progression:",v)),console.log("\xc9tat onboarding:",v?"Compl\xe9t\xe9":"Non compl\xe9t\xe9"),console.log("Donn\xe9es onboarding:",null===(e=p.moduleResponses)||void 0===e?void 0:e.onboarding),c){if(console.log("Utilisateur authentifi\xe9"),m){const e="false"===localStorage.getItem("onboardingCompleted"),t="false"===sessionStorage.getItem("onboardingCompleted"),n=document.cookie.includes("onboardingRequired=true");if(console.log("\xc9tat onboarding apr\xe8s OAuth - localStorage:",e),console.log("\xc9tat onboarding apr\xe8s OAuth - sessionStorage:",t),console.log("\xc9tat onboarding apr\xe8s OAuth - cookie:",n),e||t||n)return console.log("Utilisateur authentifi\xe9 via Google - Redirection vers l'onboarding"),g(!1),y(!1),x(!0),localStorage.removeItem("onboardingCompleted"),sessionStorage.removeItem("onboardingCompleted"),document.cookie="onboardingRequired=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",void j(!1)}v?(g(!1),y(!1),x(!1),console.log("Affichage de la page principale - Onboarding d\xe9j\xe0 compl\xe9t\xe9")):(x(!0),g(!1),y(!1),console.log("Affichage de l'onboarding - Onboarding non compl\xe9t\xe9"))}else console.log("Utilisateur non authentifi\xe9"),v?(y(!0),g(!1),x(!1),console.log("Affichage de la page de connexion - Onboarding d\xe9j\xe0 compl\xe9t\xe9")):(g(!0),y(!1),x(!1),console.log("Affichage de la page d'accueil - Nouvel utilisateur"));localStorage.removeItem("onboardingCompleted")}catch(t){console.error("Erreur lors de l'initialisation:",t)}finally{j(!1)}})()}),[]);const C=async(e,t)=>{try{const r=await vn.progress.completeModule(e,t);n(r)}catch(r){console.error("Erreur lors de la compl\xe9tion du module:",r)}},N=async e=>{try{console.log("App: Compl\xe9tion de l'onboarding avec r\xe9ponses:",e);const t={...e,completedAt:e.completedAt||(new Date).toISOString()};g(!1),y(!1),x(!1),f(null),j(!1),E(!0),console.log("Activation de la page d'analyse d'onboarding"),_(t),localStorage.setItem("onboardingCompleted","true"),console.log("Activation de la page d'analyse compl\xe9t\xe9e. \xc9tat:",{showOnboardingAnalysis:!0,showOnboarding:!1,showSignup:!1,showWelcome:!1,isLoading:!1,responsesStored:!!t})}catch(t){console.error("Erreur lors de la compl\xe9tion de l'onboarding:",t),x(!1),E(!1),j(!1)}},T=async e=>{try{console.log("App: Analyse termin\xe9e pour les r\xe9ponses:",e);const s={...t};s.totalPoints=(s.totalPoints||0)+200,s.moduleResponses||(s.moduleResponses={}),s.moduleResponses.onboarding||(s.moduleResponses.onboarding={}),s.moduleResponses.onboarding={...e,completedAt:e.completedAt||(new Date).toISOString()};try{await vn.progress.saveProgress(s),n(s)}catch(r){console.warn("Erreur lors de la sauvegarde de la progression:",r)}E(!1),_(null),g(!1),y(!1),x(!1),setTimeout((()=>{console.log("Transition vers la page principale termin\xe9e")}),100)}catch(s){console.error("Erreur lors de la finalisation de l'analyse:",s),E(!1),_(null),g(!1),y(!1),x(!1)}};return k?(0,yn.jsxs)("div",{className:"flex items-center justify-center h-screen flex-col bg-gray-50",children:[(0,yn.jsxs)("div",{className:"flex items-center",children:[(0,yn.jsx)("div",{className:"flex items-center justify-center bg-gradient-to-br from-green-400 to-blue-500 rounded-full w-9 h-9 text-white",children:(0,yn.jsx)("span",{className:"text-xl",children:"\ud83e\udde0"})}),(0,yn.jsx)("span",{className:"ml-2 text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-green-500 to-blue-500",children:"IKIGAI"})]}),(0,yn.jsxs)("div",{className:"mt-8 relative w-16 h-16",children:[(0,yn.jsx)("div",{className:"absolute top-0 left-0 w-full h-full rounded-full border-4 border-gray-200"}),(0,yn.jsx)("div",{className:"absolute top-0 left-0 w-full h-full rounded-full border-4 border-t-transparent border-l-transparent animate-spin border-blue-500"})]}),(0,yn.jsx)("span",{className:"mt-4 text-gray-600",children:"Chargement..."})]}):w?(console.log("Affichage de la page d'analyse des r\xe9ponses:",S),(0,yn.jsx)(ar,{responses:S||{},onAnalysisComplete:T})):p?(0,yn.jsx)(Yn,{island:p,onReturn:()=>f(null),globalProgress:t,onCompleteModule:C,modules:c}):b?(0,yn.jsx)(or,{onComplete:N,onCancel:()=>{x(!1),y(!0)}}):v?(0,yn.jsx)(Xn,{onComplete:async()=>{var e;const t=await vn.progress.getProgress();let n="true"===localStorage.getItem("onboardingCompleted");null===localStorage.getItem("onboardingCompleted")&&(n=t.moduleResponses&&t.moduleResponses.onboarding&&t.moduleResponses.onboarding.completedAt),localStorage.removeItem("onboardingCompleted"),console.log("Apr\xe8s connexion - \xc9tat onboarding:",n?"Compl\xe9t\xe9":"Non compl\xe9t\xe9"),console.log("Donn\xe9es onboarding:",null===(e=t.moduleResponses)||void 0===e?void 0:e.onboarding),y(!1),t&&Object.keys(t).length>0?n?(x(!1),console.log("Redirection vers la page principale - Onboarding d\xe9j\xe0 compl\xe9t\xe9")):(x(!0),console.log("Redirection vers l'onboarding - Onboarding non compl\xe9t\xe9")):(x(!0),console.log("Redirection vers l'onboarding - Donn\xe9es de progression indisponibles")),localStorage.removeItem("onboardingCompleted")},onCancel:()=>{y(!1),g(!0)}}):m?(0,yn.jsx)(En,{onStart:()=>{g(!1),y(!0)},onSignIn:()=>{g(!1),y(!0),localStorage.setItem("isReconnecting","true")}}):(0,yn.jsx)("div",{className:"App "+(d.darkMode?"dark":""),children:(0,yn.jsx)(zn,{progress:t,islands:r,challenges:i,exercises:a,onSelectIsland:f,onCompleteChallenge:async e=>{try{const t=await vn.progress.completeChallenge(e);n(t)}catch(t){console.error("Erreur lors de la compl\xe9tion du d\xe9fi:",t)}},onLogout:async()=>{try{await vn.auth.signOut(),await vn.progress.getProgress(),y(!0),x(!1)}catch(e){console.error("Erreur lors de la d\xe9connexion:",e),alert("Une erreur est survenue lors de la d\xe9connexion.")}},userSettings:d,onUpdateSettings:e=>{h(e),e.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}})})},cr=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:s,getLCP:i,getTTFB:o}=t;n(e),r(e),s(e),i(e),o(e)}))};window.global=window,window.process={env:{}},n.g.process={env:{}},n.g.Buffer=n.g.Buffer||n(6382).Buffer,"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/service-worker.js").then((e=>{console.log("Service Worker enregistr\xe9 avec succ\xe8s:",e.scope)})).catch((e=>{console.log("\xc9chec de l'enregistrement du Service Worker:",e)}))}));t.createRoot(document.getElementById("root")).render((0,yn.jsx)(e.StrictMode,{children:(0,yn.jsx)(lr,{})})),cr()})()})();
//# sourceMappingURL=main.35917f54.js.map